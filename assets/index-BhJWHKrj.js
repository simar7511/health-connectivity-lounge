function tk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var PW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oy(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yS={exports:{}},wg={},wS={exports:{}},Ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fh=Symbol.for("react.element"),nk=Symbol.for("react.portal"),rk=Symbol.for("react.fragment"),ik=Symbol.for("react.strict_mode"),ok=Symbol.for("react.profiler"),sk=Symbol.for("react.provider"),ak=Symbol.for("react.context"),lk=Symbol.for("react.forward_ref"),ck=Symbol.for("react.suspense"),uk=Symbol.for("react.memo"),dk=Symbol.for("react.lazy"),Lw=Symbol.iterator;function fk(t){return t===null||typeof t!="object"?null:(t=Lw&&t[Lw]||t["@@iterator"],typeof t=="function"?t:null)}var bS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_S=Object.assign,xS={};function gd(t,e,n){this.props=t,this.context=e,this.refs=xS,this.updater=n||bS}gd.prototype.isReactComponent={};gd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function SS(){}SS.prototype=gd.prototype;function Dy(t,e,n){this.props=t,this.context=e,this.refs=xS,this.updater=n||bS}var My=Dy.prototype=new SS;My.constructor=Dy;_S(My,gd.prototype);My.isPureReactComponent=!0;var Rw=Array.isArray,NS=Object.prototype.hasOwnProperty,jy={current:null},ES={key:!0,ref:!0,__self:!0,__source:!0};function AS(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)NS.call(e,r)&&!ES.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:fh,type:t,key:o,ref:s,props:i,_owner:jy.current}}function hk(t,e){return{$$typeof:fh,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fy(t){return typeof t=="object"&&t!==null&&t.$$typeof===fh}function pk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ow=/\/+/g;function Iv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pk(""+t.key):e.toString(36)}function Vp(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case fh:case nk:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Iv(s,0):r,Rw(i)?(n="",t!=null&&(n=t.replace(Ow,"$&/")+"/"),Vp(i,e,n,"",function(c){return c})):i!=null&&(Fy(i)&&(i=hk(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Ow,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Rw(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+Iv(o,a);s+=Vp(o,e,n,l,i)}else if(l=fk(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+Iv(o,a++),s+=Vp(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function op(t,e,n){if(t==null)return t;var r=[],i=0;return Vp(t,r,"","",function(o){return e.call(n,o,i++)}),r}function mk(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Qr={current:null},Bp={transition:null},gk={ReactCurrentDispatcher:Qr,ReactCurrentBatchConfig:Bp,ReactCurrentOwner:jy};function CS(){throw Error("act(...) is not supported in production builds of React.")}Ct.Children={map:op,forEach:function(t,e,n){op(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return op(t,function(){e++}),e},toArray:function(t){return op(t,function(e){return e})||[]},only:function(t){if(!Fy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ct.Component=gd;Ct.Fragment=rk;Ct.Profiler=ok;Ct.PureComponent=Dy;Ct.StrictMode=ik;Ct.Suspense=ck;Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gk;Ct.act=CS;Ct.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=_S({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=jy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)NS.call(e,l)&&!ES.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:fh,type:t.type,key:i,ref:o,props:r,_owner:s}};Ct.createContext=function(t){return t={$$typeof:ak,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sk,_context:t},t.Consumer=t};Ct.createElement=AS;Ct.createFactory=function(t){var e=AS.bind(null,t);return e.type=t,e};Ct.createRef=function(){return{current:null}};Ct.forwardRef=function(t){return{$$typeof:lk,render:t}};Ct.isValidElement=Fy;Ct.lazy=function(t){return{$$typeof:dk,_payload:{_status:-1,_result:t},_init:mk}};Ct.memo=function(t,e){return{$$typeof:uk,type:t,compare:e===void 0?null:e}};Ct.startTransition=function(t){var e=Bp.transition;Bp.transition={};try{t()}finally{Bp.transition=e}};Ct.unstable_act=CS;Ct.useCallback=function(t,e){return Qr.current.useCallback(t,e)};Ct.useContext=function(t){return Qr.current.useContext(t)};Ct.useDebugValue=function(){};Ct.useDeferredValue=function(t){return Qr.current.useDeferredValue(t)};Ct.useEffect=function(t,e){return Qr.current.useEffect(t,e)};Ct.useId=function(){return Qr.current.useId()};Ct.useImperativeHandle=function(t,e,n){return Qr.current.useImperativeHandle(t,e,n)};Ct.useInsertionEffect=function(t,e){return Qr.current.useInsertionEffect(t,e)};Ct.useLayoutEffect=function(t,e){return Qr.current.useLayoutEffect(t,e)};Ct.useMemo=function(t,e){return Qr.current.useMemo(t,e)};Ct.useReducer=function(t,e,n){return Qr.current.useReducer(t,e,n)};Ct.useRef=function(t){return Qr.current.useRef(t)};Ct.useState=function(t){return Qr.current.useState(t)};Ct.useSyncExternalStore=function(t,e,n){return Qr.current.useSyncExternalStore(t,e,n)};Ct.useTransition=function(){return Qr.current.useTransition()};Ct.version="18.3.1";wS.exports=Ct;var O=wS.exports;const Ms=Oy(O),PS=tk({__proto__:null,default:Ms},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vk=O,yk=Symbol.for("react.element"),wk=Symbol.for("react.fragment"),bk=Object.prototype.hasOwnProperty,_k=vk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,xk={key:!0,ref:!0,__self:!0,__source:!0};function TS(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)bk.call(e,r)&&!xk.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yk,type:t,key:o,ref:s,props:i,_owner:_k.current}}wg.Fragment=wk;wg.jsx=TS;wg.jsxs=TS;yS.exports=wg;var v=yS.exports,kS={exports:{}},Mi={},IS={exports:{}},LS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,K){var Q=G.length;G.push(K);e:for(;0<Q;){var ce=Q-1>>>1,M=G[ce];if(0<i(M,K))G[ce]=K,G[Q]=M,Q=ce;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var K=G[0],Q=G.pop();if(Q!==K){G[0]=Q;e:for(var ce=0,M=G.length,H=M>>>1;ce<H;){var J=2*(ce+1)-1,ie=G[J],se=J+1,oe=G[se];if(0>i(ie,Q))se<M&&0>i(oe,ie)?(G[ce]=oe,G[se]=Q,ce=se):(G[ce]=ie,G[J]=Q,ce=J);else if(se<M&&0>i(oe,Q))G[ce]=oe,G[se]=Q,ce=se;else break e}}return K}function i(G,K){var Q=G.sortIndex-K.sortIndex;return Q!==0?Q:G.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],f=1,h=null,g=3,p=!1,S=!1,b=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(G){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=G)r(c),K.sortIndex=K.expirationTime,e(l,K);else break;K=n(c)}}function j(G){if(b=!1,A(G),!S)if(n(l)!==null)S=!0,le(q);else{var K=n(c);K!==null&&re(j,K.startTime-G)}}function q(G,K){S=!1,b&&(b=!1,w(P),P=-1),p=!0;var Q=g;try{for(A(K),h=n(l);h!==null&&(!(h.expirationTime>K)||G&&!T());){var ce=h.callback;if(typeof ce=="function"){h.callback=null,g=h.priorityLevel;var M=ce(h.expirationTime<=K);K=t.unstable_now(),typeof M=="function"?h.callback=M:h===n(l)&&r(l),A(K)}else r(l);h=n(l)}if(h!==null)var H=!0;else{var J=n(c);J!==null&&re(j,J.startTime-K),H=!1}return H}finally{h=null,g=Q,p=!1}}var Z=!1,R=null,P=-1,D=5,F=-1;function T(){return!(t.unstable_now()-F<D)}function C(){if(R!==null){var G=t.unstable_now();F=G;var K=!0;try{K=R(!0,G)}finally{K?L():(Z=!1,R=null)}}else Z=!1}var L;if(typeof _=="function")L=function(){_(C)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,fe=X.port2;X.port1.onmessage=C,L=function(){fe.postMessage(null)}}else L=function(){E(C,0)};function le(G){R=G,Z||(Z=!0,L())}function re(G,K){P=E(function(){G(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){S||p||(S=!0,le(q))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var Q=g;g=K;try{return G()}finally{g=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,K){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var Q=g;g=G;try{return K()}finally{g=Q}},t.unstable_scheduleCallback=function(G,K,Q){var ce=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ce+Q:ce):Q=ce,G){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Q+M,G={id:f++,callback:K,priorityLevel:G,startTime:Q,expirationTime:M,sortIndex:-1},Q>ce?(G.sortIndex=Q,e(c,G),n(l)===null&&G===n(c)&&(b?(w(P),P=-1):b=!0,re(j,Q-ce))):(G.sortIndex=M,e(l,G),S||p||(S=!0,le(q))),G},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(G){var K=g;return function(){var Q=g;g=K;try{return G.apply(this,arguments)}finally{g=Q}}}})(LS);IS.exports=LS;var Sk=IS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nk=O,Oi=Sk;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RS=new Set,Df={};function Ic(t,e){Zu(t,e),Zu(t+"Capture",e)}function Zu(t,e){for(Df[t]=e,t=0;t<e.length;t++)RS.add(e[t])}var Gs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),q1=Object.prototype.hasOwnProperty,Ek=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dw={},Mw={};function Ak(t){return q1.call(Mw,t)?!0:q1.call(Dw,t)?!1:Ek.test(t)?Mw[t]=!0:(Dw[t]=!0,!1)}function Ck(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Pk(t,e,n,r){if(e===null||typeof e>"u"||Ck(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Jr(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var br={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){br[t]=new Jr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];br[e]=new Jr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){br[t]=new Jr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){br[t]=new Jr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){br[t]=new Jr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){br[t]=new Jr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){br[t]=new Jr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){br[t]=new Jr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){br[t]=new Jr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vy=/[\-:]([a-z])/g;function By(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vy,By);br[e]=new Jr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vy,By);br[e]=new Jr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vy,By);br[e]=new Jr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){br[t]=new Jr(t,1,!1,t.toLowerCase(),null,!1,!1)});br.xlinkHref=new Jr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){br[t]=new Jr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Uy(t,e,n,r){var i=br.hasOwnProperty(e)?br[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Pk(e,n,i,r)&&(n=null),r||i===null?Ak(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var na=Nk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sp=Symbol.for("react.element"),bu=Symbol.for("react.portal"),_u=Symbol.for("react.fragment"),zy=Symbol.for("react.strict_mode"),$1=Symbol.for("react.profiler"),OS=Symbol.for("react.provider"),DS=Symbol.for("react.context"),qy=Symbol.for("react.forward_ref"),W1=Symbol.for("react.suspense"),H1=Symbol.for("react.suspense_list"),$y=Symbol.for("react.memo"),za=Symbol.for("react.lazy"),MS=Symbol.for("react.offscreen"),jw=Symbol.iterator;function Kd(t){return t===null||typeof t!="object"?null:(t=jw&&t[jw]||t["@@iterator"],typeof t=="function"?t:null)}var En=Object.assign,Lv;function df(t){if(Lv===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Lv=e&&e[1]||""}return`
`+Lv+t}var Rv=!1;function Ov(t,e){if(!t||Rv)return"";Rv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Rv=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?df(t):""}function Tk(t){switch(t.tag){case 5:return df(t.type);case 16:return df("Lazy");case 13:return df("Suspense");case 19:return df("SuspenseList");case 0:case 2:case 15:return t=Ov(t.type,!1),t;case 11:return t=Ov(t.type.render,!1),t;case 1:return t=Ov(t.type,!0),t;default:return""}}function G1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _u:return"Fragment";case bu:return"Portal";case $1:return"Profiler";case zy:return"StrictMode";case W1:return"Suspense";case H1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case DS:return(t.displayName||"Context")+".Consumer";case OS:return(t._context.displayName||"Context")+".Provider";case qy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $y:return e=t.displayName||null,e!==null?e:G1(t.type)||"Memo";case za:e=t._payload,t=t._init;try{return G1(t(e))}catch{}}return null}function kk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G1(e);case 8:return e===zy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ml(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ik(t){var e=jS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ap(t){t._valueTracker||(t._valueTracker=Ik(t))}function FS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Y1(t,e){var n=e.checked;return En({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Fw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ml(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function VS(t,e){e=e.checked,e!=null&&Uy(t,"checked",e,!1)}function K1(t,e){VS(t,e);var n=ml(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?X1(t,e.type,n):e.hasOwnProperty("defaultValue")&&X1(t,e.type,ml(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function X1(t,e,n){(e!=="number"||mm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ff=Array.isArray;function Du(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ml(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Q1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return En({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(je(92));if(ff(n)){if(1<n.length)throw Error(je(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ml(n)}}function BS(t,e){var n=ml(e.value),r=ml(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Uw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function US(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function J1(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?US(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var lp,zS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(lp=lp||document.createElement("div"),lp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=lp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Mf(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var yf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lk=["Webkit","ms","Moz","O"];Object.keys(yf).forEach(function(t){Lk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),yf[e]=yf[t]})});function qS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||yf.hasOwnProperty(t)&&yf[t]?(""+e).trim():e+"px"}function $S(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=qS(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Rk=En({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Z1(t,e){if(e){if(Rk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function e0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t0=null;function Wy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var n0=null,Mu=null,ju=null;function zw(t){if(t=mh(t)){if(typeof n0!="function")throw Error(je(280));var e=t.stateNode;e&&(e=Ng(e),n0(t.stateNode,t.type,e))}}function WS(t){Mu?ju?ju.push(t):ju=[t]:Mu=t}function HS(){if(Mu){var t=Mu,e=ju;if(ju=Mu=null,zw(t),e)for(t=0;t<e.length;t++)zw(e[t])}}function GS(t,e){return t(e)}function YS(){}var Dv=!1;function KS(t,e,n){if(Dv)return t(e,n);Dv=!0;try{return GS(t,e,n)}finally{Dv=!1,(Mu!==null||ju!==null)&&(YS(),HS())}}function jf(t,e){var n=t.stateNode;if(n===null)return null;var r=Ng(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(je(231,e,typeof n));return n}var r0=!1;if(Gs)try{var Xd={};Object.defineProperty(Xd,"passive",{get:function(){r0=!0}}),window.addEventListener("test",Xd,Xd),window.removeEventListener("test",Xd,Xd)}catch{r0=!1}function Ok(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var wf=!1,gm=null,vm=!1,i0=null,Dk={onError:function(t){wf=!0,gm=t}};function Mk(t,e,n,r,i,o,s,a,l){wf=!1,gm=null,Ok.apply(Dk,arguments)}function jk(t,e,n,r,i,o,s,a,l){if(Mk.apply(this,arguments),wf){if(wf){var c=gm;wf=!1,gm=null}else throw Error(je(198));vm||(vm=!0,i0=c)}}function Lc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qw(t){if(Lc(t)!==t)throw Error(je(188))}function Fk(t){var e=t.alternate;if(!e){if(e=Lc(t),e===null)throw Error(je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qw(i),t;if(o===r)return qw(i),e;o=o.sibling}throw Error(je(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(je(189))}}if(n.alternate!==r)throw Error(je(190))}if(n.tag!==3)throw Error(je(188));return n.stateNode.current===n?t:e}function QS(t){return t=Fk(t),t!==null?JS(t):null}function JS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=JS(t);if(e!==null)return e;t=t.sibling}return null}var ZS=Oi.unstable_scheduleCallback,$w=Oi.unstable_cancelCallback,Vk=Oi.unstable_shouldYield,Bk=Oi.unstable_requestPaint,jn=Oi.unstable_now,Uk=Oi.unstable_getCurrentPriorityLevel,Hy=Oi.unstable_ImmediatePriority,e4=Oi.unstable_UserBlockingPriority,ym=Oi.unstable_NormalPriority,zk=Oi.unstable_LowPriority,t4=Oi.unstable_IdlePriority,bg=null,ns=null;function qk(t){if(ns&&typeof ns.onCommitFiberRoot=="function")try{ns.onCommitFiberRoot(bg,t,void 0,(t.current.flags&128)===128)}catch{}}var No=Math.clz32?Math.clz32:Hk,$k=Math.log,Wk=Math.LN2;function Hk(t){return t>>>=0,t===0?32:31-($k(t)/Wk|0)|0}var cp=64,up=4194304;function hf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wm(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=hf(a):(o&=s,o!==0&&(r=hf(o)))}else s=n&~i,s!==0?r=hf(s):o!==0&&(r=hf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-No(e),i=1<<n,r|=t[n],e&=~i;return r}function Gk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-No(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=Gk(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function o0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function n4(){var t=cp;return cp<<=1,!(cp&4194240)&&(cp=64),t}function Mv(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hh(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-No(e),t[e]=n}function Kk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-No(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Gy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-No(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Zt=0;function r4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var i4,Yy,o4,s4,a4,s0=!1,dp=[],el=null,tl=null,nl=null,Ff=new Map,Vf=new Map,$a=[],Xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ww(t,e){switch(t){case"focusin":case"focusout":el=null;break;case"dragenter":case"dragleave":tl=null;break;case"mouseover":case"mouseout":nl=null;break;case"pointerover":case"pointerout":Ff.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vf.delete(e.pointerId)}}function Qd(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=mh(e),e!==null&&Yy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Qk(t,e,n,r,i){switch(e){case"focusin":return el=Qd(el,t,e,n,r,i),!0;case"dragenter":return tl=Qd(tl,t,e,n,r,i),!0;case"mouseover":return nl=Qd(nl,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ff.set(o,Qd(Ff.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Vf.set(o,Qd(Vf.get(o)||null,t,e,n,r,i)),!0}return!1}function l4(t){var e=sc(t.target);if(e!==null){var n=Lc(e);if(n!==null){if(e=n.tag,e===13){if(e=XS(n),e!==null){t.blockedOn=e,a4(t.priority,function(){o4(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Up(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=a0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);t0=r,n.target.dispatchEvent(r),t0=null}else return e=mh(n),e!==null&&Yy(e),t.blockedOn=n,!1;e.shift()}return!0}function Hw(t,e,n){Up(t)&&n.delete(e)}function Jk(){s0=!1,el!==null&&Up(el)&&(el=null),tl!==null&&Up(tl)&&(tl=null),nl!==null&&Up(nl)&&(nl=null),Ff.forEach(Hw),Vf.forEach(Hw)}function Jd(t,e){t.blockedOn===e&&(t.blockedOn=null,s0||(s0=!0,Oi.unstable_scheduleCallback(Oi.unstable_NormalPriority,Jk)))}function Bf(t){function e(i){return Jd(i,t)}if(0<dp.length){Jd(dp[0],t);for(var n=1;n<dp.length;n++){var r=dp[n];r.blockedOn===t&&(r.blockedOn=null)}}for(el!==null&&Jd(el,t),tl!==null&&Jd(tl,t),nl!==null&&Jd(nl,t),Ff.forEach(e),Vf.forEach(e),n=0;n<$a.length;n++)r=$a[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<$a.length&&(n=$a[0],n.blockedOn===null);)l4(n),n.blockedOn===null&&$a.shift()}var Fu=na.ReactCurrentBatchConfig,bm=!0;function Zk(t,e,n,r){var i=Zt,o=Fu.transition;Fu.transition=null;try{Zt=1,Ky(t,e,n,r)}finally{Zt=i,Fu.transition=o}}function eI(t,e,n,r){var i=Zt,o=Fu.transition;Fu.transition=null;try{Zt=4,Ky(t,e,n,r)}finally{Zt=i,Fu.transition=o}}function Ky(t,e,n,r){if(bm){var i=a0(t,e,n,r);if(i===null)Hv(t,e,r,_m,n),Ww(t,r);else if(Qk(i,t,e,n,r))r.stopPropagation();else if(Ww(t,r),e&4&&-1<Xk.indexOf(t)){for(;i!==null;){var o=mh(i);if(o!==null&&i4(o),o=a0(t,e,n,r),o===null&&Hv(t,e,r,_m,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Hv(t,e,r,null,n)}}var _m=null;function a0(t,e,n,r){if(_m=null,t=Wy(r),t=sc(t),t!==null)if(e=Lc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _m=t,null}function c4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Uk()){case Hy:return 1;case e4:return 4;case ym:case zk:return 16;case t4:return 536870912;default:return 16}default:return 16}}var Xa=null,Xy=null,zp=null;function u4(){if(zp)return zp;var t,e=Xy,n=e.length,r,i="value"in Xa?Xa.value:Xa.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return zp=i.slice(t,1<r?1-r:void 0)}function qp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fp(){return!0}function Gw(){return!1}function ji(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?fp:Gw,this.isPropagationStopped=Gw,this}return En(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fp)},persist:function(){},isPersistent:fp}),e}var vd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qy=ji(vd),ph=En({},vd,{view:0,detail:0}),tI=ji(ph),jv,Fv,Zd,_g=En({},ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zd&&(Zd&&t.type==="mousemove"?(jv=t.screenX-Zd.screenX,Fv=t.screenY-Zd.screenY):Fv=jv=0,Zd=t),jv)},movementY:function(t){return"movementY"in t?t.movementY:Fv}}),Yw=ji(_g),nI=En({},_g,{dataTransfer:0}),rI=ji(nI),iI=En({},ph,{relatedTarget:0}),Vv=ji(iI),oI=En({},vd,{animationName:0,elapsedTime:0,pseudoElement:0}),sI=ji(oI),aI=En({},vd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lI=ji(aI),cI=En({},vd,{data:0}),Kw=ji(cI),uI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fI[t])?!!e[t]:!1}function Jy(){return hI}var pI=En({},ph,{key:function(t){if(t.key){var e=uI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?dI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jy,charCode:function(t){return t.type==="keypress"?qp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mI=ji(pI),gI=En({},_g,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xw=ji(gI),vI=En({},ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jy}),yI=ji(vI),wI=En({},vd,{propertyName:0,elapsedTime:0,pseudoElement:0}),bI=ji(wI),_I=En({},_g,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xI=ji(_I),SI=[9,13,27,32],Zy=Gs&&"CompositionEvent"in window,bf=null;Gs&&"documentMode"in document&&(bf=document.documentMode);var NI=Gs&&"TextEvent"in window&&!bf,d4=Gs&&(!Zy||bf&&8<bf&&11>=bf),Qw=" ",Jw=!1;function f4(t,e){switch(t){case"keyup":return SI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function h4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xu=!1;function EI(t,e){switch(t){case"compositionend":return h4(e);case"keypress":return e.which!==32?null:(Jw=!0,Qw);case"textInput":return t=e.data,t===Qw&&Jw?null:t;default:return null}}function AI(t,e){if(xu)return t==="compositionend"||!Zy&&f4(t,e)?(t=u4(),zp=Xy=Xa=null,xu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return d4&&e.locale!=="ko"?null:e.data;default:return null}}var CI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CI[t.type]:e==="textarea"}function p4(t,e,n,r){WS(r),e=xm(e,"onChange"),0<e.length&&(n=new Qy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _f=null,Uf=null;function PI(t){E4(t,0)}function xg(t){var e=Eu(t);if(FS(e))return t}function TI(t,e){if(t==="change")return e}var m4=!1;if(Gs){var Bv;if(Gs){var Uv="oninput"in document;if(!Uv){var eb=document.createElement("div");eb.setAttribute("oninput","return;"),Uv=typeof eb.oninput=="function"}Bv=Uv}else Bv=!1;m4=Bv&&(!document.documentMode||9<document.documentMode)}function tb(){_f&&(_f.detachEvent("onpropertychange",g4),Uf=_f=null)}function g4(t){if(t.propertyName==="value"&&xg(Uf)){var e=[];p4(e,Uf,t,Wy(t)),KS(PI,e)}}function kI(t,e,n){t==="focusin"?(tb(),_f=e,Uf=n,_f.attachEvent("onpropertychange",g4)):t==="focusout"&&tb()}function II(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xg(Uf)}function LI(t,e){if(t==="click")return xg(e)}function RI(t,e){if(t==="input"||t==="change")return xg(e)}function OI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ao=typeof Object.is=="function"?Object.is:OI;function zf(t,e){if(Ao(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!q1.call(e,i)||!Ao(t[i],e[i]))return!1}return!0}function nb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rb(t,e){var n=nb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nb(n)}}function v4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?v4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function y4(){for(var t=window,e=mm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mm(t.document)}return e}function e2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DI(t){var e=y4(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&v4(n.ownerDocument.documentElement,n)){if(r!==null&&e2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=rb(n,o);var s=rb(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MI=Gs&&"documentMode"in document&&11>=document.documentMode,Su=null,l0=null,xf=null,c0=!1;function ib(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;c0||Su==null||Su!==mm(r)||(r=Su,"selectionStart"in r&&e2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xf&&zf(xf,r)||(xf=r,r=xm(l0,"onSelect"),0<r.length&&(e=new Qy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Su)))}function hp(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Nu={animationend:hp("Animation","AnimationEnd"),animationiteration:hp("Animation","AnimationIteration"),animationstart:hp("Animation","AnimationStart"),transitionend:hp("Transition","TransitionEnd")},zv={},w4={};Gs&&(w4=document.createElement("div").style,"AnimationEvent"in window||(delete Nu.animationend.animation,delete Nu.animationiteration.animation,delete Nu.animationstart.animation),"TransitionEvent"in window||delete Nu.transitionend.transition);function Sg(t){if(zv[t])return zv[t];if(!Nu[t])return t;var e=Nu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in w4)return zv[t]=e[n];return t}var b4=Sg("animationend"),_4=Sg("animationiteration"),x4=Sg("animationstart"),S4=Sg("transitionend"),N4=new Map,ob="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pl(t,e){N4.set(t,e),Ic(e,[t])}for(var qv=0;qv<ob.length;qv++){var $v=ob[qv],jI=$v.toLowerCase(),FI=$v[0].toUpperCase()+$v.slice(1);Pl(jI,"on"+FI)}Pl(b4,"onAnimationEnd");Pl(_4,"onAnimationIteration");Pl(x4,"onAnimationStart");Pl("dblclick","onDoubleClick");Pl("focusin","onFocus");Pl("focusout","onBlur");Pl(S4,"onTransitionEnd");Zu("onMouseEnter",["mouseout","mouseover"]);Zu("onMouseLeave",["mouseout","mouseover"]);Zu("onPointerEnter",["pointerout","pointerover"]);Zu("onPointerLeave",["pointerout","pointerover"]);Ic("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ic("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ic("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ic("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ic("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ic("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VI=new Set("cancel close invalid load scroll toggle".split(" ").concat(pf));function sb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,jk(r,e,void 0,t),t.currentTarget=null}function E4(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;sb(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;sb(i,a,c),o=l}}}if(vm)throw t=i0,vm=!1,i0=null,t}function yn(t,e){var n=e[p0];n===void 0&&(n=e[p0]=new Set);var r=t+"__bubble";n.has(r)||(A4(e,t,2,!1),n.add(r))}function Wv(t,e,n){var r=0;e&&(r|=4),A4(n,t,r,e)}var pp="_reactListening"+Math.random().toString(36).slice(2);function qf(t){if(!t[pp]){t[pp]=!0,RS.forEach(function(n){n!=="selectionchange"&&(VI.has(n)||Wv(n,!1,t),Wv(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[pp]||(e[pp]=!0,Wv("selectionchange",!1,e))}}function A4(t,e,n,r){switch(c4(e)){case 1:var i=Zk;break;case 4:i=eI;break;default:i=Ky}n=i.bind(null,e,n,t),i=void 0,!r0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hv(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=sc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}KS(function(){var c=o,f=Wy(n),h=[];e:{var g=N4.get(t);if(g!==void 0){var p=Qy,S=t;switch(t){case"keypress":if(qp(n)===0)break e;case"keydown":case"keyup":p=mI;break;case"focusin":S="focus",p=Vv;break;case"focusout":S="blur",p=Vv;break;case"beforeblur":case"afterblur":p=Vv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Yw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=rI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=yI;break;case b4:case _4:case x4:p=sI;break;case S4:p=bI;break;case"scroll":p=tI;break;case"wheel":p=xI;break;case"copy":case"cut":case"paste":p=lI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Xw}var b=(e&4)!==0,E=!b&&t==="scroll",w=b?g!==null?g+"Capture":null:g;b=[];for(var _=c,A;_!==null;){A=_;var j=A.stateNode;if(A.tag===5&&j!==null&&(A=j,w!==null&&(j=jf(_,w),j!=null&&b.push($f(_,j,A)))),E)break;_=_.return}0<b.length&&(g=new p(g,S,null,n,f),h.push({event:g,listeners:b}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",g&&n!==t0&&(S=n.relatedTarget||n.fromElement)&&(sc(S)||S[Ys]))break e;if((p||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,p?(S=n.relatedTarget||n.toElement,p=c,S=S?sc(S):null,S!==null&&(E=Lc(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(p=null,S=c),p!==S)){if(b=Yw,j="onMouseLeave",w="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(b=Xw,j="onPointerLeave",w="onPointerEnter",_="pointer"),E=p==null?g:Eu(p),A=S==null?g:Eu(S),g=new b(j,_+"leave",p,n,f),g.target=E,g.relatedTarget=A,j=null,sc(f)===c&&(b=new b(w,_+"enter",S,n,f),b.target=A,b.relatedTarget=E,j=b),E=j,p&&S)t:{for(b=p,w=S,_=0,A=b;A;A=cu(A))_++;for(A=0,j=w;j;j=cu(j))A++;for(;0<_-A;)b=cu(b),_--;for(;0<A-_;)w=cu(w),A--;for(;_--;){if(b===w||w!==null&&b===w.alternate)break t;b=cu(b),w=cu(w)}b=null}else b=null;p!==null&&ab(h,g,p,b,!1),S!==null&&E!==null&&ab(h,E,S,b,!0)}}e:{if(g=c?Eu(c):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var q=TI;else if(Zw(g))if(m4)q=RI;else{q=II;var Z=kI}else(p=g.nodeName)&&p.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(q=LI);if(q&&(q=q(t,c))){p4(h,q,n,f);break e}Z&&Z(t,g,c),t==="focusout"&&(Z=g._wrapperState)&&Z.controlled&&g.type==="number"&&X1(g,"number",g.value)}switch(Z=c?Eu(c):window,t){case"focusin":(Zw(Z)||Z.contentEditable==="true")&&(Su=Z,l0=c,xf=null);break;case"focusout":xf=l0=Su=null;break;case"mousedown":c0=!0;break;case"contextmenu":case"mouseup":case"dragend":c0=!1,ib(h,n,f);break;case"selectionchange":if(MI)break;case"keydown":case"keyup":ib(h,n,f)}var R;if(Zy)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else xu?f4(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(d4&&n.locale!=="ko"&&(xu||P!=="onCompositionStart"?P==="onCompositionEnd"&&xu&&(R=u4()):(Xa=f,Xy="value"in Xa?Xa.value:Xa.textContent,xu=!0)),Z=xm(c,P),0<Z.length&&(P=new Kw(P,t,null,n,f),h.push({event:P,listeners:Z}),R?P.data=R:(R=h4(n),R!==null&&(P.data=R)))),(R=NI?EI(t,n):AI(t,n))&&(c=xm(c,"onBeforeInput"),0<c.length&&(f=new Kw("onBeforeInput","beforeinput",null,n,f),h.push({event:f,listeners:c}),f.data=R))}E4(h,e)})}function $f(t,e,n){return{instance:t,listener:e,currentTarget:n}}function xm(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=jf(t,n),o!=null&&r.unshift($f(t,o,i)),o=jf(t,e),o!=null&&r.push($f(t,o,i))),t=t.return}return r}function cu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ab(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=jf(n,o),l!=null&&s.unshift($f(n,l,a))):i||(l=jf(n,o),l!=null&&s.push($f(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var BI=/\r\n?/g,UI=/\u0000|\uFFFD/g;function lb(t){return(typeof t=="string"?t:""+t).replace(BI,`
`).replace(UI,"")}function mp(t,e,n){if(e=lb(e),lb(t)!==e&&n)throw Error(je(425))}function Sm(){}var u0=null,d0=null;function f0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var h0=typeof setTimeout=="function"?setTimeout:void 0,zI=typeof clearTimeout=="function"?clearTimeout:void 0,cb=typeof Promise=="function"?Promise:void 0,qI=typeof queueMicrotask=="function"?queueMicrotask:typeof cb<"u"?function(t){return cb.resolve(null).then(t).catch($I)}:h0;function $I(t){setTimeout(function(){throw t})}function Gv(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bf(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bf(e)}function rl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ub(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yd=Math.random().toString(36).slice(2),Jo="__reactFiber$"+yd,Wf="__reactProps$"+yd,Ys="__reactContainer$"+yd,p0="__reactEvents$"+yd,WI="__reactListeners$"+yd,HI="__reactHandles$"+yd;function sc(t){var e=t[Jo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ys]||n[Jo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ub(t);t!==null;){if(n=t[Jo])return n;t=ub(t)}return e}t=n,n=t.parentNode}return null}function mh(t){return t=t[Jo]||t[Ys],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function Ng(t){return t[Wf]||null}var m0=[],Au=-1;function Tl(t){return{current:t}}function bn(t){0>Au||(t.current=m0[Au],m0[Au]=null,Au--)}function cn(t,e){Au++,m0[Au]=t.current,t.current=e}var gl={},Fr=Tl(gl),di=Tl(!1),mc=gl;function ed(t,e){var n=t.type.contextTypes;if(!n)return gl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function fi(t){return t=t.childContextTypes,t!=null}function Nm(){bn(di),bn(Fr)}function db(t,e,n){if(Fr.current!==gl)throw Error(je(168));cn(Fr,e),cn(di,n)}function C4(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(je(108,kk(t)||"Unknown",i));return En({},n,r)}function Em(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gl,mc=Fr.current,cn(Fr,t),cn(di,di.current),!0}function fb(t,e,n){var r=t.stateNode;if(!r)throw Error(je(169));n?(t=C4(t,e,mc),r.__reactInternalMemoizedMergedChildContext=t,bn(di),bn(Fr),cn(Fr,t)):bn(di),cn(di,n)}var Fs=null,Eg=!1,Yv=!1;function P4(t){Fs===null?Fs=[t]:Fs.push(t)}function GI(t){Eg=!0,P4(t)}function kl(){if(!Yv&&Fs!==null){Yv=!0;var t=0,e=Zt;try{var n=Fs;for(Zt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Fs=null,Eg=!1}catch(i){throw Fs!==null&&(Fs=Fs.slice(t+1)),ZS(Hy,kl),i}finally{Zt=e,Yv=!1}}return null}var Cu=[],Pu=0,Am=null,Cm=0,Hi=[],Gi=0,gc=null,Vs=1,Bs="";function ec(t,e){Cu[Pu++]=Cm,Cu[Pu++]=Am,Am=t,Cm=e}function T4(t,e,n){Hi[Gi++]=Vs,Hi[Gi++]=Bs,Hi[Gi++]=gc,gc=t;var r=Vs;t=Bs;var i=32-No(r)-1;r&=~(1<<i),n+=1;var o=32-No(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Vs=1<<32-No(e)+i|n<<i|r,Bs=o+t}else Vs=1<<o|n<<i|r,Bs=t}function t2(t){t.return!==null&&(ec(t,1),T4(t,1,0))}function n2(t){for(;t===Am;)Am=Cu[--Pu],Cu[Pu]=null,Cm=Cu[--Pu],Cu[Pu]=null;for(;t===gc;)gc=Hi[--Gi],Hi[Gi]=null,Bs=Hi[--Gi],Hi[Gi]=null,Vs=Hi[--Gi],Hi[Gi]=null}var Li=null,ki=null,xn=!1,wo=null;function k4(t,e){var n=Yi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hb(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Li=t,ki=rl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Li=t,ki=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gc!==null?{id:Vs,overflow:Bs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Yi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Li=t,ki=null,!0):!1;default:return!1}}function g0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function v0(t){if(xn){var e=ki;if(e){var n=e;if(!hb(t,e)){if(g0(t))throw Error(je(418));e=rl(n.nextSibling);var r=Li;e&&hb(t,e)?k4(r,n):(t.flags=t.flags&-4097|2,xn=!1,Li=t)}}else{if(g0(t))throw Error(je(418));t.flags=t.flags&-4097|2,xn=!1,Li=t}}}function pb(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Li=t}function gp(t){if(t!==Li)return!1;if(!xn)return pb(t),xn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!f0(t.type,t.memoizedProps)),e&&(e=ki)){if(g0(t))throw I4(),Error(je(418));for(;e;)k4(t,e),e=rl(e.nextSibling)}if(pb(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ki=rl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ki=null}}else ki=Li?rl(t.stateNode.nextSibling):null;return!0}function I4(){for(var t=ki;t;)t=rl(t.nextSibling)}function td(){ki=Li=null,xn=!1}function r2(t){wo===null?wo=[t]:wo.push(t)}var YI=na.ReactCurrentBatchConfig;function ef(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(je(309));var r=n.stateNode}if(!r)throw Error(je(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(je(284));if(!n._owner)throw Error(je(290,t))}return t}function vp(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mb(t){var e=t._init;return e(t._payload)}function L4(t){function e(w,_){if(t){var A=w.deletions;A===null?(w.deletions=[_],w.flags|=16):A.push(_)}}function n(w,_){if(!t)return null;for(;_!==null;)e(w,_),_=_.sibling;return null}function r(w,_){for(w=new Map;_!==null;)_.key!==null?w.set(_.key,_):w.set(_.index,_),_=_.sibling;return w}function i(w,_){return w=al(w,_),w.index=0,w.sibling=null,w}function o(w,_,A){return w.index=A,t?(A=w.alternate,A!==null?(A=A.index,A<_?(w.flags|=2,_):A):(w.flags|=2,_)):(w.flags|=1048576,_)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,_,A,j){return _===null||_.tag!==6?(_=t1(A,w.mode,j),_.return=w,_):(_=i(_,A),_.return=w,_)}function l(w,_,A,j){var q=A.type;return q===_u?f(w,_,A.props.children,j,A.key):_!==null&&(_.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===za&&mb(q)===_.type)?(j=i(_,A.props),j.ref=ef(w,_,A),j.return=w,j):(j=Xp(A.type,A.key,A.props,null,w.mode,j),j.ref=ef(w,_,A),j.return=w,j)}function c(w,_,A,j){return _===null||_.tag!==4||_.stateNode.containerInfo!==A.containerInfo||_.stateNode.implementation!==A.implementation?(_=n1(A,w.mode,j),_.return=w,_):(_=i(_,A.children||[]),_.return=w,_)}function f(w,_,A,j,q){return _===null||_.tag!==7?(_=dc(A,w.mode,j,q),_.return=w,_):(_=i(_,A),_.return=w,_)}function h(w,_,A){if(typeof _=="string"&&_!==""||typeof _=="number")return _=t1(""+_,w.mode,A),_.return=w,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sp:return A=Xp(_.type,_.key,_.props,null,w.mode,A),A.ref=ef(w,null,_),A.return=w,A;case bu:return _=n1(_,w.mode,A),_.return=w,_;case za:var j=_._init;return h(w,j(_._payload),A)}if(ff(_)||Kd(_))return _=dc(_,w.mode,A,null),_.return=w,_;vp(w,_)}return null}function g(w,_,A,j){var q=_!==null?_.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return q!==null?null:a(w,_,""+A,j);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case sp:return A.key===q?l(w,_,A,j):null;case bu:return A.key===q?c(w,_,A,j):null;case za:return q=A._init,g(w,_,q(A._payload),j)}if(ff(A)||Kd(A))return q!==null?null:f(w,_,A,j,null);vp(w,A)}return null}function p(w,_,A,j,q){if(typeof j=="string"&&j!==""||typeof j=="number")return w=w.get(A)||null,a(_,w,""+j,q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case sp:return w=w.get(j.key===null?A:j.key)||null,l(_,w,j,q);case bu:return w=w.get(j.key===null?A:j.key)||null,c(_,w,j,q);case za:var Z=j._init;return p(w,_,A,Z(j._payload),q)}if(ff(j)||Kd(j))return w=w.get(A)||null,f(_,w,j,q,null);vp(_,j)}return null}function S(w,_,A,j){for(var q=null,Z=null,R=_,P=_=0,D=null;R!==null&&P<A.length;P++){R.index>P?(D=R,R=null):D=R.sibling;var F=g(w,R,A[P],j);if(F===null){R===null&&(R=D);break}t&&R&&F.alternate===null&&e(w,R),_=o(F,_,P),Z===null?q=F:Z.sibling=F,Z=F,R=D}if(P===A.length)return n(w,R),xn&&ec(w,P),q;if(R===null){for(;P<A.length;P++)R=h(w,A[P],j),R!==null&&(_=o(R,_,P),Z===null?q=R:Z.sibling=R,Z=R);return xn&&ec(w,P),q}for(R=r(w,R);P<A.length;P++)D=p(R,w,P,A[P],j),D!==null&&(t&&D.alternate!==null&&R.delete(D.key===null?P:D.key),_=o(D,_,P),Z===null?q=D:Z.sibling=D,Z=D);return t&&R.forEach(function(T){return e(w,T)}),xn&&ec(w,P),q}function b(w,_,A,j){var q=Kd(A);if(typeof q!="function")throw Error(je(150));if(A=q.call(A),A==null)throw Error(je(151));for(var Z=q=null,R=_,P=_=0,D=null,F=A.next();R!==null&&!F.done;P++,F=A.next()){R.index>P?(D=R,R=null):D=R.sibling;var T=g(w,R,F.value,j);if(T===null){R===null&&(R=D);break}t&&R&&T.alternate===null&&e(w,R),_=o(T,_,P),Z===null?q=T:Z.sibling=T,Z=T,R=D}if(F.done)return n(w,R),xn&&ec(w,P),q;if(R===null){for(;!F.done;P++,F=A.next())F=h(w,F.value,j),F!==null&&(_=o(F,_,P),Z===null?q=F:Z.sibling=F,Z=F);return xn&&ec(w,P),q}for(R=r(w,R);!F.done;P++,F=A.next())F=p(R,w,P,F.value,j),F!==null&&(t&&F.alternate!==null&&R.delete(F.key===null?P:F.key),_=o(F,_,P),Z===null?q=F:Z.sibling=F,Z=F);return t&&R.forEach(function(C){return e(w,C)}),xn&&ec(w,P),q}function E(w,_,A,j){if(typeof A=="object"&&A!==null&&A.type===_u&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case sp:e:{for(var q=A.key,Z=_;Z!==null;){if(Z.key===q){if(q=A.type,q===_u){if(Z.tag===7){n(w,Z.sibling),_=i(Z,A.props.children),_.return=w,w=_;break e}}else if(Z.elementType===q||typeof q=="object"&&q!==null&&q.$$typeof===za&&mb(q)===Z.type){n(w,Z.sibling),_=i(Z,A.props),_.ref=ef(w,Z,A),_.return=w,w=_;break e}n(w,Z);break}else e(w,Z);Z=Z.sibling}A.type===_u?(_=dc(A.props.children,w.mode,j,A.key),_.return=w,w=_):(j=Xp(A.type,A.key,A.props,null,w.mode,j),j.ref=ef(w,_,A),j.return=w,w=j)}return s(w);case bu:e:{for(Z=A.key;_!==null;){if(_.key===Z)if(_.tag===4&&_.stateNode.containerInfo===A.containerInfo&&_.stateNode.implementation===A.implementation){n(w,_.sibling),_=i(_,A.children||[]),_.return=w,w=_;break e}else{n(w,_);break}else e(w,_);_=_.sibling}_=n1(A,w.mode,j),_.return=w,w=_}return s(w);case za:return Z=A._init,E(w,_,Z(A._payload),j)}if(ff(A))return S(w,_,A,j);if(Kd(A))return b(w,_,A,j);vp(w,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,_!==null&&_.tag===6?(n(w,_.sibling),_=i(_,A),_.return=w,w=_):(n(w,_),_=t1(A,w.mode,j),_.return=w,w=_),s(w)):n(w,_)}return E}var nd=L4(!0),R4=L4(!1),Pm=Tl(null),Tm=null,Tu=null,i2=null;function o2(){i2=Tu=Tm=null}function s2(t){var e=Pm.current;bn(Pm),t._currentValue=e}function y0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vu(t,e){Tm=t,i2=Tu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ci=!0),t.firstContext=null)}function Xi(t){var e=t._currentValue;if(i2!==t)if(t={context:t,memoizedValue:e,next:null},Tu===null){if(Tm===null)throw Error(je(308));Tu=t,Tm.dependencies={lanes:0,firstContext:t}}else Tu=Tu.next=t;return e}var ac=null;function a2(t){ac===null?ac=[t]:ac.push(t)}function O4(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,a2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ks(t,r)}function Ks(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var qa=!1;function l2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function D4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function $s(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function il(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Vt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ks(t,n)}return i=r.interleaved,i===null?(e.next=e,a2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ks(t,n)}function $p(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gy(t,n)}}function gb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function km(t,e,n,r){var i=t.updateQueue;qa=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==s&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,f=c=l=null,a=o;do{var g=a.lane,p=a.eventTime;if((r&g)===g){f!==null&&(f=f.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,b=a;switch(g=e,p=n,b.tag){case 1:if(S=b.payload,typeof S=="function"){h=S.call(p,h,g);break e}h=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=b.payload,g=typeof S=="function"?S.call(p,h,g):S,g==null)break e;h=En({},h,g);break e;case 2:qa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[a]:g.push(a))}else p={eventTime:p,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=p,l=h):f=f.next=p,s|=g;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;g=a,a=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(f===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);yc|=s,t.lanes=s,t.memoizedState=h}}function vb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(je(191,i));i.call(r)}}}var gh={},rs=Tl(gh),Hf=Tl(gh),Gf=Tl(gh);function lc(t){if(t===gh)throw Error(je(174));return t}function c2(t,e){switch(cn(Gf,e),cn(Hf,t),cn(rs,gh),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:J1(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=J1(e,t)}bn(rs),cn(rs,e)}function rd(){bn(rs),bn(Hf),bn(Gf)}function M4(t){lc(Gf.current);var e=lc(rs.current),n=J1(e,t.type);e!==n&&(cn(Hf,t),cn(rs,n))}function u2(t){Hf.current===t&&(bn(rs),bn(Hf))}var Sn=Tl(0);function Im(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kv=[];function d2(){for(var t=0;t<Kv.length;t++)Kv[t]._workInProgressVersionPrimary=null;Kv.length=0}var Wp=na.ReactCurrentDispatcher,Xv=na.ReactCurrentBatchConfig,vc=0,Nn=null,Xn=null,or=null,Lm=!1,Sf=!1,Yf=0,KI=0;function Er(){throw Error(je(321))}function f2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ao(t[n],e[n]))return!1;return!0}function h2(t,e,n,r,i,o){if(vc=o,Nn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wp.current=t===null||t.memoizedState===null?ZI:e6,t=n(r,i),Sf){o=0;do{if(Sf=!1,Yf=0,25<=o)throw Error(je(301));o+=1,or=Xn=null,e.updateQueue=null,Wp.current=t6,t=n(r,i)}while(Sf)}if(Wp.current=Rm,e=Xn!==null&&Xn.next!==null,vc=0,or=Xn=Nn=null,Lm=!1,e)throw Error(je(300));return t}function p2(){var t=Yf!==0;return Yf=0,t}function Xo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return or===null?Nn.memoizedState=or=t:or=or.next=t,or}function Qi(){if(Xn===null){var t=Nn.alternate;t=t!==null?t.memoizedState:null}else t=Xn.next;var e=or===null?Nn.memoizedState:or.next;if(e!==null)or=e,Xn=t;else{if(t===null)throw Error(je(310));Xn=t,t={memoizedState:Xn.memoizedState,baseState:Xn.baseState,baseQueue:Xn.baseQueue,queue:Xn.queue,next:null},or===null?Nn.memoizedState=or=t:or=or.next=t}return or}function Kf(t,e){return typeof e=="function"?e(t):e}function Qv(t){var e=Qi(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=Xn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var f=c.lane;if((vc&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,Nn.lanes|=f,yc|=f}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Ao(r,e.memoizedState)||(ci=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Nn.lanes|=o,yc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jv(t){var e=Qi(),n=e.queue;if(n===null)throw Error(je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Ao(o,e.memoizedState)||(ci=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function j4(){}function F4(t,e){var n=Nn,r=Qi(),i=e(),o=!Ao(r.memoizedState,i);if(o&&(r.memoizedState=i,ci=!0),r=r.queue,m2(U4.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||or!==null&&or.memoizedState.tag&1){if(n.flags|=2048,Xf(9,B4.bind(null,n,r,i,e),void 0,null),lr===null)throw Error(je(349));vc&30||V4(n,e,i)}return i}function V4(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Nn.updateQueue,e===null?(e={lastEffect:null,stores:null},Nn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function B4(t,e,n,r){e.value=n,e.getSnapshot=r,z4(e)&&q4(t)}function U4(t,e,n){return n(function(){z4(e)&&q4(t)})}function z4(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ao(t,n)}catch{return!0}}function q4(t){var e=Ks(t,1);e!==null&&Eo(e,t,1,-1)}function yb(t){var e=Xo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kf,lastRenderedState:t},e.queue=t,t=t.dispatch=JI.bind(null,Nn,t),[e.memoizedState,t]}function Xf(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Nn.updateQueue,e===null?(e={lastEffect:null,stores:null},Nn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function $4(){return Qi().memoizedState}function Hp(t,e,n,r){var i=Xo();Nn.flags|=t,i.memoizedState=Xf(1|e,n,void 0,r===void 0?null:r)}function Ag(t,e,n,r){var i=Qi();r=r===void 0?null:r;var o=void 0;if(Xn!==null){var s=Xn.memoizedState;if(o=s.destroy,r!==null&&f2(r,s.deps)){i.memoizedState=Xf(e,n,o,r);return}}Nn.flags|=t,i.memoizedState=Xf(1|e,n,o,r)}function wb(t,e){return Hp(8390656,8,t,e)}function m2(t,e){return Ag(2048,8,t,e)}function W4(t,e){return Ag(4,2,t,e)}function H4(t,e){return Ag(4,4,t,e)}function G4(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Y4(t,e,n){return n=n!=null?n.concat([t]):null,Ag(4,4,G4.bind(null,e,t),n)}function g2(){}function K4(t,e){var n=Qi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&f2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function X4(t,e){var n=Qi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&f2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Q4(t,e,n){return vc&21?(Ao(n,e)||(n=n4(),Nn.lanes|=n,yc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ci=!0),t.memoizedState=n)}function XI(t,e){var n=Zt;Zt=n!==0&&4>n?n:4,t(!0);var r=Xv.transition;Xv.transition={};try{t(!1),e()}finally{Zt=n,Xv.transition=r}}function J4(){return Qi().memoizedState}function QI(t,e,n){var r=sl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Z4(t))e3(e,n);else if(n=O4(t,e,n,r),n!==null){var i=Xr();Eo(n,t,r,i),t3(n,e,r)}}function JI(t,e,n){var r=sl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Z4(t))e3(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ao(a,s)){var l=e.interleaved;l===null?(i.next=i,a2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=O4(t,e,i,r),n!==null&&(i=Xr(),Eo(n,t,r,i),t3(n,e,r))}}function Z4(t){var e=t.alternate;return t===Nn||e!==null&&e===Nn}function e3(t,e){Sf=Lm=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function t3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gy(t,n)}}var Rm={readContext:Xi,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},ZI={readContext:Xi,useCallback:function(t,e){return Xo().memoizedState=[t,e===void 0?null:e],t},useContext:Xi,useEffect:wb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hp(4194308,4,G4.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hp(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hp(4,2,t,e)},useMemo:function(t,e){var n=Xo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Xo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QI.bind(null,Nn,t),[r.memoizedState,t]},useRef:function(t){var e=Xo();return t={current:t},e.memoizedState=t},useState:yb,useDebugValue:g2,useDeferredValue:function(t){return Xo().memoizedState=t},useTransition:function(){var t=yb(!1),e=t[0];return t=XI.bind(null,t[1]),Xo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Nn,i=Xo();if(xn){if(n===void 0)throw Error(je(407));n=n()}else{if(n=e(),lr===null)throw Error(je(349));vc&30||V4(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,wb(U4.bind(null,r,o,t),[t]),r.flags|=2048,Xf(9,B4.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Xo(),e=lr.identifierPrefix;if(xn){var n=Bs,r=Vs;n=(r&~(1<<32-No(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},e6={readContext:Xi,useCallback:K4,useContext:Xi,useEffect:m2,useImperativeHandle:Y4,useInsertionEffect:W4,useLayoutEffect:H4,useMemo:X4,useReducer:Qv,useRef:$4,useState:function(){return Qv(Kf)},useDebugValue:g2,useDeferredValue:function(t){var e=Qi();return Q4(e,Xn.memoizedState,t)},useTransition:function(){var t=Qv(Kf)[0],e=Qi().memoizedState;return[t,e]},useMutableSource:j4,useSyncExternalStore:F4,useId:J4,unstable_isNewReconciler:!1},t6={readContext:Xi,useCallback:K4,useContext:Xi,useEffect:m2,useImperativeHandle:Y4,useInsertionEffect:W4,useLayoutEffect:H4,useMemo:X4,useReducer:Jv,useRef:$4,useState:function(){return Jv(Kf)},useDebugValue:g2,useDeferredValue:function(t){var e=Qi();return Xn===null?e.memoizedState=t:Q4(e,Xn.memoizedState,t)},useTransition:function(){var t=Jv(Kf)[0],e=Qi().memoizedState;return[t,e]},useMutableSource:j4,useSyncExternalStore:F4,useId:J4,unstable_isNewReconciler:!1};function go(t,e){if(t&&t.defaultProps){e=En({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function w0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:En({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cg={isMounted:function(t){return(t=t._reactInternals)?Lc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xr(),i=sl(t),o=$s(r,i);o.payload=e,n!=null&&(o.callback=n),e=il(t,o,i),e!==null&&(Eo(e,t,i,r),$p(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xr(),i=sl(t),o=$s(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=il(t,o,i),e!==null&&(Eo(e,t,i,r),$p(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xr(),r=sl(t),i=$s(n,r);i.tag=2,e!=null&&(i.callback=e),e=il(t,i,r),e!==null&&(Eo(e,t,r,n),$p(e,t,r))}};function bb(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!zf(n,r)||!zf(i,o):!0}function n3(t,e,n){var r=!1,i=gl,o=e.contextType;return typeof o=="object"&&o!==null?o=Xi(o):(i=fi(e)?mc:Fr.current,r=e.contextTypes,o=(r=r!=null)?ed(t,i):gl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cg,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function _b(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cg.enqueueReplaceState(e,e.state,null)}function b0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},l2(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Xi(o):(o=fi(e)?mc:Fr.current,i.context=ed(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(w0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cg.enqueueReplaceState(i,i.state,null),km(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function id(t,e){try{var n="",r=e;do n+=Tk(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Zv(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var n6=typeof WeakMap=="function"?WeakMap:Map;function r3(t,e,n){n=$s(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dm||(Dm=!0,I0=r),_0(t,e)},n}function i3(t,e,n){n=$s(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){_0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){_0(t,e),typeof r!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function xb(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new n6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=g6.bind(null,t,e,n),e.then(t,t))}function Sb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Nb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=$s(-1,1),e.tag=2,il(n,e,1))),n.lanes|=1),t)}var r6=na.ReactCurrentOwner,ci=!1;function Yr(t,e,n,r){e.child=t===null?R4(e,null,n,r):nd(e,t.child,n,r)}function Eb(t,e,n,r,i){n=n.render;var o=e.ref;return Vu(e,i),r=h2(t,e,n,r,o,i),n=p2(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xs(t,e,i)):(xn&&n&&t2(e),e.flags|=1,Yr(t,e,r,i),e.child)}function Ab(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!N2(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,o3(t,e,o,r,i)):(t=Xp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:zf,n(s,r)&&t.ref===e.ref)return Xs(t,e,i)}return e.flags|=1,t=al(o,r),t.ref=e.ref,t.return=e,e.child=t}function o3(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(zf(o,r)&&t.ref===e.ref)if(ci=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ci=!0);else return e.lanes=t.lanes,Xs(t,e,i)}return x0(t,e,n,r,i)}function s3(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},cn(Iu,Ai),Ai|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,cn(Iu,Ai),Ai|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,cn(Iu,Ai),Ai|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,cn(Iu,Ai),Ai|=r;return Yr(t,e,i,n),e.child}function a3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function x0(t,e,n,r,i){var o=fi(n)?mc:Fr.current;return o=ed(e,o),Vu(e,i),n=h2(t,e,n,r,o,i),r=p2(),t!==null&&!ci?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xs(t,e,i)):(xn&&r&&t2(e),e.flags|=1,Yr(t,e,n,i),e.child)}function Cb(t,e,n,r,i){if(fi(n)){var o=!0;Em(e)}else o=!1;if(Vu(e,i),e.stateNode===null)Gp(t,e),n3(e,n,r),b0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xi(c):(c=fi(n)?mc:Fr.current,c=ed(e,c));var f=n.getDerivedStateFromProps,h=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&_b(e,s,r,c),qa=!1;var g=e.memoizedState;s.state=g,km(e,r,s,i),l=e.memoizedState,a!==r||g!==l||di.current||qa?(typeof f=="function"&&(w0(e,n,f,r),l=e.memoizedState),(a=qa||bb(e,n,a,r,g,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,D4(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:go(e.type,a),s.props=c,h=e.pendingProps,g=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xi(l):(l=fi(n)?mc:Fr.current,l=ed(e,l));var p=n.getDerivedStateFromProps;(f=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||g!==l)&&_b(e,s,r,l),qa=!1,g=e.memoizedState,s.state=g,km(e,r,s,i);var S=e.memoizedState;a!==h||g!==S||di.current||qa?(typeof p=="function"&&(w0(e,n,p,r),S=e.memoizedState),(c=qa||bb(e,n,c,r,g,S,l)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,S,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,S,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),s.props=r,s.state=S,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return S0(t,e,n,r,o,i)}function S0(t,e,n,r,i,o){a3(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&fb(e,n,!1),Xs(t,e,o);r=e.stateNode,r6.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=nd(e,t.child,null,o),e.child=nd(e,null,a,o)):Yr(t,e,a,o),e.memoizedState=r.state,i&&fb(e,n,!0),e.child}function l3(t){var e=t.stateNode;e.pendingContext?db(t,e.pendingContext,e.pendingContext!==e.context):e.context&&db(t,e.context,!1),c2(t,e.containerInfo)}function Pb(t,e,n,r,i){return td(),r2(i),e.flags|=256,Yr(t,e,n,r),e.child}var N0={dehydrated:null,treeContext:null,retryLane:0};function E0(t){return{baseLanes:t,cachePool:null,transitions:null}}function c3(t,e,n){var r=e.pendingProps,i=Sn.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),cn(Sn,i&1),t===null)return v0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=kg(s,r,0,null),t=dc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=E0(n),e.memoizedState=N0,t):v2(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return i6(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=al(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=al(a,o):(o=dc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?E0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=N0,r}return o=t.child,t=o.sibling,r=al(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function v2(t,e){return e=kg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yp(t,e,n,r){return r!==null&&r2(r),nd(e,t.child,null,n),t=v2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function i6(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Zv(Error(je(422))),yp(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=kg({mode:"visible",children:r.children},i,0,null),o=dc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&nd(e,t.child,null,s),e.child.memoizedState=E0(s),e.memoizedState=N0,o);if(!(e.mode&1))return yp(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(je(419)),r=Zv(o,r,void 0),yp(t,e,s,r)}if(a=(s&t.childLanes)!==0,ci||a){if(r=lr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ks(t,i),Eo(r,t,i,-1))}return S2(),r=Zv(Error(je(421))),yp(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=v6.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,ki=rl(i.nextSibling),Li=e,xn=!0,wo=null,t!==null&&(Hi[Gi++]=Vs,Hi[Gi++]=Bs,Hi[Gi++]=gc,Vs=t.id,Bs=t.overflow,gc=e),e=v2(e,r.children),e.flags|=4096,e)}function Tb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),y0(t.return,e,n)}function e1(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function u3(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Yr(t,e,r.children,n),r=Sn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tb(t,n,e);else if(t.tag===19)Tb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(cn(Sn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Im(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),e1(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Im(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}e1(e,!0,n,null,o);break;case"together":e1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),yc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,n=al(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=al(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function o6(t,e,n){switch(e.tag){case 3:l3(e),td();break;case 5:M4(e);break;case 1:fi(e.type)&&Em(e);break;case 4:c2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;cn(Pm,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(cn(Sn,Sn.current&1),e.flags|=128,null):n&e.child.childLanes?c3(t,e,n):(cn(Sn,Sn.current&1),t=Xs(t,e,n),t!==null?t.sibling:null);cn(Sn,Sn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return u3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),cn(Sn,Sn.current),r)break;return null;case 22:case 23:return e.lanes=0,s3(t,e,n)}return Xs(t,e,n)}var d3,A0,f3,h3;d3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};A0=function(){};f3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,lc(rs.current);var o=null;switch(n){case"input":i=Y1(t,i),r=Y1(t,r),o=[];break;case"select":i=En({},i,{value:void 0}),r=En({},r,{value:void 0}),o=[];break;case"textarea":i=Q1(t,i),r=Q1(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sm)}Z1(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Df.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Df.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&yn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};h3=function(t,e,n,r){n!==r&&(e.flags|=4)};function tf(t,e){if(!xn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ar(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function s6(t,e,n){var r=e.pendingProps;switch(n2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(e),null;case 1:return fi(e.type)&&Nm(),Ar(e),null;case 3:return r=e.stateNode,rd(),bn(di),bn(Fr),d2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(gp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,wo!==null&&(O0(wo),wo=null))),A0(t,e),Ar(e),null;case 5:u2(e);var i=lc(Gf.current);if(n=e.type,t!==null&&e.stateNode!=null)f3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(je(166));return Ar(e),null}if(t=lc(rs.current),gp(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Jo]=e,r[Wf]=o,t=(e.mode&1)!==0,n){case"dialog":yn("cancel",r),yn("close",r);break;case"iframe":case"object":case"embed":yn("load",r);break;case"video":case"audio":for(i=0;i<pf.length;i++)yn(pf[i],r);break;case"source":yn("error",r);break;case"img":case"image":case"link":yn("error",r),yn("load",r);break;case"details":yn("toggle",r);break;case"input":Fw(r,o),yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},yn("invalid",r);break;case"textarea":Bw(r,o),yn("invalid",r)}Z1(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&mp(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&mp(r.textContent,a,t),i=["children",""+a]):Df.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&yn("scroll",r)}switch(n){case"input":ap(r),Vw(r,o,!0);break;case"textarea":ap(r),Uw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Sm)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=US(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Jo]=e,t[Wf]=r,d3(t,e,!1,!1),e.stateNode=t;e:{switch(s=e0(n,r),n){case"dialog":yn("cancel",t),yn("close",t),i=r;break;case"iframe":case"object":case"embed":yn("load",t),i=r;break;case"video":case"audio":for(i=0;i<pf.length;i++)yn(pf[i],t);i=r;break;case"source":yn("error",t),i=r;break;case"img":case"image":case"link":yn("error",t),yn("load",t),i=r;break;case"details":yn("toggle",t),i=r;break;case"input":Fw(t,r),i=Y1(t,r),yn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=En({},r,{value:void 0}),yn("invalid",t);break;case"textarea":Bw(t,r),i=Q1(t,r),yn("invalid",t);break;default:i=r}Z1(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?$S(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zS(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Mf(t,l):typeof l=="number"&&Mf(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Df.hasOwnProperty(o)?l!=null&&o==="onScroll"&&yn("scroll",t):l!=null&&Uy(t,o,l,s))}switch(n){case"input":ap(t),Vw(t,r,!1);break;case"textarea":ap(t),Uw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ml(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Du(t,!!r.multiple,o,!1):r.defaultValue!=null&&Du(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ar(e),null;case 6:if(t&&e.stateNode!=null)h3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(je(166));if(n=lc(Gf.current),lc(rs.current),gp(e)){if(r=e.stateNode,n=e.memoizedProps,r[Jo]=e,(o=r.nodeValue!==n)&&(t=Li,t!==null))switch(t.tag){case 3:mp(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&mp(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Jo]=e,e.stateNode=r}return Ar(e),null;case 13:if(bn(Sn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xn&&ki!==null&&e.mode&1&&!(e.flags&128))I4(),td(),e.flags|=98560,o=!1;else if(o=gp(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(je(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(je(317));o[Jo]=e}else td(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ar(e),o=!1}else wo!==null&&(O0(wo),wo=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Sn.current&1?Qn===0&&(Qn=3):S2())),e.updateQueue!==null&&(e.flags|=4),Ar(e),null);case 4:return rd(),A0(t,e),t===null&&qf(e.stateNode.containerInfo),Ar(e),null;case 10:return s2(e.type._context),Ar(e),null;case 17:return fi(e.type)&&Nm(),Ar(e),null;case 19:if(bn(Sn),o=e.memoizedState,o===null)return Ar(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)tf(o,!1);else{if(Qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Im(t),s!==null){for(e.flags|=128,tf(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return cn(Sn,Sn.current&1|2),e.child}t=t.sibling}o.tail!==null&&jn()>od&&(e.flags|=128,r=!0,tf(o,!1),e.lanes=4194304)}else{if(!r)if(t=Im(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!xn)return Ar(e),null}else 2*jn()-o.renderingStartTime>od&&n!==1073741824&&(e.flags|=128,r=!0,tf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=jn(),e.sibling=null,n=Sn.current,cn(Sn,r?n&1|2:n&1),e):(Ar(e),null);case 22:case 23:return x2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ai&1073741824&&(Ar(e),e.subtreeFlags&6&&(e.flags|=8192)):Ar(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function a6(t,e){switch(n2(e),e.tag){case 1:return fi(e.type)&&Nm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rd(),bn(di),bn(Fr),d2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return u2(e),null;case 13:if(bn(Sn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));td()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return bn(Sn),null;case 4:return rd(),null;case 10:return s2(e.type._context),null;case 22:case 23:return x2(),null;case 24:return null;default:return null}}var wp=!1,Or=!1,l6=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function ku(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){In(t,e,r)}else n.current=null}function C0(t,e,n){try{n()}catch(r){In(t,e,r)}}var kb=!1;function c6(t,e){if(u0=bm,t=y4(),e2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,f=0,h=t,g=null;t:for(;;){for(var p;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(p=h.firstChild)!==null;)g=h,h=p;for(;;){if(h===t)break t;if(g===n&&++c===i&&(a=s),g===o&&++f===r&&(l=s),(p=h.nextSibling)!==null)break;h=g,g=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(d0={focusedElem:t,selectionRange:n},bm=!1,Xe=e;Xe!==null;)if(e=Xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Xe=t;else for(;Xe!==null;){e=Xe;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var b=S.memoizedProps,E=S.memoizedState,w=e.stateNode,_=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:go(e.type,b),E);w.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(j){In(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,Xe=t;break}Xe=e.return}return S=kb,kb=!1,S}function Nf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&C0(e,n,o)}i=i.next}while(i!==r)}}function Pg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function P0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function p3(t){var e=t.alternate;e!==null&&(t.alternate=null,p3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Jo],delete e[Wf],delete e[p0],delete e[WI],delete e[HI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function m3(t){return t.tag===5||t.tag===3||t.tag===4}function Ib(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function T0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sm));else if(r!==4&&(t=t.child,t!==null))for(T0(t,e,n),t=t.sibling;t!==null;)T0(t,e,n),t=t.sibling}function k0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(k0(t,e,n),t=t.sibling;t!==null;)k0(t,e,n),t=t.sibling}var pr=null,yo=!1;function Oa(t,e,n){for(n=n.child;n!==null;)g3(t,e,n),n=n.sibling}function g3(t,e,n){if(ns&&typeof ns.onCommitFiberUnmount=="function")try{ns.onCommitFiberUnmount(bg,n)}catch{}switch(n.tag){case 5:Or||ku(n,e);case 6:var r=pr,i=yo;pr=null,Oa(t,e,n),pr=r,yo=i,pr!==null&&(yo?(t=pr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):pr.removeChild(n.stateNode));break;case 18:pr!==null&&(yo?(t=pr,n=n.stateNode,t.nodeType===8?Gv(t.parentNode,n):t.nodeType===1&&Gv(t,n),Bf(t)):Gv(pr,n.stateNode));break;case 4:r=pr,i=yo,pr=n.stateNode.containerInfo,yo=!0,Oa(t,e,n),pr=r,yo=i;break;case 0:case 11:case 14:case 15:if(!Or&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&C0(n,e,s),i=i.next}while(i!==r)}Oa(t,e,n);break;case 1:if(!Or&&(ku(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){In(n,e,a)}Oa(t,e,n);break;case 21:Oa(t,e,n);break;case 22:n.mode&1?(Or=(r=Or)||n.memoizedState!==null,Oa(t,e,n),Or=r):Oa(t,e,n);break;default:Oa(t,e,n)}}function Lb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new l6),e.forEach(function(r){var i=y6.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:pr=a.stateNode,yo=!1;break e;case 3:pr=a.stateNode.containerInfo,yo=!0;break e;case 4:pr=a.stateNode.containerInfo,yo=!0;break e}a=a.return}if(pr===null)throw Error(je(160));g3(o,s,i),pr=null,yo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){In(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)v3(e,t),e=e.sibling}function v3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fo(e,t),Yo(t),r&4){try{Nf(3,t,t.return),Pg(3,t)}catch(b){In(t,t.return,b)}try{Nf(5,t,t.return)}catch(b){In(t,t.return,b)}}break;case 1:fo(e,t),Yo(t),r&512&&n!==null&&ku(n,n.return);break;case 5:if(fo(e,t),Yo(t),r&512&&n!==null&&ku(n,n.return),t.flags&32){var i=t.stateNode;try{Mf(i,"")}catch(b){In(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&VS(i,o),e0(a,s);var c=e0(a,o);for(s=0;s<l.length;s+=2){var f=l[s],h=l[s+1];f==="style"?$S(i,h):f==="dangerouslySetInnerHTML"?zS(i,h):f==="children"?Mf(i,h):Uy(i,f,h,c)}switch(a){case"input":K1(i,o);break;case"textarea":BS(i,o);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Du(i,!!o.multiple,p,!1):g!==!!o.multiple&&(o.defaultValue!=null?Du(i,!!o.multiple,o.defaultValue,!0):Du(i,!!o.multiple,o.multiple?[]:"",!1))}i[Wf]=o}catch(b){In(t,t.return,b)}}break;case 6:if(fo(e,t),Yo(t),r&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){In(t,t.return,b)}}break;case 3:if(fo(e,t),Yo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bf(e.containerInfo)}catch(b){In(t,t.return,b)}break;case 4:fo(e,t),Yo(t);break;case 13:fo(e,t),Yo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(b2=jn())),r&4&&Lb(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Or=(c=Or)||f,fo(e,t),Or=c):fo(e,t),Yo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(Xe=t,f=t.child;f!==null;){for(h=Xe=f;Xe!==null;){switch(g=Xe,p=g.child,g.tag){case 0:case 11:case 14:case 15:Nf(4,g,g.return);break;case 1:ku(g,g.return);var S=g.stateNode;if(typeof S.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(b){In(r,n,b)}}break;case 5:ku(g,g.return);break;case 22:if(g.memoizedState!==null){Ob(h);continue}}p!==null?(p.return=g,Xe=p):Ob(h)}f=f.sibling}e:for(f=null,h=t;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=qS("display",s))}catch(b){In(t,t.return,b)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(b){In(t,t.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:fo(e,t),Yo(t),r&4&&Lb(t);break;case 21:break;default:fo(e,t),Yo(t)}}function Yo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(m3(n)){var r=n;break e}n=n.return}throw Error(je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Mf(i,""),r.flags&=-33);var o=Ib(t);k0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Ib(t);T0(t,a,s);break;default:throw Error(je(161))}}catch(l){In(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function u6(t,e,n){Xe=t,y3(t)}function y3(t,e,n){for(var r=(t.mode&1)!==0;Xe!==null;){var i=Xe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||wp;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Or;a=wp;var c=Or;if(wp=s,(Or=l)&&!c)for(Xe=i;Xe!==null;)s=Xe,l=s.child,s.tag===22&&s.memoizedState!==null?Db(i):l!==null?(l.return=s,Xe=l):Db(i);for(;o!==null;)Xe=o,y3(o),o=o.sibling;Xe=i,wp=a,Or=c}Rb(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Xe=o):Rb(t)}}function Rb(t){for(;Xe!==null;){var e=Xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Or||Pg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Or)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:go(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&vb(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vb(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&Bf(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}Or||e.flags&512&&P0(e)}catch(g){In(e,e.return,g)}}if(e===t){Xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function Ob(t){for(;Xe!==null;){var e=Xe;if(e===t){Xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function Db(t){for(;Xe!==null;){var e=Xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Pg(4,e)}catch(l){In(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){In(e,i,l)}}var o=e.return;try{P0(e)}catch(l){In(e,o,l)}break;case 5:var s=e.return;try{P0(e)}catch(l){In(e,s,l)}}}catch(l){In(e,e.return,l)}if(e===t){Xe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Xe=a;break}Xe=e.return}}var d6=Math.ceil,Om=na.ReactCurrentDispatcher,y2=na.ReactCurrentOwner,Ki=na.ReactCurrentBatchConfig,Vt=0,lr=null,Hn=null,yr=0,Ai=0,Iu=Tl(0),Qn=0,Qf=null,yc=0,Tg=0,w2=0,Ef=null,ai=null,b2=0,od=1/0,js=null,Dm=!1,I0=null,ol=null,bp=!1,Qa=null,Mm=0,Af=0,L0=null,Yp=-1,Kp=0;function Xr(){return Vt&6?jn():Yp!==-1?Yp:Yp=jn()}function sl(t){return t.mode&1?Vt&2&&yr!==0?yr&-yr:YI.transition!==null?(Kp===0&&(Kp=n4()),Kp):(t=Zt,t!==0||(t=window.event,t=t===void 0?16:c4(t.type)),t):1}function Eo(t,e,n,r){if(50<Af)throw Af=0,L0=null,Error(je(185));hh(t,n,r),(!(Vt&2)||t!==lr)&&(t===lr&&(!(Vt&2)&&(Tg|=n),Qn===4&&Wa(t,yr)),hi(t,r),n===1&&Vt===0&&!(e.mode&1)&&(od=jn()+500,Eg&&kl()))}function hi(t,e){var n=t.callbackNode;Yk(t,e);var r=wm(t,t===lr?yr:0);if(r===0)n!==null&&$w(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$w(n),e===1)t.tag===0?GI(Mb.bind(null,t)):P4(Mb.bind(null,t)),qI(function(){!(Vt&6)&&kl()}),n=null;else{switch(r4(r)){case 1:n=Hy;break;case 4:n=e4;break;case 16:n=ym;break;case 536870912:n=t4;break;default:n=ym}n=A3(n,w3.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function w3(t,e){if(Yp=-1,Kp=0,Vt&6)throw Error(je(327));var n=t.callbackNode;if(Bu()&&t.callbackNode!==n)return null;var r=wm(t,t===lr?yr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jm(t,r);else{e=r;var i=Vt;Vt|=2;var o=_3();(lr!==t||yr!==e)&&(js=null,od=jn()+500,uc(t,e));do try{p6();break}catch(a){b3(t,a)}while(!0);o2(),Om.current=o,Vt=i,Hn!==null?e=0:(lr=null,yr=0,e=Qn)}if(e!==0){if(e===2&&(i=o0(t),i!==0&&(r=i,e=R0(t,i))),e===1)throw n=Qf,uc(t,0),Wa(t,r),hi(t,jn()),n;if(e===6)Wa(t,r);else{if(i=t.current.alternate,!(r&30)&&!f6(i)&&(e=jm(t,r),e===2&&(o=o0(t),o!==0&&(r=o,e=R0(t,o))),e===1))throw n=Qf,uc(t,0),Wa(t,r),hi(t,jn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(je(345));case 2:tc(t,ai,js);break;case 3:if(Wa(t,r),(r&130023424)===r&&(e=b2+500-jn(),10<e)){if(wm(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Xr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=h0(tc.bind(null,t,ai,js),e);break}tc(t,ai,js);break;case 4:if(Wa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-No(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=jn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*d6(r/1960))-r,10<r){t.timeoutHandle=h0(tc.bind(null,t,ai,js),r);break}tc(t,ai,js);break;case 5:tc(t,ai,js);break;default:throw Error(je(329))}}}return hi(t,jn()),t.callbackNode===n?w3.bind(null,t):null}function R0(t,e){var n=Ef;return t.current.memoizedState.isDehydrated&&(uc(t,e).flags|=256),t=jm(t,e),t!==2&&(e=ai,ai=n,e!==null&&O0(e)),t}function O0(t){ai===null?ai=t:ai.push.apply(ai,t)}function f6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ao(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Wa(t,e){for(e&=~w2,e&=~Tg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-No(e),r=1<<n;t[n]=-1,e&=~r}}function Mb(t){if(Vt&6)throw Error(je(327));Bu();var e=wm(t,0);if(!(e&1))return hi(t,jn()),null;var n=jm(t,e);if(t.tag!==0&&n===2){var r=o0(t);r!==0&&(e=r,n=R0(t,r))}if(n===1)throw n=Qf,uc(t,0),Wa(t,e),hi(t,jn()),n;if(n===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,tc(t,ai,js),hi(t,jn()),null}function _2(t,e){var n=Vt;Vt|=1;try{return t(e)}finally{Vt=n,Vt===0&&(od=jn()+500,Eg&&kl())}}function wc(t){Qa!==null&&Qa.tag===0&&!(Vt&6)&&Bu();var e=Vt;Vt|=1;var n=Ki.transition,r=Zt;try{if(Ki.transition=null,Zt=1,t)return t()}finally{Zt=r,Ki.transition=n,Vt=e,!(Vt&6)&&kl()}}function x2(){Ai=Iu.current,bn(Iu)}function uc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zI(n)),Hn!==null)for(n=Hn.return;n!==null;){var r=n;switch(n2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Nm();break;case 3:rd(),bn(di),bn(Fr),d2();break;case 5:u2(r);break;case 4:rd();break;case 13:bn(Sn);break;case 19:bn(Sn);break;case 10:s2(r.type._context);break;case 22:case 23:x2()}n=n.return}if(lr=t,Hn=t=al(t.current,null),yr=Ai=e,Qn=0,Qf=null,w2=Tg=yc=0,ai=Ef=null,ac!==null){for(e=0;e<ac.length;e++)if(n=ac[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}ac=null}return t}function b3(t,e){do{var n=Hn;try{if(o2(),Wp.current=Rm,Lm){for(var r=Nn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lm=!1}if(vc=0,or=Xn=Nn=null,Sf=!1,Yf=0,y2.current=null,n===null||n.return===null){Qn=1,Qf=e,Hn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=yr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Sb(s);if(p!==null){p.flags&=-257,Nb(p,s,a,o,e),p.mode&1&&xb(o,c,e),e=p,l=c;var S=e.updateQueue;if(S===null){var b=new Set;b.add(l),e.updateQueue=b}else S.add(l);break e}else{if(!(e&1)){xb(o,c,e),S2();break e}l=Error(je(426))}}else if(xn&&a.mode&1){var E=Sb(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Nb(E,s,a,o,e),r2(id(l,a));break e}}o=l=id(l,a),Qn!==4&&(Qn=2),Ef===null?Ef=[o]:Ef.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=r3(o,l,e);gb(o,w);break e;case 1:a=l;var _=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ol===null||!ol.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var j=i3(o,a,e);gb(o,j);break e}}o=o.return}while(o!==null)}S3(n)}catch(q){e=q,Hn===n&&n!==null&&(Hn=n=n.return);continue}break}while(!0)}function _3(){var t=Om.current;return Om.current=Rm,t===null?Rm:t}function S2(){(Qn===0||Qn===3||Qn===2)&&(Qn=4),lr===null||!(yc&268435455)&&!(Tg&268435455)||Wa(lr,yr)}function jm(t,e){var n=Vt;Vt|=2;var r=_3();(lr!==t||yr!==e)&&(js=null,uc(t,e));do try{h6();break}catch(i){b3(t,i)}while(!0);if(o2(),Vt=n,Om.current=r,Hn!==null)throw Error(je(261));return lr=null,yr=0,Qn}function h6(){for(;Hn!==null;)x3(Hn)}function p6(){for(;Hn!==null&&!Vk();)x3(Hn)}function x3(t){var e=E3(t.alternate,t,Ai);t.memoizedProps=t.pendingProps,e===null?S3(t):Hn=e,y2.current=null}function S3(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=a6(n,e),n!==null){n.flags&=32767,Hn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qn=6,Hn=null;return}}else if(n=s6(n,e,Ai),n!==null){Hn=n;return}if(e=e.sibling,e!==null){Hn=e;return}Hn=e=t}while(e!==null);Qn===0&&(Qn=5)}function tc(t,e,n){var r=Zt,i=Ki.transition;try{Ki.transition=null,Zt=1,m6(t,e,n,r)}finally{Ki.transition=i,Zt=r}return null}function m6(t,e,n,r){do Bu();while(Qa!==null);if(Vt&6)throw Error(je(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(Kk(t,o),t===lr&&(Hn=lr=null,yr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bp||(bp=!0,A3(ym,function(){return Bu(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ki.transition,Ki.transition=null;var s=Zt;Zt=1;var a=Vt;Vt|=4,y2.current=null,c6(t,n),v3(n,t),DI(d0),bm=!!u0,d0=u0=null,t.current=n,u6(n),Bk(),Vt=a,Zt=s,Ki.transition=o}else t.current=n;if(bp&&(bp=!1,Qa=t,Mm=i),o=t.pendingLanes,o===0&&(ol=null),qk(n.stateNode),hi(t,jn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dm)throw Dm=!1,t=I0,I0=null,t;return Mm&1&&t.tag!==0&&Bu(),o=t.pendingLanes,o&1?t===L0?Af++:(Af=0,L0=t):Af=0,kl(),null}function Bu(){if(Qa!==null){var t=r4(Mm),e=Ki.transition,n=Zt;try{if(Ki.transition=null,Zt=16>t?16:t,Qa===null)var r=!1;else{if(t=Qa,Qa=null,Mm=0,Vt&6)throw Error(je(331));var i=Vt;for(Vt|=4,Xe=t.current;Xe!==null;){var o=Xe,s=o.child;if(Xe.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Xe=c;Xe!==null;){var f=Xe;switch(f.tag){case 0:case 11:case 15:Nf(8,f,o)}var h=f.child;if(h!==null)h.return=f,Xe=h;else for(;Xe!==null;){f=Xe;var g=f.sibling,p=f.return;if(p3(f),f===c){Xe=null;break}if(g!==null){g.return=p,Xe=g;break}Xe=p}}}var S=o.alternate;if(S!==null){var b=S.child;if(b!==null){S.child=null;do{var E=b.sibling;b.sibling=null,b=E}while(b!==null)}}Xe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Xe=s;else e:for(;Xe!==null;){if(o=Xe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Nf(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,Xe=w;break e}Xe=o.return}}var _=t.current;for(Xe=_;Xe!==null;){s=Xe;var A=s.child;if(s.subtreeFlags&2064&&A!==null)A.return=s,Xe=A;else e:for(s=_;Xe!==null;){if(a=Xe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Pg(9,a)}}catch(q){In(a,a.return,q)}if(a===s){Xe=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,Xe=j;break e}Xe=a.return}}if(Vt=i,kl(),ns&&typeof ns.onPostCommitFiberRoot=="function")try{ns.onPostCommitFiberRoot(bg,t)}catch{}r=!0}return r}finally{Zt=n,Ki.transition=e}}return!1}function jb(t,e,n){e=id(n,e),e=r3(t,e,1),t=il(t,e,1),e=Xr(),t!==null&&(hh(t,1,e),hi(t,e))}function In(t,e,n){if(t.tag===3)jb(t,t,n);else for(;e!==null;){if(e.tag===3){jb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ol===null||!ol.has(r))){t=id(n,t),t=i3(e,t,1),e=il(e,t,1),t=Xr(),e!==null&&(hh(e,1,t),hi(e,t));break}}e=e.return}}function g6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xr(),t.pingedLanes|=t.suspendedLanes&n,lr===t&&(yr&n)===n&&(Qn===4||Qn===3&&(yr&130023424)===yr&&500>jn()-b2?uc(t,0):w2|=n),hi(t,e)}function N3(t,e){e===0&&(t.mode&1?(e=up,up<<=1,!(up&130023424)&&(up=4194304)):e=1);var n=Xr();t=Ks(t,e),t!==null&&(hh(t,e,n),hi(t,n))}function v6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),N3(t,n)}function y6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(je(314))}r!==null&&r.delete(e),N3(t,n)}var E3;E3=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||di.current)ci=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ci=!1,o6(t,e,n);ci=!!(t.flags&131072)}else ci=!1,xn&&e.flags&1048576&&T4(e,Cm,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Gp(t,e),t=e.pendingProps;var i=ed(e,Fr.current);Vu(e,n),i=h2(null,e,r,t,i,n);var o=p2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fi(r)?(o=!0,Em(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,l2(e),i.updater=Cg,e.stateNode=i,i._reactInternals=e,b0(e,r,t,n),e=S0(null,e,r,!0,o,n)):(e.tag=0,xn&&o&&t2(e),Yr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Gp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=b6(r),t=go(r,t),i){case 0:e=x0(null,e,r,t,n);break e;case 1:e=Cb(null,e,r,t,n);break e;case 11:e=Eb(null,e,r,t,n);break e;case 14:e=Ab(null,e,r,go(r.type,t),n);break e}throw Error(je(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),x0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),Cb(t,e,r,i,n);case 3:e:{if(l3(e),t===null)throw Error(je(387));r=e.pendingProps,o=e.memoizedState,i=o.element,D4(t,e),km(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=id(Error(je(423)),e),e=Pb(t,e,r,n,i);break e}else if(r!==i){i=id(Error(je(424)),e),e=Pb(t,e,r,n,i);break e}else for(ki=rl(e.stateNode.containerInfo.firstChild),Li=e,xn=!0,wo=null,n=R4(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(td(),r===i){e=Xs(t,e,n);break e}Yr(t,e,r,n)}e=e.child}return e;case 5:return M4(e),t===null&&v0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,f0(r,i)?s=null:o!==null&&f0(r,o)&&(e.flags|=32),a3(t,e),Yr(t,e,s,n),e.child;case 6:return t===null&&v0(e),null;case 13:return c3(t,e,n);case 4:return c2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nd(e,null,r,n):Yr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),Eb(t,e,r,i,n);case 7:return Yr(t,e,e.pendingProps,n),e.child;case 8:return Yr(t,e,e.pendingProps.children,n),e.child;case 12:return Yr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,cn(Pm,r._currentValue),r._currentValue=s,o!==null)if(Ao(o.value,s)){if(o.children===i.children&&!di.current){e=Xs(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=$s(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),y0(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(je(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),y0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Yr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vu(e,n),i=Xi(i),r=r(i),e.flags|=1,Yr(t,e,r,n),e.child;case 14:return r=e.type,i=go(r,e.pendingProps),i=go(r.type,i),Ab(t,e,r,i,n);case 15:return o3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:go(r,i),Gp(t,e),e.tag=1,fi(r)?(t=!0,Em(e)):t=!1,Vu(e,n),n3(e,r,i),b0(e,r,i,n),S0(null,e,r,!0,t,n);case 19:return u3(t,e,n);case 22:return s3(t,e,n)}throw Error(je(156,e.tag))};function A3(t,e){return ZS(t,e)}function w6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(t,e,n,r){return new w6(t,e,n,r)}function N2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function b6(t){if(typeof t=="function")return N2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qy)return 11;if(t===$y)return 14}return 2}function al(t,e){var n=t.alternate;return n===null?(n=Yi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xp(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")N2(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case _u:return dc(n.children,i,o,e);case zy:s=8,i|=8;break;case $1:return t=Yi(12,n,e,i|2),t.elementType=$1,t.lanes=o,t;case W1:return t=Yi(13,n,e,i),t.elementType=W1,t.lanes=o,t;case H1:return t=Yi(19,n,e,i),t.elementType=H1,t.lanes=o,t;case MS:return kg(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case OS:s=10;break e;case DS:s=9;break e;case qy:s=11;break e;case $y:s=14;break e;case za:s=16,r=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=Yi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function dc(t,e,n,r){return t=Yi(7,t,r,e),t.lanes=n,t}function kg(t,e,n,r){return t=Yi(22,t,r,e),t.elementType=MS,t.lanes=n,t.stateNode={isHidden:!1},t}function t1(t,e,n){return t=Yi(6,t,null,e),t.lanes=n,t}function n1(t,e,n){return e=Yi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _6(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mv(0),this.expirationTimes=Mv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function E2(t,e,n,r,i,o,s,a,l){return t=new _6(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Yi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},l2(o),t}function x6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function C3(t){if(!t)return gl;t=t._reactInternals;e:{if(Lc(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var n=t.type;if(fi(n))return C4(t,n,e)}return e}function P3(t,e,n,r,i,o,s,a,l){return t=E2(n,r,!0,t,i,o,s,a,l),t.context=C3(null),n=t.current,r=Xr(),i=sl(n),o=$s(r,i),o.callback=e??null,il(n,o,i),t.current.lanes=i,hh(t,i,r),hi(t,r),t}function Ig(t,e,n,r){var i=e.current,o=Xr(),s=sl(i);return n=C3(n),e.context===null?e.context=n:e.pendingContext=n,e=$s(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=il(i,e,s),t!==null&&(Eo(t,i,s,o),$p(t,i,s)),s}function Fm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function A2(t,e){Fb(t,e),(t=t.alternate)&&Fb(t,e)}function S6(){return null}var T3=typeof reportError=="function"?reportError:function(t){console.error(t)};function C2(t){this._internalRoot=t}Lg.prototype.render=C2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));Ig(t,e,null,null)};Lg.prototype.unmount=C2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wc(function(){Ig(null,t,null,null)}),e[Ys]=null}};function Lg(t){this._internalRoot=t}Lg.prototype.unstable_scheduleHydration=function(t){if(t){var e=s4();t={blockedOn:null,target:t,priority:e};for(var n=0;n<$a.length&&e!==0&&e<$a[n].priority;n++);$a.splice(n,0,t),n===0&&l4(t)}};function P2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Rg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Vb(){}function N6(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Fm(s);o.call(c)}}var s=P3(e,r,t,0,null,!1,!1,"",Vb);return t._reactRootContainer=s,t[Ys]=s.current,qf(t.nodeType===8?t.parentNode:t),wc(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Fm(l);a.call(c)}}var l=E2(t,0,!1,null,null,!1,!1,"",Vb);return t._reactRootContainer=l,t[Ys]=l.current,qf(t.nodeType===8?t.parentNode:t),wc(function(){Ig(e,l,n,r)}),l}function Og(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Fm(s);a.call(l)}}Ig(e,s,t,i)}else s=N6(n,e,t,i,r);return Fm(s)}i4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=hf(e.pendingLanes);n!==0&&(Gy(e,n|1),hi(e,jn()),!(Vt&6)&&(od=jn()+500,kl()))}break;case 13:wc(function(){var r=Ks(t,1);if(r!==null){var i=Xr();Eo(r,t,1,i)}}),A2(t,1)}};Yy=function(t){if(t.tag===13){var e=Ks(t,134217728);if(e!==null){var n=Xr();Eo(e,t,134217728,n)}A2(t,134217728)}};o4=function(t){if(t.tag===13){var e=sl(t),n=Ks(t,e);if(n!==null){var r=Xr();Eo(n,t,e,r)}A2(t,e)}};s4=function(){return Zt};a4=function(t,e){var n=Zt;try{return Zt=t,e()}finally{Zt=n}};n0=function(t,e,n){switch(e){case"input":if(K1(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ng(r);if(!i)throw Error(je(90));FS(r),K1(r,i)}}}break;case"textarea":BS(t,n);break;case"select":e=n.value,e!=null&&Du(t,!!n.multiple,e,!1)}};GS=_2;YS=wc;var E6={usingClientEntryPoint:!1,Events:[mh,Eu,Ng,WS,HS,_2]},nf={findFiberByHostInstance:sc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A6={bundleType:nf.bundleType,version:nf.version,rendererPackageName:nf.rendererPackageName,rendererConfig:nf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:na.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=QS(t),t===null?null:t.stateNode},findFiberByHostInstance:nf.findFiberByHostInstance||S6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_p.isDisabled&&_p.supportsFiber)try{bg=_p.inject(A6),ns=_p}catch{}}Mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E6;Mi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!P2(e))throw Error(je(200));return x6(t,e,null,n)};Mi.createRoot=function(t,e){if(!P2(t))throw Error(je(299));var n=!1,r="",i=T3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=E2(t,1,!1,null,null,n,!1,r,i),t[Ys]=e.current,qf(t.nodeType===8?t.parentNode:t),new C2(e)};Mi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=QS(e),t=t===null?null:t.stateNode,t};Mi.flushSync=function(t){return wc(t)};Mi.hydrate=function(t,e,n){if(!Rg(e))throw Error(je(200));return Og(null,t,e,!0,n)};Mi.hydrateRoot=function(t,e,n){if(!P2(t))throw Error(je(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=T3;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=P3(e,null,t,1,n??null,i,!1,o,s),t[Ys]=e.current,qf(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Lg(e)};Mi.render=function(t,e,n){if(!Rg(e))throw Error(je(200));return Og(null,t,e,!1,n)};Mi.unmountComponentAtNode=function(t){if(!Rg(t))throw Error(je(40));return t._reactRootContainer?(wc(function(){Og(null,null,t,!1,function(){t._reactRootContainer=null,t[Ys]=null})}),!0):!1};Mi.unstable_batchedUpdates=_2;Mi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Rg(n))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return Og(t,e,n,!1,r)};Mi.version="18.3.1-next-f1338f8080-20240426";function k3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k3)}catch(t){console.error(t)}}k3(),kS.exports=Mi;var wd=kS.exports;const C6=Oy(wd);var I3,Bb=wd;I3=Bb.createRoot,Bb.hydrateRoot;/**
 * @remix-run/router v1.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jf(){return Jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jf.apply(this,arguments)}var Ja;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ja||(Ja={}));const Ub="popstate";function P6(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return D0("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vm(i)}return k6(e,n,null,t)}function Gn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function L3(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T6(){return Math.random().toString(36).substr(2,8)}function zb(t,e){return{usr:t.state,key:t.key,idx:e}}function D0(t,e,n,r){return n===void 0&&(n=null),Jf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bd(e):e,{state:n,key:e&&e.key||r||T6()})}function Vm(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function k6(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Ja.Pop,l=null,c=f();c==null&&(c=0,s.replaceState(Jf({},s.state,{idx:c}),""));function f(){return(s.state||{idx:null}).idx}function h(){a=Ja.Pop;let E=f(),w=E==null?null:E-c;c=E,l&&l({action:a,location:b.location,delta:w})}function g(E,w){a=Ja.Push;let _=D0(b.location,E,w);c=f()+1;let A=zb(_,c),j=b.createHref(_);try{s.pushState(A,"",j)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;i.location.assign(j)}o&&l&&l({action:a,location:b.location,delta:1})}function p(E,w){a=Ja.Replace;let _=D0(b.location,E,w);c=f();let A=zb(_,c),j=b.createHref(_);s.replaceState(A,"",j),o&&l&&l({action:a,location:b.location,delta:0})}function S(E){let w=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof E=="string"?E:Vm(E);return _=_.replace(/ $/,"%20"),Gn(w,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,w)}let b={get action(){return a},get location(){return t(i,s)},listen(E){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ub,h),l=E,()=>{i.removeEventListener(Ub,h),l=null}},createHref(E){return e(i,E)},createURL:S,encodeLocation(E){let w=S(E);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:p,go(E){return s.go(E)}};return b}var qb;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qb||(qb={}));function I6(t,e,n){return n===void 0&&(n="/"),L6(t,e,n)}function L6(t,e,n,r){let i=typeof e=="string"?bd(e):e,o=T2(i.pathname||"/",n);if(o==null)return null;let s=R3(t);R6(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=W6(o);a=z6(s[l],c)}return a}function R3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Gn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ll([r,l.relativePath]),f=n.concat(l);o.children&&o.children.length>0&&(Gn(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),R3(o.children,e,f,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:B6(c,o.index),routesMeta:f})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of O3(o.path))i(o,s,l)}),e}function O3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=O3(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function R6(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:U6(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const O6=/^:[\w-]+$/,D6=3,M6=2,j6=1,F6=10,V6=-2,$b=t=>t==="*";function B6(t,e){let n=t.split("/"),r=n.length;return n.some($b)&&(r+=V6),e&&(r+=M6),n.filter(i=>!$b(i)).reduce((i,o)=>i+(O6.test(o)?D6:o===""?j6:F6),r)}function U6(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function z6(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",h=q6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),g=l.route;if(!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:ll([o,h.pathname]),pathnameBase:K6(ll([o,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(o=ll([o,h.pathnameBase]))}return s}function q6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$6(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,f,h)=>{let{paramName:g,isOptional:p}=f;if(g==="*"){let b=a[h]||"";s=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const S=a[h];return p&&!S?c[g]=void 0:c[g]=(S||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function $6(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),L3(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function W6(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return L3(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function T2(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function H6(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bd(t):t;return{pathname:n?n.startsWith("/")?n:G6(n,e):e,search:X6(r),hash:Q6(i)}}function G6(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function r1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Y6(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function D3(t,e){let n=Y6(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function M3(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=bd(t):(i=Jf({},t),Gn(!i.pathname||!i.pathname.includes("?"),r1("?","pathname","search",i)),Gn(!i.pathname||!i.pathname.includes("#"),r1("#","pathname","hash",i)),Gn(!i.search||!i.search.includes("#"),r1("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}a=h>=0?e[h]:"/"}let l=H6(i,a),c=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const ll=t=>t.join("/").replace(/\/\/+/g,"/"),K6=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),X6=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Q6=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function J6(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const j3=["post","put","patch","delete"];new Set(j3);const Z6=["get",...j3];new Set(Z6);/**
 * React Router v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zf(){return Zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zf.apply(this,arguments)}const k2=O.createContext(null),eL=O.createContext(null),Rc=O.createContext(null),Dg=O.createContext(null),Il=O.createContext({outlet:null,matches:[],isDataRoute:!1}),F3=O.createContext(null);function tL(t,e){let{relative:n}=e===void 0?{}:e;vh()||Gn(!1);let{basename:r,navigator:i}=O.useContext(Rc),{hash:o,pathname:s,search:a}=U3(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ll([r,s])),i.createHref({pathname:l,search:a,hash:o})}function vh(){return O.useContext(Dg)!=null}function _d(){return vh()||Gn(!1),O.useContext(Dg).location}function V3(t){O.useContext(Rc).static||O.useLayoutEffect(t)}function Ur(){let{isDataRoute:t}=O.useContext(Il);return t?pL():nL()}function nL(){vh()||Gn(!1);let t=O.useContext(k2),{basename:e,future:n,navigator:r}=O.useContext(Rc),{matches:i}=O.useContext(Il),{pathname:o}=_d(),s=JSON.stringify(D3(i,n.v7_relativeSplatPath)),a=O.useRef(!1);return V3(()=>{a.current=!0}),O.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=M3(c,JSON.parse(s),o,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ll([e,h.pathname])),(f.replace?r.replace:r.push)(h,f.state,f)},[e,r,s,o,t])}function B3(){let{matches:t}=O.useContext(Il),e=t[t.length-1];return e?e.params:{}}function U3(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=O.useContext(Rc),{matches:i}=O.useContext(Il),{pathname:o}=_d(),s=JSON.stringify(D3(i,r.v7_relativeSplatPath));return O.useMemo(()=>M3(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function rL(t,e){return iL(t,e)}function iL(t,e,n,r){vh()||Gn(!1);let{navigator:i,static:o}=O.useContext(Rc),{matches:s}=O.useContext(Il),a=s[s.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let f=_d(),h;if(e){var g;let w=typeof e=="string"?bd(e):e;c==="/"||(g=w.pathname)!=null&&g.startsWith(c)||Gn(!1),h=w}else h=f;let p=h.pathname||"/",S=p;if(c!=="/"){let w=c.replace(/^\//,"").split("/");S="/"+p.replace(/^\//,"").split("/").slice(w.length).join("/")}let b=I6(t,{pathname:S}),E=cL(b&&b.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ll([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ll([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,n,r);return e&&E?O.createElement(Dg.Provider,{value:{location:Zf({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ja.Pop}},E):E}function oL(){let t=hL(),e=J6(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),n?O.createElement("pre",{style:i},n):null,null)}const sL=O.createElement(oL,null);class aL extends O.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?O.createElement(Il.Provider,{value:this.props.routeContext},O.createElement(F3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lL(t){let{routeContext:e,match:n,children:r}=t,i=O.useContext(k2);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(Il.Provider,{value:e},r)}function cL(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let f=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);f>=0||Gn(!1),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<s.length;f++){let h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:g,errors:p}=n,S=h.route.loader&&g[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||S){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,h,g)=>{let p,S=!1,b=null,E=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,b=h.route.errorElement||sL,l&&(c<0&&g===0?(mL("route-fallback"),S=!0,E=null):c===g&&(S=!0,E=h.route.hydrateFallbackElement||null)));let w=e.concat(s.slice(0,g+1)),_=()=>{let A;return p?A=b:S?A=E:h.route.Component?A=O.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=f,O.createElement(lL,{match:h,routeContext:{outlet:f,matches:w,isDataRoute:n!=null},children:A})};return n&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?O.createElement(aL,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:_(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):_()},null)}var z3=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(z3||{}),q3=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(q3||{});function uL(t){let e=O.useContext(k2);return e||Gn(!1),e}function dL(t){let e=O.useContext(eL);return e||Gn(!1),e}function fL(t){let e=O.useContext(Il);return e||Gn(!1),e}function $3(t){let e=fL(),n=e.matches[e.matches.length-1];return n.route.id||Gn(!1),n.route.id}function hL(){var t;let e=O.useContext(F3),n=dL(),r=$3();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function pL(){let{router:t}=uL(z3.UseNavigateStable),e=$3(q3.UseNavigateStable),n=O.useRef(!1);return V3(()=>{n.current=!0}),O.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Zf({fromRouteId:e},o)))},[t,e])}const Wb={};function mL(t,e,n){Wb[t]||(Wb[t]=!0)}function gL(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Lr(t){Gn(!1)}function vL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ja.Pop,navigator:o,static:s=!1,future:a}=t;vh()&&Gn(!1);let l=e.replace(/^\/*/,"/"),c=O.useMemo(()=>({basename:l,navigator:o,static:s,future:Zf({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=bd(r));let{pathname:f="/",search:h="",hash:g="",state:p=null,key:S="default"}=r,b=O.useMemo(()=>{let E=T2(f,l);return E==null?null:{location:{pathname:E,search:h,hash:g,state:p,key:S},navigationType:i}},[l,f,h,g,p,S,i]);return b==null?null:O.createElement(Rc.Provider,{value:c},O.createElement(Dg.Provider,{children:n,value:b}))}function yL(t){let{children:e,location:n}=t;return rL(M0(e),n)}new Promise(()=>{});function M0(t,e){e===void 0&&(e=[]);let n=[];return O.Children.forEach(t,(r,i)=>{if(!O.isValidElement(r))return;let o=[...e,i];if(r.type===O.Fragment){n.push.apply(n,M0(r.props.children,o));return}r.type!==Lr&&Gn(!1),!r.props.index||!r.props.children||Gn(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=M0(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.29.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function j0(){return j0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j0.apply(this,arguments)}function wL(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bL(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _L(t,e){return t.button===0&&(!e||e==="_self")&&!bL(t)}const xL=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SL="6";try{window.__reactRouterVersion=SL}catch{}const NL="startTransition",Hb=PS[NL];function EL(t){let{basename:e,children:n,future:r,window:i}=t,o=O.useRef();o.current==null&&(o.current=P6({window:i,v5Compat:!0}));let s=o.current,[a,l]=O.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},f=O.useCallback(h=>{c&&Hb?Hb(()=>l(h)):l(h)},[l,c]);return O.useLayoutEffect(()=>s.listen(f),[s,f]),O.useEffect(()=>gL(r),[r]),O.createElement(vL,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}const AL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,PL=O.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:f,viewTransition:h}=e,g=wL(e,xL),{basename:p}=O.useContext(Rc),S,b=!1;if(typeof c=="string"&&CL.test(c)&&(S=c,AL))try{let A=new URL(window.location.href),j=c.startsWith("//")?new URL(A.protocol+c):new URL(c),q=T2(j.pathname,p);j.origin===A.origin&&q!=null?c=q+j.search+j.hash:b=!0}catch{}let E=tL(c,{relative:i}),w=TL(c,{replace:s,state:a,target:l,preventScrollReset:f,relative:i,viewTransition:h});function _(A){r&&r(A),A.defaultPrevented||w(A)}return O.createElement("a",j0({},g,{href:S||E,onClick:b||o?r:_,ref:n,target:l}))});var Gb;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Gb||(Gb={}));var Yb;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Yb||(Yb={}));function TL(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a}=e===void 0?{}:e,l=Ur(),c=_d(),f=U3(t,{relative:s});return O.useCallback(h=>{if(_L(h,n)){h.preventDefault();let g=r!==void 0?r:Vm(c)===Vm(f);l(t,{replace:g,state:i,preventScrollReset:o,relative:s,viewTransition:a})}},[c,l,f,r,i,n,t,o,s,a])}function Kb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function W3(...t){return e=>{let n=!1;const r=t.map(i=>{const o=Kb(i,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():Kb(t[i],null)}}}}function tn(...t){return O.useCallback(W3(...t),t)}var bc=O.forwardRef((t,e)=>{const{children:n,...r}=t,i=O.Children.toArray(n),o=i.find(IL);if(o){const s=o.props.children,a=i.map(l=>l===o?O.Children.count(s)>1?O.Children.only(null):O.isValidElement(s)?s.props.children:null:l);return v.jsx(F0,{...r,ref:e,children:O.isValidElement(s)?O.cloneElement(s,void 0,a):null})}return v.jsx(F0,{...r,ref:e,children:n})});bc.displayName="Slot";var F0=O.forwardRef((t,e)=>{const{children:n,...r}=t;if(O.isValidElement(n)){const i=RL(n),o=LL(r,n.props);return n.type!==O.Fragment&&(o.ref=e?W3(e,i):i),O.cloneElement(n,o)}return O.Children.count(n)>1?O.Children.only(null):null});F0.displayName="SlotClone";var kL=({children:t})=>v.jsx(v.Fragment,{children:t});function IL(t){return O.isValidElement(t)&&t.type===kL}function LL(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function RL(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function H3(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=H3(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function G3(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=H3(t))&&(r&&(r+=" "),r+=e);return r}const Xb=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Qb=G3,Mg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return Qb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const f=n==null?void 0:n[c],h=o==null?void 0:o[c];if(f===null)return null;const g=Xb(f)||Xb(h);return i[c][g]}),a=n&&Object.entries(n).reduce((c,f)=>{let[h,g]=f;return g===void 0||(c[h]=g),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:h,className:g,...p}=f;return Object.entries(p).every(S=>{let[b,E]=S;return Array.isArray(E)?E.includes({...o,...a}[b]):{...o,...a}[b]===E})?[...c,h,g]:c},[]);return Qb(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},I2="-",OL=t=>{const e=ML(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(I2);return a[0]===""&&a.length!==1&&a.shift(),Y3(a,e)||DL(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},Y3=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Y3(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(I2);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},Jb=/^\[(.+)\]$/,DL=t=>{if(Jb.test(t)){const e=Jb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},ML=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return FL(Object.entries(t.classGroups),n).forEach(([o,s])=>{V0(s,r,o,e)}),r},V0=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:Zb(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(jL(i)){V0(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{V0(s,Zb(e,o),n,r)})})},Zb=(t,e)=>{let n=t;return e.split(I2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},jL=t=>t.isThemeGetter,FL=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,VL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},K3="!",BL=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let c=0,f=0,h;for(let E=0;E<a.length;E++){let w=a[E];if(c===0){if(w===i&&(r||a.slice(E,E+o)===e)){l.push(a.slice(f,E)),f=E+o;continue}if(w==="/"){h=E;continue}}w==="["?c++:w==="]"&&c--}const g=l.length===0?a:a.substring(f),p=g.startsWith(K3),S=p?g.substring(1):g,b=h&&h>f?h-f:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:S,maybePostfixModifierPosition:b}};return n?a=>n({className:a,parseClassName:s}):s},UL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},zL=t=>({cache:VL(t.cacheSize),parseClassName:BL(t),...OL(t)}),qL=/\s+/,$L=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(qL);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:f,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:p}=n(c);let S=!!p,b=r(S?g.substring(0,p):g);if(!b){if(!S){a=c+(a.length>0?" "+a:a);continue}if(b=r(g),!b){a=c+(a.length>0?" "+a:a);continue}S=!1}const E=UL(f).join(":"),w=h?E+K3:E,_=w+b;if(o.includes(_))continue;o.push(_);const A=i(b,S);for(let j=0;j<A.length;++j){const q=A[j];o.push(w+q)}a=c+(a.length>0?" "+a:a)}return a};function WL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=X3(e))&&(r&&(r+=" "),r+=n);return r}const X3=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=X3(t[r]))&&(n&&(n+=" "),n+=e);return n};function HL(t,...e){let n,r,i,o=s;function s(l){const c=e.reduce((f,h)=>h(f),t());return n=zL(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const f=$L(l,n);return i(l,f),f}return function(){return o(WL.apply(null,arguments))}}const vn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Q3=/^\[(?:([a-z-]+):)?(.+)\]$/i,GL=/^\d+\/\d+$/,YL=new Set(["px","full","screen"]),KL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,XL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,QL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,JL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ZL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Rs=t=>Uu(t)||YL.has(t)||GL.test(t),Da=t=>xd(t,"length",aR),Uu=t=>!!t&&!Number.isNaN(Number(t)),i1=t=>xd(t,"number",Uu),rf=t=>!!t&&Number.isInteger(Number(t)),eR=t=>t.endsWith("%")&&Uu(t.slice(0,-1)),xt=t=>Q3.test(t),Ma=t=>KL.test(t),tR=new Set(["length","size","percentage"]),nR=t=>xd(t,tR,J3),rR=t=>xd(t,"position",J3),iR=new Set(["image","url"]),oR=t=>xd(t,iR,cR),sR=t=>xd(t,"",lR),of=()=>!0,xd=(t,e,n)=>{const r=Q3.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},aR=t=>XL.test(t)&&!QL.test(t),J3=()=>!1,lR=t=>JL.test(t),cR=t=>ZL.test(t),uR=()=>{const t=vn("colors"),e=vn("spacing"),n=vn("blur"),r=vn("brightness"),i=vn("borderColor"),o=vn("borderRadius"),s=vn("borderSpacing"),a=vn("borderWidth"),l=vn("contrast"),c=vn("grayscale"),f=vn("hueRotate"),h=vn("invert"),g=vn("gap"),p=vn("gradientColorStops"),S=vn("gradientColorStopPositions"),b=vn("inset"),E=vn("margin"),w=vn("opacity"),_=vn("padding"),A=vn("saturate"),j=vn("scale"),q=vn("sepia"),Z=vn("skew"),R=vn("space"),P=vn("translate"),D=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",xt,e],C=()=>[xt,e],L=()=>["",Rs,Da],X=()=>["auto",Uu,xt],fe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],re=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],G=()=>["start","end","center","between","around","evenly","stretch"],K=()=>["","0",xt],Q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ce=()=>[Uu,xt];return{cacheSize:500,separator:":",theme:{colors:[of],spacing:[Rs,Da],blur:["none","",Ma,xt],brightness:ce(),borderColor:[t],borderRadius:["none","","full",Ma,xt],borderSpacing:C(),borderWidth:L(),contrast:ce(),grayscale:K(),hueRotate:ce(),invert:K(),gap:C(),gradientColorStops:[t],gradientColorStopPositions:[eR,Da],inset:T(),margin:T(),opacity:ce(),padding:C(),saturate:ce(),scale:ce(),sepia:K(),skew:ce(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",xt]}],container:["container"],columns:[{columns:[Ma]}],"break-after":[{"break-after":Q()}],"break-before":[{"break-before":Q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...fe(),xt]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rf,xt]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xt]}],grow:[{grow:K()}],shrink:[{shrink:K()}],order:[{order:["first","last","none",rf,xt]}],"grid-cols":[{"grid-cols":[of]}],"col-start-end":[{col:["auto",{span:["full",rf,xt]},xt]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[of]}],"row-start-end":[{row:["auto",{span:[rf,xt]},xt]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...G()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...G(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...G(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xt,e]}],"min-w":[{"min-w":[xt,e,"min","max","fit"]}],"max-w":[{"max-w":[xt,e,"none","full","min","max","fit","prose",{screen:[Ma]},Ma]}],h:[{h:[xt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ma,Da]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",i1]}],"font-family":[{font:[of]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xt]}],"line-clamp":[{"line-clamp":["none",Uu,i1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Rs,xt]}],"list-image":[{"list-image":["none",xt]}],"list-style-type":[{list:["none","disc","decimal",xt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Rs,Da]}],"underline-offset":[{"underline-offset":["auto",Rs,xt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...fe(),rR]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nR]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},oR]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:le()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[Rs,xt]}],"outline-w":[{outline:[Rs,Da]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[Rs,Da]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ma,sR]}],"shadow-color":[{shadow:[of]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...re(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":re()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ma,xt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[h]}],saturate:[{saturate:[A]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xt]}],duration:[{duration:ce()}],ease:[{ease:["linear","in","out","in-out",xt]}],delay:[{delay:ce()}],animate:[{animate:["none","spin","ping","pulse","bounce",xt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[rf,xt]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Rs,Da,i1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dR=HL(uR);function jt(...t){return dR(G3(t))}const B0=Mg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),bt=O.forwardRef(({className:t,variant:e="default",size:n="default",asChild:r=!1,...i},o)=>{const s=r?bc:"button";return v.jsx(s,{className:jt(B0({variant:e,size:n}),t),ref:o,...i})});bt.displayName="Button";const mi=O.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:jt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));mi.displayName="Card";const Oc=O.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:jt("flex flex-col space-y-1.5 p-6",t),...e}));Oc.displayName="CardHeader";const jg=O.forwardRef(({className:t,...e},n)=>v.jsx("h3",{ref:n,className:jt("text-2xl font-semibold leading-none tracking-tight",t),...e}));jg.displayName="CardTitle";const fR=O.forwardRef(({className:t,...e},n)=>v.jsx("p",{ref:n,className:jt("text-sm text-muted-foreground",t),...e}));fR.displayName="CardDescription";const Dc=O.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:jt("p-6 pt-0",t),...e}));Dc.displayName="CardContent";const Fg=O.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:jt("flex items-center p-6 pt-0",t),...e}));Fg.displayName="CardFooter";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=O.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>O.createElement("svg",{ref:l,...pR,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Z3("lucide",i),...a},[...s.map(([c,f])=>O.createElement(c,f)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(t,e)=>{const n=O.forwardRef(({className:r,...i},o)=>O.createElement(mR,{ref:o,iconNode:e,className:Z3(`lucide-${hR(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=Pt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Pt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Pt("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Pt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=Pt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=Pt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=Pt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=Pt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=Pt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=Pt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=Pt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=Pt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SR=Pt("CircleStop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=Pt("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=Pt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ER=Pt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=Pt("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=Pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=Pt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=Pt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=Pt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=Pt("Hospital",[["path",{d:"M12 6v4",key:"16clxf"}],["path",{d:"M14 14h-4",key:"esezmu"}],["path",{d:"M14 18h-4",key:"16mqa2"}],["path",{d:"M14 8h-4",key:"z8ypaz"}],["path",{d:"M18 12h2a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h2",key:"b1k337"}],["path",{d:"M18 22V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v18",key:"16g51d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Pt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=Pt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=Pt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kR=Pt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=Pt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=Pt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Pt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=Pt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Pt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OR=Pt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=Pt("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=Pt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jR=Pt("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=Pt("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=Pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),BR=({language:t,onLanguageChange:e})=>{const n=Ur(),r={en:{title:"Welcome to Safe Haven Pediatrics",subtitle:"Quality Care for Every Child",benefits:["Free & Low-Cost Pediatric Care for every child, regardless of insurance or immigration status.","Easy & Quick Appointments with no long wait times.","Virtual & In-Person Visits so you can choose what works best for your family.","No ID, No Insurance? No Problem! We ensure safe, confidential care.","Bilingual Staff & Interpreters Available to make your experience stress-free."],welcomeMessage1:"We provide safe, compassionate, and culturally sensitive pediatric care for every child, regardless of insurance or immigration status.",welcomeMessage2:"We offer virtual and in-person visits  choose what works best for your family!",getStarted:"Get Started  Complete Intake Form",formDescription:"Fill out this form in less than 5 minutes to get started with your child's care.",providerLogin:"Provider Login",switchLanguage:"Cambiar a Espaol",virtualVisits:"Virtual Visits Available",virtualDescription:"See a doctor from home  great for follow-ups & quick questions!",inPersonVisits:"In-Person Care",inPersonDescription:"Visit our clinic for check-ups, vaccines, and more."},es:{title:"Bienvenido a Safe Haven Pediatrics",subtitle:"Atencin de Calidad para Cada Nio",benefits:["Atencin peditrica gratuita y de bajo costo para cada nio, sin importar el seguro o estatus migratorio.","Citas fciles y rpidas sin largas esperas.","Visitas virtuales y en persona para que elija lo que mejor funcione para su familia.","Sin identificacin, sin seguro? No hay problema! Garantizamos atencin segura y confidencial.","Personal bilinge e intrpretes disponibles para hacer su experiencia libre de estrs."],welcomeMessage1:"Brindamos atencin peditrica segura, compasiva y culturalmente sensible para cada nio, sin importar su seguro o estatus migratorio.",welcomeMessage2:"Ofrecemos visitas virtuales y en persona  elija lo que mejor funcione para su familia!",getStarted:"Comenzar  Completar Formulario de Admisin",formDescription:"Complete este formulario en menos de 5 minutos para comenzar con la atencin de su hijo.",providerLogin:"Acceso para Proveedores",switchLanguage:"Switch to English",virtualVisits:"Visitas Virtuales Disponibles",virtualDescription:"Consulte a un mdico desde casa  ideal para seguimientos y consultas rpidas!",inPersonVisits:"Atencin en Persona",inPersonDescription:"Visite nuestra clnica para chequeos, vacunas y ms."}};return v.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50",children:[v.jsx("div",{className:"absolute top-4 right-4",children:v.jsxs(bt,{variant:"outline",size:"lg",onClick:()=>e==null?void 0:e(t==="en"?"es":"en"),className:"flex items-center gap-2",children:[v.jsx(Bm,{className:"w-5 h-5"}),r[t].switchLanguage]})}),v.jsx("div",{className:"absolute top-4 left-4",children:v.jsxs(bt,{variant:"outline",size:"lg",onClick:()=>n("/provider/login"),className:"flex items-center gap-2",children:[v.jsx(jR,{className:"w-5 h-5"}),r[t].providerLogin]})}),v.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-4xl",children:[v.jsxs("div",{className:"text-center space-y-6 mb-12",children:[v.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-primary",children:[" ",r[t].title," "]}),v.jsx("p",{className:"text-2xl md:text-3xl text-primary/80",children:r[t].subtitle}),v.jsx("div",{className:"space-y-3 mt-8",children:r[t].benefits.map((i,o)=>v.jsxs("p",{className:"text-lg text-primary/90 flex items-center justify-center gap-2",children:[["","","","",""][o],i]},o))})]}),v.jsx(mi,{className:"p-8 bg-white/80 backdrop-blur shadow-lg",children:v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("p",{className:"text-lg leading-relaxed text-gray-700 flex items-start gap-2",children:[v.jsx(rN,{className:"w-6 h-6 text-primary shrink-0 mt-1"}),r[t].welcomeMessage1]}),v.jsxs("p",{className:"text-lg leading-relaxed text-gray-700 flex items-start gap-2",children:[v.jsx(vR,{className:"w-6 h-6 text-primary shrink-0 mt-1"}),r[t].welcomeMessage2]})]}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-4 my-8",children:[v.jsxs("div",{className:"text-center p-4 rounded-lg bg-primary/5",children:[v.jsx(FR,{className:"w-8 h-8 mx-auto text-primary mb-2"}),v.jsx("p",{className:"font-medium",children:r[t].virtualVisits}),v.jsxs("p",{className:"text-sm mt-2 text-gray-600",children:[" ",r[t].virtualDescription]})]}),v.jsxs("div",{className:"text-center p-4 rounded-lg bg-primary/5",children:[v.jsx(eN,{className:"w-8 h-8 mx-auto text-primary mb-2"}),v.jsx("p",{className:"font-medium",children:r[t].inPersonVisits}),v.jsxs("p",{className:"text-sm mt-2 text-gray-600",children:[" ",r[t].inPersonDescription]})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs(bt,{onClick:()=>n("/pediatric-intake"),className:"w-full py-6 text-lg bg-primary hover:bg-primary/90 text-white flex items-center justify-center gap-2",children:[r[t].getStarted,v.jsx(gR,{className:"w-5 h-5"})]}),v.jsxs("p",{className:"text-sm text-center text-gray-600",children:[" ",r[t].formDescription]})]})]})})]})]})},Pi=O.forwardRef(({className:t,type:e,...n},r)=>v.jsx("input",{type:e,className:jt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Pi.displayName="Input";const UR=1,zR=1e6;let o1=0;function qR(){return o1=(o1+1)%Number.MAX_SAFE_INTEGER,o1.toString()}const s1=new Map,n_=t=>{if(s1.has(t))return;const e=setTimeout(()=>{s1.delete(t),Cf({type:"REMOVE_TOAST",toastId:t})},zR);s1.set(t,e)},$R=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,UR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?n_(n):t.toasts.forEach(r=>{n_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Qp=[];let Jp={toasts:[]};function Cf(t){Jp=$R(Jp,t),Qp.forEach(e=>{e(Jp)})}function WR({...t}){const e=qR(),n=i=>Cf({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Cf({type:"DISMISS_TOAST",toastId:e});return Cf({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function ra(){const[t,e]=O.useState(Jp);return O.useEffect(()=>(Qp.push(e),()=>{const n=Qp.indexOf(e);n>-1&&Qp.splice(n,1)}),[t]),{...t,toast:WR,dismiss:n=>Cf({type:"DISMISS_TOAST",toastId:n})}}const aN=({language:t,onBack:e,onLogin:n})=>{const[r,i]=O.useState(""),[o,s]=O.useState(!1),{toast:a}=ra(),l=Ur(),c=h=>h.startsWith("+")?h.trim():`+1${h.trim()}`,f=async()=>{const h=c(r);if(!/^\+\d{10,15}$/.test(h)){a({title:t==="en"?"Invalid Phone Number":"Nmero de Telfono Invlido",description:t==="en"?"Enter a valid phone number with country code.":"Ingrese un nmero de telfono vlido con cdigo de pas."});return}sessionStorage.setItem("preferredLanguage",t),s(!0);try{a({title:t==="en"?"Login Successful":"Inicio de Sesin Exitoso"}),n(),l("/pediatric-intake")}catch(g){console.error(" Error during login:",g);const p=g instanceof Error?g.message:t==="en"?"Failed to login. Try again.":"Error al iniciar sesin. Intente nuevamente.";a({title:"Error",description:p})}finally{s(!1)}};return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 space-y-6 bg-gradient-to-b from-primary/20 to-background",children:[v.jsxs(mi,{className:"w-full max-w-md p-6 space-y-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-center text-primary",children:t==="en"?"Patient Login":"Inicio de Sesin del Paciente"}),v.jsx(Pi,{type:"tel",value:r,onChange:h=>i(h.target.value),placeholder:t==="en"?"Enter your phone number":"Ingrese su nmero de telfono",className:"text-lg py-6",disabled:o,required:!0}),v.jsx(bt,{className:"w-full text-lg py-6",onClick:f,disabled:o,children:o?v.jsxs(v.Fragment,{children:[v.jsx(oN,{className:"mr-2 h-4 w-4 animate-spin"}),t==="en"?"Loading...":"Cargando..."]}):t==="en"?"Login":"Iniciar Sesin"})]}),v.jsx(bt,{variant:"ghost",onClick:e,disabled:o,children:t==="en"?"Back":"Volver"})]})},lN=({language:t,onBack:e,onLogin:n})=>{const[r,i]=O.useState(""),[o,s]=O.useState(""),[a,l]=O.useState(""),[c,f]=O.useState(!1),h="123456",{toast:g}=ra(),p=Ur(),S=E=>{E.preventDefault(),g({title:"A 6-digit verification code has been sent to your email."}),f(!0)},b=E=>{E.preventDefault(),a===h?(g({title:"Login successful! Redirecting..."}),n(),p("/provider/dashboard")):g({title:"Invalid OTP. Please try again.",variant:"destructive"})};return v.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 space-y-6 bg-gradient-to-b from-primary/20 to-background",children:[v.jsxs(mi,{className:"w-full max-w-md p-6 space-y-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-center text-primary",children:t==="en"?"Provider Login":"Acceso para Proveedores"}),c?v.jsxs("form",{onSubmit:b,className:"space-y-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx(OR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"}),v.jsx(Pi,{type:"text",value:a,onChange:E=>l(E.target.value),placeholder:t==="en"?"Enter your verification code":"Ingrese su cdigo de verificacin",className:"pl-10 text-lg py-6",maxLength:6,required:!0})]}),v.jsx(bt,{type:"submit",className:"w-full text-lg py-6",children:t==="en"?"Verify Code":"Verificar Cdigo"})]}):v.jsxs("form",{onSubmit:S,className:"space-y-4",children:[v.jsxs("div",{className:"relative",children:[v.jsx(IR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"}),v.jsx(Pi,{type:"email",value:r,onChange:E=>i(E.target.value),placeholder:t==="en"?"Enter your email":"Ingrese su correo electrnico",className:"pl-10 text-lg py-6",required:!0})]}),v.jsxs("div",{className:"relative",children:[v.jsx(TR,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"}),v.jsx(Pi,{type:"password",value:o,onChange:E=>s(E.target.value),placeholder:t==="en"?"Enter your password":"Ingrese su contrasea",className:"pl-10 text-lg py-6",required:!0})]}),v.jsx(bt,{type:"submit",className:"w-full text-lg py-6",children:t==="en"?"Login":"Ingresar"})]})]}),!c&&e&&v.jsx(bt,{variant:"ghost",onClick:e,children:t==="en"?"Back":"Volver"}),v.jsx(bt,{variant:"link",className:"text-primary",children:t==="en"?"Need help? Chat with our AI assistant":"Necesita ayuda? Chatee con nuestro asistente AI"})]})};function Bt(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Di(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Kr(t,e){const n=Bt(t);return isNaN(e)?Di(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Co(t,e){const n=Bt(t);if(isNaN(e))return Di(t,NaN);if(!e)return n;const r=n.getDate(),i=Di(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return r>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const O2=6048e5,HR=864e5;let GR={};function yh(){return GR}function ls(t,e){var a,l,c,f;const n=yh(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,i=Bt(t),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function _c(t){return ls(t,{weekStartsOn:1})}function cN(t){const e=Bt(t),n=e.getFullYear(),r=Di(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=_c(r),o=Di(t,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const s=_c(o);return e.getTime()>=i.getTime()?n+1:e.getTime()>=s.getTime()?n:n-1}function sd(t){const e=Bt(t);return e.setHours(0,0,0,0),e}function Um(t){const e=Bt(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function es(t,e){const n=sd(t),r=sd(e),i=+n-Um(n),o=+r-Um(r);return Math.round((i-o)/HR)}function YR(t){const e=cN(t),n=Di(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),_c(n)}function z0(t,e){const n=e*7;return Kr(t,n)}function KR(t,e){return Co(t,e*12)}function XR(t){let e;return t.forEach(function(n){const r=Bt(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function QR(t){let e;return t.forEach(n=>{const r=Bt(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function ui(t,e){const n=sd(t),r=sd(e);return+n==+r}function D2(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function uN(t){if(!D2(t)&&typeof t!="number")return!1;const e=Bt(t);return!isNaN(Number(e))}function eh(t,e){const n=Bt(t),r=Bt(e),i=n.getFullYear()-r.getFullYear(),o=n.getMonth()-r.getMonth();return i*12+o}function JR(t,e,n){const r=ls(t,n),i=ls(e,n),o=+r-Um(r),s=+i-Um(i);return Math.round((o-s)/O2)}function M2(t){const e=Bt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function pi(t){const e=Bt(t);return e.setDate(1),e.setHours(0,0,0,0),e}function dN(t){const e=Bt(t),n=Di(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function j2(t,e){var a,l,c,f;const n=yh(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,i=Bt(t),o=i.getDay(),s=(o<r?-7:0)+6-(o-r);return i.setDate(i.getDate()+s),i.setHours(23,59,59,999),i}function fN(t){return j2(t,{weekStartsOn:1})}const ZR={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},e8=(t,e,n)=>{let r;const i=ZR[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function a1(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const t8={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},n8={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},r8={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},i8={date:a1({formats:t8,defaultWidth:"full"}),time:a1({formats:n8,defaultWidth:"full"}),dateTime:a1({formats:r8,defaultWidth:"full"})},o8={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},s8=(t,e,n,r)=>o8[t];function sf(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):s;i=t.formattingValues[a]||t.formattingValues[s]}else{const s=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const a8={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},l8={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},c8={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},u8={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},d8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},f8={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},h8=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},p8={ordinalNumber:h8,era:sf({values:a8,defaultWidth:"wide"}),quarter:sf({values:l8,defaultWidth:"wide",argumentCallback:t=>t-1}),month:sf({values:c8,defaultWidth:"wide"}),day:sf({values:u8,defaultWidth:"wide"}),dayPeriod:sf({values:d8,defaultWidth:"wide",formattingValues:f8,defaultFormattingWidth:"wide"})};function af(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?g8(a,h=>h.test(s)):m8(a,h=>h.test(s));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const f=e.slice(s.length);return{value:c,rest:f}}}function m8(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function g8(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function v8(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const a=e.slice(i.length);return{value:s,rest:a}}}const y8=/^(\d+)(th|st|nd|rd)?/i,w8=/\d+/i,b8={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_8={any:[/^b/i,/^(a|c)/i]},x8={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},S8={any:[/1/i,/2/i,/3/i,/4/i]},N8={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},E8={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},A8={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},C8={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},P8={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},T8={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},k8={ordinalNumber:v8({matchPattern:y8,parsePattern:w8,valueCallback:t=>parseInt(t,10)}),era:af({matchPatterns:b8,defaultMatchWidth:"wide",parsePatterns:_8,defaultParseWidth:"any"}),quarter:af({matchPatterns:x8,defaultMatchWidth:"wide",parsePatterns:S8,defaultParseWidth:"any",valueCallback:t=>t+1}),month:af({matchPatterns:N8,defaultMatchWidth:"wide",parsePatterns:E8,defaultParseWidth:"any"}),day:af({matchPatterns:A8,defaultMatchWidth:"wide",parsePatterns:C8,defaultParseWidth:"any"}),dayPeriod:af({matchPatterns:P8,defaultMatchWidth:"any",parsePatterns:T8,defaultParseWidth:"any"})},hN={code:"en-US",formatDistance:e8,formatLong:i8,formatRelative:s8,localize:p8,match:k8,options:{weekStartsOn:0,firstWeekContainsDate:1}};function I8(t){const e=Bt(t);return es(e,dN(e))+1}function pN(t){const e=Bt(t),n=+_c(e)-+YR(e);return Math.round(n/O2)+1}function mN(t,e){var f,h,g,p;const n=Bt(t),r=n.getFullYear(),i=yh(),o=(e==null?void 0:e.firstWeekContainsDate)??((h=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(g=i.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,s=Di(t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const a=ls(s,e),l=Di(t,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const c=ls(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function L8(t,e){var a,l,c,f;const n=yh(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,i=mN(t,e),o=Di(t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),ls(o,e)}function gN(t,e){const n=Bt(t),r=+ls(n,e)-+L8(n,e);return Math.round(r/O2)+1}function Xt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ja={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Xt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Xt(n+1,2)},d(t,e){return Xt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Xt(t.getHours()%12||12,e.length)},H(t,e){return Xt(t.getHours(),e.length)},m(t,e){return Xt(t.getMinutes(),e.length)},s(t,e){return Xt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Xt(i,e.length)}},uu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},r_={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ja.y(t,e)},Y:function(t,e,n,r){const i=mN(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return Xt(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):Xt(o,e.length)},R:function(t,e){const n=cN(t);return Xt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Xt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Xt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Xt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ja.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Xt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=gN(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Xt(i,e.length)},I:function(t,e,n){const r=pN(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Xt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ja.d(t,e)},D:function(t,e,n){const r=I8(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Xt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Xt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Xt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Xt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=uu.noon:r===0?i=uu.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=uu.evening:r>=12?i=uu.afternoon:r>=4?i=uu.morning:i=uu.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ja.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ja.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Xt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Xt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ja.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ja.s(t,e)},S:function(t,e){return ja.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return o_(r);case"XXXX":case"XX":return nc(r);case"XXXXX":case"XXX":default:return nc(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return o_(r);case"xxxx":case"xx":return nc(r);case"xxxxx":case"xxx":default:return nc(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+i_(r,":");case"OOOO":default:return"GMT"+nc(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+i_(r,":");case"zzzz":default:return"GMT"+nc(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Xt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Xt(r,e.length)}};function i_(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+Xt(o,2)}function o_(t,e){return t%60===0?(t>0?"-":"+")+Xt(Math.abs(t)/60,2):nc(t,e)}function nc(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Xt(Math.trunc(r/60),2),o=Xt(r%60,2);return n+i+e+o}const s_=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},vN=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},R8=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return s_(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",s_(r,e)).replace("{{time}}",vN(i,e))},O8={p:vN,P:R8},D8=/^D+$/,M8=/^Y+$/,j8=["D","DD","YY","YYYY"];function F8(t){return D8.test(t)}function V8(t){return M8.test(t)}function B8(t,e,n){const r=U8(t,e,n);if(console.warn(r),j8.includes(t))throw new RangeError(r)}function U8(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const z8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,q8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$8=/^'([^]*?)'?$/,W8=/''/g,H8=/[a-zA-Z]/;function Ji(t,e,n){var f,h,g,p,S,b,E,w;const r=yh(),i=(n==null?void 0:n.locale)??r.locale??hN,o=(n==null?void 0:n.firstWeekContainsDate)??((h=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(g=r.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,s=(n==null?void 0:n.weekStartsOn)??((b=(S=n==null?void 0:n.locale)==null?void 0:S.options)==null?void 0:b.weekStartsOn)??r.weekStartsOn??((w=(E=r.locale)==null?void 0:E.options)==null?void 0:w.weekStartsOn)??0,a=Bt(t);if(!uN(a))throw new RangeError("Invalid time value");let l=e.match(q8).map(_=>{const A=_[0];if(A==="p"||A==="P"){const j=O8[A];return j(_,i.formatLong)}return _}).join("").match(z8).map(_=>{if(_==="''")return{isToken:!1,value:"'"};const A=_[0];if(A==="'")return{isToken:!1,value:G8(_)};if(r_[A])return{isToken:!0,value:_};if(A.match(H8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:_}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return l.map(_=>{if(!_.isToken)return _.value;const A=_.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&V8(A)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&F8(A))&&B8(A,e,String(t));const j=r_[A[0]];return j(a,A,i.localize,c)}).join("")}function G8(t){const e=t.match($8);return e?e[1].replace(W8,"'"):t}function Y8(t){const e=Bt(t),n=e.getFullYear(),r=e.getMonth(),i=Di(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function K8(t){return Math.trunc(+Bt(t)/1e3)}function X8(t){const e=Bt(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Q8(t,e){return JR(X8(t),pi(t),e)+1}function q0(t,e){const n=Bt(t),r=Bt(e);return n.getTime()>r.getTime()}function yN(t,e){const n=Bt(t),r=Bt(e);return+n<+r}function F2(t,e){const n=Bt(t),r=Bt(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function J8(t,e){const n=Bt(t),r=Bt(e);return n.getFullYear()===r.getFullYear()}function l1(t,e){return Kr(t,-e)}function c1(t,e){const n=Bt(t),r=n.getFullYear(),i=n.getDate(),o=Di(t,0);o.setFullYear(r,e,15),o.setHours(0,0,0,0);const s=Y8(o);return n.setMonth(e,Math.min(i,s)),n}function a_(t,e){const n=Bt(t);return isNaN(+n)?Di(t,NaN):(n.setFullYear(e),n)}var ut=function(){return ut=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ut.apply(this,arguments)};function Z8(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function wN(t,e,n){for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function wh(t){return t.mode==="multiple"}function bh(t){return t.mode==="range"}function Vg(t){return t.mode==="single"}var eO={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function tO(t,e){return Ji(t,"LLLL y",e)}function nO(t,e){return Ji(t,"d",e)}function rO(t,e){return Ji(t,"LLLL",e)}function iO(t){return"".concat(t)}function oO(t,e){return Ji(t,"cccccc",e)}function sO(t,e){return Ji(t,"yyyy",e)}var aO=Object.freeze({__proto__:null,formatCaption:tO,formatDay:nO,formatMonthCaption:rO,formatWeekNumber:iO,formatWeekdayName:oO,formatYearCaption:sO}),lO=function(t,e,n){return Ji(t,"do MMMM (EEEE)",n)},cO=function(){return"Month: "},uO=function(){return"Go to next month"},dO=function(){return"Go to previous month"},fO=function(t,e){return Ji(t,"cccc",e)},hO=function(t){return"Week n. ".concat(t)},pO=function(){return"Year: "},mO=Object.freeze({__proto__:null,labelDay:lO,labelMonthDropdown:cO,labelNext:uO,labelPrevious:dO,labelWeekNumber:hO,labelWeekday:fO,labelYearDropdown:pO});function gO(){var t="buttons",e=eO,n=hN,r={},i={},o=1,s={},a=new Date;return{captionLayout:t,classNames:e,formatters:aO,labels:mO,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:o,styles:s,today:a,mode:"default"}}function vO(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,o=t.fromDate,s=t.toDate;return r?o=pi(r):e&&(o=new Date(e,0,1)),i?s=M2(i):n&&(s=new Date(n,11,31)),{fromDate:o?sd(o):void 0,toDate:s?sd(s):void 0}}var bN=O.createContext(void 0);function yO(t){var e,n=t.initialProps,r=gO(),i=vO(n),o=i.fromDate,s=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!o||!s)&&(a="buttons");var l;(Vg(n)||wh(n)||bh(n))&&(l=n.onSelect);var c=ut(ut(ut({},r),n),{captionLayout:a,classNames:ut(ut({},r.classNames),n.classNames),components:ut({},n.components),formatters:ut(ut({},r.formatters),n.formatters),fromDate:o,labels:ut(ut({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:ut(ut({},r.modifiers),n.modifiers),modifiersClassNames:ut(ut({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:ut(ut({},r.styles),n.styles),toDate:s});return v.jsx(bN.Provider,{value:c,children:t.children})}function dn(){var t=O.useContext(bN);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function _N(t){var e=dn(),n=e.locale,r=e.classNames,i=e.styles,o=e.formatters.formatCaption;return v.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:n})})}function wO(t){return v.jsx("svg",ut({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:v.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function xN(t){var e,n,r=t.onChange,i=t.value,o=t.children,s=t.caption,a=t.className,l=t.style,c=dn(),f=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:wO;return v.jsxs("div",{className:a,style:l,children:[v.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),v.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:o}),v.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[s,v.jsx(f,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function bO(t){var e,n=dn(),r=n.fromDate,i=n.toDate,o=n.styles,s=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,f=n.labels.labelMonthDropdown;if(!r)return v.jsx(v.Fragment,{});if(!i)return v.jsx(v.Fragment,{});var h=[];if(J8(r,i))for(var g=pi(r),p=r.getMonth();p<=i.getMonth();p++)h.push(c1(g,p));else for(var g=pi(new Date),p=0;p<=11;p++)h.push(c1(g,p));var S=function(E){var w=Number(E.target.value),_=c1(pi(t.displayMonth),w);t.onChange(_)},b=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:xN;return v.jsx(b,{name:"months","aria-label":f(),className:l.dropdown_month,style:o.dropdown_month,onChange:S,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:s}),children:h.map(function(E){return v.jsx("option",{value:E.getMonth(),children:a(E,{locale:s})},E.getMonth())})})}function _O(t){var e,n=t.displayMonth,r=dn(),i=r.fromDate,o=r.toDate,s=r.locale,a=r.styles,l=r.classNames,c=r.components,f=r.formatters.formatYearCaption,h=r.labels.labelYearDropdown,g=[];if(!i)return v.jsx(v.Fragment,{});if(!o)return v.jsx(v.Fragment,{});for(var p=i.getFullYear(),S=o.getFullYear(),b=p;b<=S;b++)g.push(a_(dN(new Date),b));var E=function(_){var A=a_(pi(n),Number(_.target.value));t.onChange(A)},w=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:xN;return v.jsx(w,{name:"years","aria-label":h(),className:l.dropdown_year,style:a.dropdown_year,onChange:E,value:n.getFullYear(),caption:f(n,{locale:s}),children:g.map(function(_){return v.jsx("option",{value:_.getFullYear(),children:f(_,{locale:s})},_.getFullYear())})})}function xO(t,e){var n=O.useState(t),r=n[0],i=n[1],o=e===void 0?r:e;return[o,i]}function SO(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,o=t.toDate,s=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(o&&eh(o,i)<0){var c=-1*(l-1);i=Co(o,c)}return s&&eh(i,s)<0&&(i=s),pi(i)}function NO(){var t=dn(),e=SO(t),n=xO(e,t.month),r=n[0],i=n[1],o=function(s){var a;if(!t.disableNavigation){var l=pi(s);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,o]}function EO(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=pi(t),o=pi(Co(i,r)),s=eh(o,i),a=[],l=0;l<s;l++){var c=Co(i,l);a.push(c)}return n&&(a=a.reverse()),a}function AO(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=pi(t);if(!n)return Co(a,s);var l=eh(n,t);if(!(l<o))return Co(a,s)}}function CO(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,o=i===void 0?1:i,s=r?o:1,a=pi(t);if(!n)return Co(a,-s);var l=eh(a,n);if(!(l<=0))return Co(a,-s)}}var SN=O.createContext(void 0);function PO(t){var e=dn(),n=NO(),r=n[0],i=n[1],o=EO(r,e),s=AO(r,e),a=CO(r,e),l=function(h){return o.some(function(g){return F2(h,g)})},c=function(h,g){l(h)||(g&&yN(h,g)?i(Co(h,1+e.numberOfMonths*-1)):i(h))},f={currentMonth:r,displayMonths:o,goToMonth:i,goToDate:c,previousMonth:a,nextMonth:s,isDateDisplayed:l};return v.jsx(SN.Provider,{value:f,children:t.children})}function _h(){var t=O.useContext(SN);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function l_(t){var e,n=dn(),r=n.classNames,i=n.styles,o=n.components,s=_h().goToMonth,a=function(f){s(Co(f,t.displayIndex?-t.displayIndex:0))},l=(e=o==null?void 0:o.CaptionLabel)!==null&&e!==void 0?e:_N,c=v.jsx(l,{id:t.id,displayMonth:t.displayMonth});return v.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[v.jsx("div",{className:r.vhidden,children:c}),v.jsx(bO,{onChange:a,displayMonth:t.displayMonth}),v.jsx(_O,{onChange:a,displayMonth:t.displayMonth})]})}function TO(t){return v.jsx("svg",ut({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:v.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function kO(t){return v.jsx("svg",ut({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:v.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var zm=O.forwardRef(function(t,e){var n=dn(),r=n.classNames,i=n.styles,o=[r.button_reset,r.button];t.className&&o.push(t.className);var s=o.join(" "),a=ut(ut({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),v.jsx("button",ut({},t,{ref:e,type:"button",className:s,style:a}))});function IO(t){var e,n,r=dn(),i=r.dir,o=r.locale,s=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,f=l.labelNext,h=r.components;if(!t.nextMonth&&!t.previousMonth)return v.jsx(v.Fragment,{});var g=c(t.previousMonth,{locale:o}),p=[s.nav_button,s.nav_button_previous].join(" "),S=f(t.nextMonth,{locale:o}),b=[s.nav_button,s.nav_button_next].join(" "),E=(e=h==null?void 0:h.IconRight)!==null&&e!==void 0?e:kO,w=(n=h==null?void 0:h.IconLeft)!==null&&n!==void 0?n:TO;return v.jsxs("div",{className:s.nav,style:a.nav,children:[!t.hidePrevious&&v.jsx(zm,{name:"previous-month","aria-label":g,className:p,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?v.jsx(E,{className:s.nav_icon,style:a.nav_icon}):v.jsx(w,{className:s.nav_icon,style:a.nav_icon})}),!t.hideNext&&v.jsx(zm,{name:"next-month","aria-label":S,className:b,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?v.jsx(w,{className:s.nav_icon,style:a.nav_icon}):v.jsx(E,{className:s.nav_icon,style:a.nav_icon})})]})}function c_(t){var e=dn().numberOfMonths,n=_h(),r=n.previousMonth,i=n.nextMonth,o=n.goToMonth,s=n.displayMonths,a=s.findIndex(function(S){return F2(t.displayMonth,S)}),l=a===0,c=a===s.length-1,f=e>1&&(l||!c),h=e>1&&(c||!l),g=function(){r&&o(r)},p=function(){i&&o(i)};return v.jsx(IO,{displayMonth:t.displayMonth,hideNext:f,hidePrevious:h,nextMonth:i,previousMonth:r,onPreviousClick:g,onNextClick:p})}function LO(t){var e,n=dn(),r=n.classNames,i=n.disableNavigation,o=n.styles,s=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:_N,c;return i?c=v.jsx(l,{id:t.id,displayMonth:t.displayMonth}):s==="dropdown"?c=v.jsx(l_,{displayMonth:t.displayMonth,id:t.id}):s==="dropdown-buttons"?c=v.jsxs(v.Fragment,{children:[v.jsx(l_,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),v.jsx(c_,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=v.jsxs(v.Fragment,{children:[v.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),v.jsx(c_,{displayMonth:t.displayMonth,id:t.id})]}),v.jsx("div",{className:r.caption,style:o.caption,children:c})}function RO(t){var e=dn(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?v.jsx("tfoot",{className:i,style:r.tfoot,children:v.jsx("tr",{children:v.jsx("td",{colSpan:8,children:n})})}):v.jsx(v.Fragment,{})}function OO(t,e,n){for(var r=n?_c(new Date):ls(new Date,{locale:t,weekStartsOn:e}),i=[],o=0;o<7;o++){var s=Kr(r,o);i.push(s)}return i}function DO(){var t=dn(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,o=t.weekStartsOn,s=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=OO(i,o,s);return v.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&v.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(f,h){return v.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(f,{locale:i}),children:a(f,{locale:i})},h)})]})}function MO(){var t,e=dn(),n=e.classNames,r=e.styles,i=e.components,o=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:DO;return v.jsx("thead",{style:r.head,className:n.head,children:v.jsx(o,{})})}function jO(t){var e=dn(),n=e.locale,r=e.formatters.formatDay;return v.jsx(v.Fragment,{children:r(t.date,{locale:n})})}var V2=O.createContext(void 0);function FO(t){if(!wh(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return v.jsx(V2.Provider,{value:e,children:t.children})}return v.jsx(VO,{initialProps:t.initialProps,children:t.children})}function VO(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,o=e.max,s=function(c,f,h){var g,p;(g=e.onDayClick)===null||g===void 0||g.call(e,c,f,h);var S=!!(f.selected&&i&&(r==null?void 0:r.length)===i);if(!S){var b=!!(!f.selected&&o&&(r==null?void 0:r.length)===o);if(!b){var E=r?wN([],r):[];if(f.selected){var w=E.findIndex(function(_){return ui(c,_)});E.splice(w,1)}else E.push(c);(p=e.onSelect)===null||p===void 0||p.call(e,E,c,f,h)}}},a={disabled:[]};r&&a.disabled.push(function(c){var f=o&&r.length>o-1,h=r.some(function(g){return ui(g,c)});return!!(f&&!h)});var l={selected:r,onDayClick:s,modifiers:a};return v.jsx(V2.Provider,{value:l,children:n})}function B2(){var t=O.useContext(V2);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function BO(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?ui(i,t)&&ui(r,t)?void 0:ui(i,t)?{from:i,to:void 0}:ui(r,t)?void 0:q0(r,t)?{from:t,to:i}:{from:r,to:t}:i?q0(t,i)?{from:i,to:t}:{from:t,to:i}:r?yN(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var U2=O.createContext(void 0);function UO(t){if(!bh(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return v.jsx(U2.Provider,{value:e,children:t.children})}return v.jsx(zO,{initialProps:t.initialProps,children:t.children})}function zO(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},o=i.from,s=i.to,a=e.min,l=e.max,c=function(p,S,b){var E,w;(E=e.onDayClick)===null||E===void 0||E.call(e,p,S,b);var _=BO(p,r);(w=e.onSelect)===null||w===void 0||w.call(e,_,p,S,b)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(f.range_start=[o],s?(f.range_end=[s],ui(o,s)||(f.range_middle=[{after:o,before:s}])):f.range_end=[o]):s&&(f.range_start=[s],f.range_end=[s]),a&&(o&&!s&&f.disabled.push({after:l1(o,a-1),before:Kr(o,a-1)}),o&&s&&f.disabled.push({after:o,before:Kr(o,a-1)}),!o&&s&&f.disabled.push({after:l1(s,a-1),before:Kr(s,a-1)})),l){if(o&&!s&&(f.disabled.push({before:Kr(o,-l+1)}),f.disabled.push({after:Kr(o,l-1)})),o&&s){var h=es(s,o)+1,g=l-h;f.disabled.push({before:l1(o,g)}),f.disabled.push({after:Kr(s,g)})}!o&&s&&(f.disabled.push({before:Kr(s,-l+1)}),f.disabled.push({after:Kr(s,l-1)}))}return v.jsx(U2.Provider,{value:{selected:r,onDayClick:c,modifiers:f},children:n})}function z2(){var t=O.useContext(U2);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Zp(t){return Array.isArray(t)?wN([],t):t!==void 0?[t]:[]}function qO(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=Zp(i)}),e}var Po;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Po||(Po={}));var $O=Po.Selected,Os=Po.Disabled,WO=Po.Hidden,HO=Po.Today,u1=Po.RangeEnd,d1=Po.RangeMiddle,f1=Po.RangeStart,GO=Po.Outside;function YO(t,e,n){var r,i=(r={},r[$O]=Zp(t.selected),r[Os]=Zp(t.disabled),r[WO]=Zp(t.hidden),r[HO]=[t.today],r[u1]=[],r[d1]=[],r[f1]=[],r[GO]=[],r);return t.fromDate&&i[Os].push({before:t.fromDate}),t.toDate&&i[Os].push({after:t.toDate}),wh(t)?i[Os]=i[Os].concat(e.modifiers[Os]):bh(t)&&(i[Os]=i[Os].concat(n.modifiers[Os]),i[f1]=n.modifiers[f1],i[d1]=n.modifiers[d1],i[u1]=n.modifiers[u1]),i}var NN=O.createContext(void 0);function KO(t){var e=dn(),n=B2(),r=z2(),i=YO(e,n,r),o=qO(e.modifiers),s=ut(ut({},i),o);return v.jsx(NN.Provider,{value:s,children:t.children})}function EN(){var t=O.useContext(NN);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function XO(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function QO(t){return!!(t&&typeof t=="object"&&"from"in t)}function JO(t){return!!(t&&typeof t=="object"&&"after"in t)}function ZO(t){return!!(t&&typeof t=="object"&&"before"in t)}function eD(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function tD(t,e){var n,r=e.from,i=e.to;if(r&&i){var o=es(i,r)<0;o&&(n=[i,r],r=n[0],i=n[1]);var s=es(t,r)>=0&&es(i,t)>=0;return s}return i?ui(i,t):r?ui(r,t):!1}function nD(t){return D2(t)}function rD(t){return Array.isArray(t)&&t.every(D2)}function iD(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(nD(n))return ui(t,n);if(rD(n))return n.includes(t);if(QO(n))return tD(t,n);if(eD(n))return n.dayOfWeek.includes(t.getDay());if(XO(n)){var r=es(n.before,t),i=es(n.after,t),o=r>0,s=i<0,a=q0(n.before,n.after);return a?s&&o:o||s}return JO(n)?es(t,n.after)>0:ZO(n)?es(n.before,t)>0:typeof n=="function"?n(t):!1})}function q2(t,e,n){var r=Object.keys(e).reduce(function(o,s){var a=e[s];return iD(t,a)&&o.push(s),o},[]),i={};return r.forEach(function(o){return i[o]=!0}),n&&!F2(t,n)&&(i.outside=!0),i}function oD(t,e){for(var n=pi(t[0]),r=M2(t[t.length-1]),i,o,s=n;s<=r;){var a=q2(s,e),l=!a.disabled&&!a.hidden;if(!l){s=Kr(s,1);continue}if(a.selected)return s;a.today&&!o&&(o=s),i||(i=s),s=Kr(s,1)}return o||i}var sD=365;function AN(t,e){var n=e.moveBy,r=e.direction,i=e.context,o=e.modifiers,s=e.retry,a=s===void 0?{count:0,lastFocused:t}:s,l=i.weekStartsOn,c=i.fromDate,f=i.toDate,h=i.locale,g={day:Kr,week:z0,month:Co,year:KR,startOfWeek:function(E){return i.ISOWeek?_c(E):ls(E,{locale:h,weekStartsOn:l})},endOfWeek:function(E){return i.ISOWeek?fN(E):j2(E,{locale:h,weekStartsOn:l})}},p=g[n](t,r==="after"?1:-1);r==="before"&&c?p=XR([c,p]):r==="after"&&f&&(p=QR([f,p]));var S=!0;if(o){var b=q2(p,o);S=!b.disabled&&!b.hidden}return S?p:a.count>sD?a.lastFocused:AN(p,{moveBy:n,direction:r,context:i,modifiers:o,retry:ut(ut({},a),{count:a.count+1})})}var CN=O.createContext(void 0);function aD(t){var e=_h(),n=EN(),r=O.useState(),i=r[0],o=r[1],s=O.useState(),a=s[0],l=s[1],c=oD(e.displayMonths,n),f=i??(a&&e.isDateDisplayed(a))?a:c,h=function(){l(i),o(void 0)},g=function(E){o(E)},p=dn(),S=function(E,w){if(i){var _=AN(i,{moveBy:E,direction:w,context:p,modifiers:n});ui(i,_)||(e.goToDate(_,i),g(_))}},b={focusedDay:i,focusTarget:f,blur:h,focus:g,focusDayAfter:function(){return S("day","after")},focusDayBefore:function(){return S("day","before")},focusWeekAfter:function(){return S("week","after")},focusWeekBefore:function(){return S("week","before")},focusMonthBefore:function(){return S("month","before")},focusMonthAfter:function(){return S("month","after")},focusYearBefore:function(){return S("year","before")},focusYearAfter:function(){return S("year","after")},focusStartOfWeek:function(){return S("startOfWeek","before")},focusEndOfWeek:function(){return S("endOfWeek","after")}};return v.jsx(CN.Provider,{value:b,children:t.children})}function $2(){var t=O.useContext(CN);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function lD(t,e){var n=EN(),r=q2(t,n,e);return r}var W2=O.createContext(void 0);function cD(t){if(!Vg(t.initialProps)){var e={selected:void 0};return v.jsx(W2.Provider,{value:e,children:t.children})}return v.jsx(uD,{initialProps:t.initialProps,children:t.children})}function uD(t){var e=t.initialProps,n=t.children,r=function(o,s,a){var l,c,f;if((l=e.onDayClick)===null||l===void 0||l.call(e,o,s,a),s.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,o,s,a);return}(f=e.onSelect)===null||f===void 0||f.call(e,o,o,s,a)},i={selected:e.selected,onDayClick:r};return v.jsx(W2.Provider,{value:i,children:n})}function PN(){var t=O.useContext(W2);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function dD(t,e){var n=dn(),r=PN(),i=B2(),o=z2(),s=$2(),a=s.focusDayAfter,l=s.focusDayBefore,c=s.focusWeekAfter,f=s.focusWeekBefore,h=s.blur,g=s.focus,p=s.focusMonthBefore,S=s.focusMonthAfter,b=s.focusYearBefore,E=s.focusYearAfter,w=s.focusStartOfWeek,_=s.focusEndOfWeek,A=function(re){var G,K,Q,ce;Vg(n)?(G=r.onDayClick)===null||G===void 0||G.call(r,t,e,re):wh(n)?(K=i.onDayClick)===null||K===void 0||K.call(i,t,e,re):bh(n)?(Q=o.onDayClick)===null||Q===void 0||Q.call(o,t,e,re):(ce=n.onDayClick)===null||ce===void 0||ce.call(n,t,e,re)},j=function(re){var G;g(t),(G=n.onDayFocus)===null||G===void 0||G.call(n,t,e,re)},q=function(re){var G;h(),(G=n.onDayBlur)===null||G===void 0||G.call(n,t,e,re)},Z=function(re){var G;(G=n.onDayMouseEnter)===null||G===void 0||G.call(n,t,e,re)},R=function(re){var G;(G=n.onDayMouseLeave)===null||G===void 0||G.call(n,t,e,re)},P=function(re){var G;(G=n.onDayPointerEnter)===null||G===void 0||G.call(n,t,e,re)},D=function(re){var G;(G=n.onDayPointerLeave)===null||G===void 0||G.call(n,t,e,re)},F=function(re){var G;(G=n.onDayTouchCancel)===null||G===void 0||G.call(n,t,e,re)},T=function(re){var G;(G=n.onDayTouchEnd)===null||G===void 0||G.call(n,t,e,re)},C=function(re){var G;(G=n.onDayTouchMove)===null||G===void 0||G.call(n,t,e,re)},L=function(re){var G;(G=n.onDayTouchStart)===null||G===void 0||G.call(n,t,e,re)},X=function(re){var G;(G=n.onDayKeyUp)===null||G===void 0||G.call(n,t,e,re)},fe=function(re){var G;switch(re.key){case"ArrowLeft":re.preventDefault(),re.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":re.preventDefault(),re.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":re.preventDefault(),re.stopPropagation(),c();break;case"ArrowUp":re.preventDefault(),re.stopPropagation(),f();break;case"PageUp":re.preventDefault(),re.stopPropagation(),re.shiftKey?b():p();break;case"PageDown":re.preventDefault(),re.stopPropagation(),re.shiftKey?E():S();break;case"Home":re.preventDefault(),re.stopPropagation(),w();break;case"End":re.preventDefault(),re.stopPropagation(),_();break}(G=n.onDayKeyDown)===null||G===void 0||G.call(n,t,e,re)},le={onClick:A,onFocus:j,onBlur:q,onKeyDown:fe,onKeyUp:X,onMouseEnter:Z,onMouseLeave:R,onPointerEnter:P,onPointerLeave:D,onTouchCancel:F,onTouchEnd:T,onTouchMove:C,onTouchStart:L};return le}function fD(){var t=dn(),e=PN(),n=B2(),r=z2(),i=Vg(t)?e.selected:wh(t)?n.selected:bh(t)?r.selected:void 0;return i}function hD(t){return Object.values(Po).includes(t)}function pD(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(hD(r)){var o=t.classNames["day_".concat(r)];o&&n.push(o)}}),n}function mD(t,e){var n=ut({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=ut(ut({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function gD(t,e,n){var r,i,o,s=dn(),a=$2(),l=lD(t,e),c=dD(t,l),f=fD(),h=!!(s.onDayClick||s.mode!=="default");O.useEffect(function(){var Z;l.outside||a.focusedDay&&h&&ui(a.focusedDay,t)&&((Z=n.current)===null||Z===void 0||Z.focus())},[a.focusedDay,t,n,h,l.outside]);var g=pD(s,l).join(" "),p=mD(s,l),S=!!(l.outside&&!s.showOutsideDays||l.hidden),b=(o=(i=s.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:jO,E=v.jsx(b,{date:t,displayMonth:e,activeModifiers:l}),w={style:p,className:g,children:E,role:"gridcell"},_=a.focusTarget&&ui(a.focusTarget,t)&&!l.outside,A=a.focusedDay&&ui(a.focusedDay,t),j=ut(ut(ut({},w),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=A||_?0:-1,r)),c),q={isButton:h,isHidden:S,activeModifiers:l,selectedDays:f,buttonProps:j,divProps:w};return q}function vD(t){var e=O.useRef(null),n=gD(t.date,t.displayMonth,e);return n.isHidden?v.jsx("div",{role:"gridcell"}):n.isButton?v.jsx(zm,ut({name:"day",ref:e},n.buttonProps)):v.jsx("div",ut({},n.divProps))}function yD(t){var e=t.number,n=t.dates,r=dn(),i=r.onWeekNumberClick,o=r.styles,s=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,f=c(Number(e),{locale:a});if(!i)return v.jsx("span",{className:s.weeknumber,style:o.weeknumber,children:f});var h=l(Number(e),{locale:a}),g=function(p){i(e,n,p)};return v.jsx(zm,{name:"week-number","aria-label":h,className:s.weeknumber,style:o.weeknumber,onClick:g,children:f})}function wD(t){var e,n,r=dn(),i=r.styles,o=r.classNames,s=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:vD,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:yD,f;return s&&(f=v.jsx("td",{className:o.cell,style:i.cell,children:v.jsx(c,{number:t.weekNumber,dates:t.dates})})),v.jsxs("tr",{className:o.row,style:i.row,children:[f,t.dates.map(function(h){return v.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:v.jsx(l,{displayMonth:t.displayMonth,date:h})},K8(h))})]})}function u_(t,e,n){for(var r=n!=null&&n.ISOWeek?fN(e):j2(e,n),i=n!=null&&n.ISOWeek?_c(t):ls(t,n),o=es(r,i),s=[],a=0;a<=o;a++)s.push(Kr(i,a));var l=s.reduce(function(c,f){var h=n!=null&&n.ISOWeek?pN(f):gN(f,n),g=c.find(function(p){return p.weekNumber===h});return g?(g.dates.push(f),c):(c.push({weekNumber:h,dates:[f]}),c)},[]);return l}function bD(t,e){var n=u_(pi(t),M2(t),e);if(e!=null&&e.useFixedWeeks){var r=Q8(t,e);if(r<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],s=z0(o,6-r),a=u_(z0(o,1),s,e);n.push.apply(n,a)}}return n}function _D(t){var e,n,r,i=dn(),o=i.locale,s=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,f=i.components,h=i.weekStartsOn,g=i.firstWeekContainsDate,p=i.ISOWeek,S=bD(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:p,locale:o,weekStartsOn:h,firstWeekContainsDate:g}),b=(e=f==null?void 0:f.Head)!==null&&e!==void 0?e:MO,E=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:wD,w=(r=f==null?void 0:f.Footer)!==null&&r!==void 0?r:RO;return v.jsxs("table",{id:t.id,className:s.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&v.jsx(b,{}),v.jsx("tbody",{className:s.tbody,style:a.tbody,children:S.map(function(_){return v.jsx(E,{displayMonth:t.displayMonth,dates:_.dates,weekNumber:_.weekNumber},_.weekNumber)})}),v.jsx(w,{displayMonth:t.displayMonth})]})}function xD(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var SD=xD()?O.useLayoutEffect:O.useEffect,h1=!1,ND=0;function d_(){return"react-day-picker-".concat(++ND)}function ED(t){var e,n=t??(h1?d_():null),r=O.useState(n),i=r[0],o=r[1];return SD(function(){i===null&&o(d_())},[]),O.useEffect(function(){h1===!1&&(h1=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function AD(t){var e,n,r=dn(),i=r.dir,o=r.classNames,s=r.styles,a=r.components,l=_h().displayMonths,c=ED(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),f=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,h=[o.month],g=s.month,p=t.displayIndex===0,S=t.displayIndex===l.length-1,b=!p&&!S;i==="rtl"&&(e=[p,S],S=e[0],p=e[1]),p&&(h.push(o.caption_start),g=ut(ut({},g),s.caption_start)),S&&(h.push(o.caption_end),g=ut(ut({},g),s.caption_end)),b&&(h.push(o.caption_between),g=ut(ut({},g),s.caption_between));var E=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:LO;return v.jsxs("div",{className:h.join(" "),style:g,children:[v.jsx(E,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),v.jsx(_D,{id:f,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function CD(t){var e=dn(),n=e.classNames,r=e.styles;return v.jsx("div",{className:n.months,style:r.months,children:t.children})}function PD(t){var e,n,r=t.initialProps,i=dn(),o=$2(),s=_h(),a=O.useState(!1),l=a[0],c=a[1];O.useEffect(function(){i.initialFocus&&o.focusTarget&&(l||(o.focus(o.focusTarget),c(!0)))},[i.initialFocus,l,o.focus,o.focusTarget,o]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var h=ut(ut({},i.styles.root),i.style),g=Object.keys(r).filter(function(S){return S.startsWith("data-")}).reduce(function(S,b){var E;return ut(ut({},S),(E={},E[b]=r[b],E))},{}),p=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:CD;return v.jsx("div",ut({className:f.join(" "),style:h,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},g,{children:v.jsx(p,{children:s.displayMonths.map(function(S,b){return v.jsx(AD,{displayIndex:b,displayMonth:S},b)})})}))}function TD(t){var e=t.children,n=Z8(t,["children"]);return v.jsx(yO,{initialProps:n,children:v.jsx(PO,{children:v.jsx(cD,{initialProps:n,children:v.jsx(FO,{initialProps:n,children:v.jsx(UO,{initialProps:n,children:v.jsx(KO,{children:v.jsx(aD,{children:e})})})})})})})}function kD(t){return v.jsx(TD,ut({},t,{children:v.jsx(PD,{initialProps:t})}))}function TN({className:t,classNames:e,showOutsideDays:n=!0,...r}){return v.jsx(kD,{showOutsideDays:n,className:jt("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:jt(B0({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:jt(B0({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...i})=>v.jsx(wR,{className:"h-4 w-4"}),IconRight:({...i})=>v.jsx(bR,{className:"h-4 w-4"})},...r})}TN.displayName="Calendar";const kN=({language:t,onProceed:e})=>{const n=Ur(),{toast:r}=ra(),[i,o]=O.useState(null),[s,a]=O.useState(null),[l,c]=O.useState(null),[f,h]=O.useState(!1),g=["09:00","09:30","10:00","10:30","11:00","14:00","15:30"],p=b=>{if(b.preventDefault(),i===null||!s||!l){r({title:t==="en"?"Missing Information":"Informacin Faltante",description:t==="en"?"Please select an appointment type, date, and time.":"Por favor seleccione tipo de cita, fecha y hora.",variant:"destructive"});return}h(!0)},S=()=>{!s||!l||(n("/appointment-confirmation",{state:{appointmentType:i?"Virtual Visit":"In-Person Visit",date:s.toISOString(),time:l}}),e&&e())};return v.jsxs("div",{className:"container mx-auto p-6 max-w-3xl",children:[v.jsxs(mi,{className:"shadow-lg p-6",children:[v.jsx(Oc,{children:v.jsxs("h1",{className:"text-3xl font-bold flex items-center space-x-2",children:[v.jsx(yR,{className:"h-7 w-7 text-blue-500"}),v.jsx("span",{children:t==="en"?"Schedule an Appointment":"Agendar una Cita"})]})}),v.jsxs(Dc,{className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-2",children:t==="en"?"How would you like to meet?":"Cmo le gustara reunirse?"}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs(bt,{variant:i===!0?"default":"outline",className:"w-full py-3",onClick:()=>{o(!0),a(null),c(null),h(!1)},children:[" ",t==="en"?"Virtual Visit":"Visita Virtual"]}),v.jsxs(bt,{variant:i===!1?"default":"outline",className:"w-full py-3",onClick:()=>{o(!1),a(null),c(null),h(!1)},children:[" ",t==="en"?"In-Person Visit":"Visita en Persona"]})]})]}),i!==null&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-2",children:t==="en"?"Select Date":"Seleccione la Fecha"}),v.jsx(TN,{mode:"single",selected:s,onSelect:a,className:"rounded-md border p-2 shadow-sm"})]}),s&&v.jsxs("div",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-2",children:t==="en"?"Select Time":"Seleccione la Hora"}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:g.map(b=>v.jsxs(bt,{variant:l===b?"default":"outline",className:"flex items-center justify-center gap-2 py-2",onClick:()=>c(b),children:[v.jsx(R2,{className:"h-4 w-4 text-gray-600"}),b]},b))})]})]}),v.jsx(Fg,{className:"flex justify-end",children:v.jsx(bt,{className:`w-full py-4 text-lg ${s&&l?"bg-blue-600 hover:bg-blue-700":"bg-gray-300 cursor-not-allowed"}`,onClick:p,disabled:!s||!l,children:t==="en"?"Confirm Selection":"Confirmar Seleccin"})})]}),f&&v.jsxs("div",{className:"mt-6 p-4 border rounded-md bg-gray-50",children:[v.jsxs("h3",{className:"text-xl font-bold flex items-center space-x-2",children:[v.jsx(L2,{className:"h-6 w-6 text-green-500"}),v.jsx("span",{children:t==="en"?"Appointment Confirmed!":"Cita Confirmada!"})]}),v.jsxs("p",{className:"mt-2",children:[t==="en"?"You have scheduled a":"Ha programado una"," ",v.jsx("strong",{children:i?"Virtual Visit":"In-Person Visit"})," ",t==="en"?"on":"el"," ",Ji(s,"PPP")," ",t==="en"?"at":"a las"," ",l,"."]}),v.jsx(bt,{className:"mt-4 w-full bg-green-600 hover:bg-green-700",onClick:S,children:t==="en"?"Proceed to Confirmation":"Proceder a Confirmacin"})]})]})},ID="modulepreload",LD=function(t){return"/health-connectivity-lounge/"+t},f_={},$0=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=LD(l),l in f_)return;f_[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":ID,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((g,p)=>{h.addEventListener("load",g),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return i.then(s=>{for(const a of s||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};function Jt(t){"@babel/helpers - typeof";return Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(t)}var Mr=Uint8Array,Ii=Uint16Array,H2=Int32Array,Bg=new Mr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ug=new Mr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),W0=new Mr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),IN=function(t,e){for(var n=new Ii(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new H2(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},LN=IN(Bg,2),RN=LN.b,H0=LN.r;RN[28]=258,H0[258]=28;var ON=IN(Ug,0),RD=ON.b,h_=ON.r,G0=new Ii(32768);for(var wn=0;wn<32768;++wn){var Fa=(wn&43690)>>1|(wn&21845)<<1;Fa=(Fa&52428)>>2|(Fa&13107)<<2,Fa=(Fa&61680)>>4|(Fa&3855)<<4,G0[wn]=((Fa&65280)>>8|(Fa&255)<<8)>>1}var is=function(t,e,n){for(var r=t.length,i=0,o=new Ii(e);i<r;++i)t[i]&&++o[t[i]-1];var s=new Ii(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new Ii(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],f=e-t[i],h=s[t[i]-1]++<<f,g=h|(1<<f)-1;h<=g;++h)a[G0[h]>>l]=c}else for(a=new Ii(r),i=0;i<r;++i)t[i]&&(a[i]=G0[s[t[i]-1]++]>>15-t[i]);return a},vl=new Mr(288);for(var wn=0;wn<144;++wn)vl[wn]=8;for(var wn=144;wn<256;++wn)vl[wn]=9;for(var wn=256;wn<280;++wn)vl[wn]=7;for(var wn=280;wn<288;++wn)vl[wn]=8;var th=new Mr(32);for(var wn=0;wn<32;++wn)th[wn]=5;var OD=is(vl,9,0),DD=is(vl,9,1),MD=is(th,5,0),jD=is(th,5,1),p1=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ho=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},m1=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},G2=function(t){return(t+7)/8|0},DN=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Mr(t.subarray(e,n))},FD=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],vo=function(t,e,n){var r=new Error(e||FD[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,vo),!n)throw r;return r},VD=function(t,e,n,r){var i=t.length,o=0;if(!i||e.f&&!e.l)return n||new Mr(0);var s=!n,a=s||e.i!=2,l=e.i;s&&(n=new Mr(i*3));var c=function(Se){var ke=n.length;if(Se>ke){var Me=new Mr(Math.max(ke*2,Se));Me.set(n),n=Me}},f=e.f||0,h=e.p||0,g=e.b||0,p=e.l,S=e.d,b=e.m,E=e.n,w=i*8;do{if(!p){f=ho(t,h,1);var _=ho(t,h+1,3);if(h+=3,_)if(_==1)p=DD,S=jD,b=9,E=5;else if(_==2){var Z=ho(t,h,31)+257,R=ho(t,h+10,15)+4,P=Z+ho(t,h+5,31)+1;h+=14;for(var D=new Mr(P),F=new Mr(19),T=0;T<R;++T)F[W0[T]]=ho(t,h+T*3,7);h+=R*3;for(var C=p1(F),L=(1<<C)-1,X=is(F,C,1),T=0;T<P;){var fe=X[ho(t,h,L)];h+=fe&15;var A=fe>>4;if(A<16)D[T++]=A;else{var le=0,re=0;for(A==16?(re=3+ho(t,h,3),h+=2,le=D[T-1]):A==17?(re=3+ho(t,h,7),h+=3):A==18&&(re=11+ho(t,h,127),h+=7);re--;)D[T++]=le}}var G=D.subarray(0,Z),K=D.subarray(Z);b=p1(G),E=p1(K),p=is(G,b,1),S=is(K,E,1)}else vo(1);else{var A=G2(h)+4,j=t[A-4]|t[A-3]<<8,q=A+j;if(q>i){l&&vo(0);break}a&&c(g+j),n.set(t.subarray(A,q),g),e.b=g+=j,e.p=h=q*8,e.f=f;continue}if(h>w){l&&vo(0);break}}a&&c(g+131072);for(var Q=(1<<b)-1,ce=(1<<E)-1,M=h;;M=h){var le=p[m1(t,h)&Q],H=le>>4;if(h+=le&15,h>w){l&&vo(0);break}if(le||vo(2),H<256)n[g++]=H;else if(H==256){M=h,p=null;break}else{var J=H-254;if(H>264){var T=H-257,ie=Bg[T];J=ho(t,h,(1<<ie)-1)+RN[T],h+=ie}var se=S[m1(t,h)&ce],oe=se>>4;se||vo(3),h+=se&15;var K=RD[oe];if(oe>3){var ie=Ug[oe];K+=m1(t,h)&(1<<ie)-1,h+=ie}if(h>w){l&&vo(0);break}a&&c(g+131072);var he=g+J;if(g<K){var ye=o-K,Ae=Math.min(K,he);for(ye+g<0&&vo(3);g<Ae;++g)n[g]=r[ye+g]}for(;g<he;++g)n[g]=n[g-K]}}e.l=p,e.p=M,e.b=g,e.f=f,p&&(f=1,e.m=b,e.d=S,e.n=E)}while(!f);return g!=n.length&&s?DN(n,0,g):n.subarray(0,g)},Ds=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},lf=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},g1=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return{t:jN,l:0};if(i==1){var s=new Mr(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(q,Z){return q.f-Z.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,f=1,h=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};f!=i-1;)a=n[n[c].f<n[h].f?c++:h++],l=n[c!=f&&n[c].f<n[h].f?c++:h++],n[f++]={s:-1,f:a.f+l.f,l:a,r:l};for(var g=o[0].s,r=1;r<i;++r)o[r].s>g&&(g=o[r].s);var p=new Ii(g+1),S=Y0(n[f-1],p,0);if(S>e){var r=0,b=0,E=S-e,w=1<<E;for(o.sort(function(Z,R){return p[R.s]-p[Z.s]||Z.f-R.f});r<i;++r){var _=o[r].s;if(p[_]>e)b+=w-(1<<S-p[_]),p[_]=e;else break}for(b>>=E;b>0;){var A=o[r].s;p[A]<e?b-=1<<e-p[A]++-1:++r}for(;r>=0&&b;--r){var j=o[r].s;p[j]==e&&(--p[j],++b)}S=e}return{t:new Mr(p),l:S}},Y0=function(t,e,n){return t.s==-1?Math.max(Y0(t.l,e,n+1),Y0(t.r,e,n+1)):e[t.s]=n},p_=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ii(++e),r=0,i=t[0],o=1,s=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return{c:n.subarray(0,r),n:e}},cf=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},MN=function(t,e,n){var r=n.length,i=G2(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var o=0;o<r;++o)t[i+o+4]=n[o];return(i+4+r)*8},m_=function(t,e,n,r,i,o,s,a,l,c,f){Ds(e,f++,n),++i[256];for(var h=g1(i,15),g=h.t,p=h.l,S=g1(o,15),b=S.t,E=S.l,w=p_(g),_=w.c,A=w.n,j=p_(b),q=j.c,Z=j.n,R=new Ii(19),P=0;P<_.length;++P)++R[_[P]&31];for(var P=0;P<q.length;++P)++R[q[P]&31];for(var D=g1(R,7),F=D.t,T=D.l,C=19;C>4&&!F[W0[C-1]];--C);var L=c+5<<3,X=cf(i,vl)+cf(o,th)+s,fe=cf(i,g)+cf(o,b)+s+14+3*C+cf(R,F)+2*R[16]+3*R[17]+7*R[18];if(l>=0&&L<=X&&L<=fe)return MN(e,f,t.subarray(l,l+c));var le,re,G,K;if(Ds(e,f,1+(fe<X)),f+=2,fe<X){le=is(g,p,0),re=g,G=is(b,E,0),K=b;var Q=is(F,T,0);Ds(e,f,A-257),Ds(e,f+5,Z-1),Ds(e,f+10,C-4),f+=14;for(var P=0;P<C;++P)Ds(e,f+3*P,F[W0[P]]);f+=3*C;for(var ce=[_,q],M=0;M<2;++M)for(var H=ce[M],P=0;P<H.length;++P){var J=H[P]&31;Ds(e,f,Q[J]),f+=F[J],J>15&&(Ds(e,f,H[P]>>5&127),f+=H[P]>>12)}}else le=OD,re=vl,G=MD,K=th;for(var P=0;P<a;++P){var ie=r[P];if(ie>255){var J=ie>>18&31;lf(e,f,le[J+257]),f+=re[J+257],J>7&&(Ds(e,f,ie>>23&31),f+=Bg[J]);var se=ie&31;lf(e,f,G[se]),f+=K[se],se>3&&(lf(e,f,ie>>5&8191),f+=Ug[se])}else lf(e,f,le[ie]),f+=re[ie]}return lf(e,f,le[256]),f+re[256]},BD=new H2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jN=new Mr(0),UD=function(t,e,n,r,i,o){var s=o.z||t.length,a=new Mr(r+s+5*(1+Math.ceil(s/7e3))+i),l=a.subarray(r,a.length-i),c=o.l,f=(o.r||0)&7;if(e){f&&(l[0]=o.r>>3);for(var h=BD[e-1],g=h>>13,p=h&8191,S=(1<<n)-1,b=o.p||new Ii(32768),E=o.h||new Ii(S+1),w=Math.ceil(n/3),_=2*w,A=function(Ye){return(t[Ye]^t[Ye+1]<<w^t[Ye+2]<<_)&S},j=new H2(25e3),q=new Ii(288),Z=new Ii(32),R=0,P=0,D=o.i||0,F=0,T=o.w||0,C=0;D+2<s;++D){var L=A(D),X=D&32767,fe=E[L];if(b[X]=fe,E[L]=X,T<=D){var le=s-D;if((R>7e3||F>24576)&&(le>423||!c)){f=m_(t,l,0,j,q,Z,P,F,C,D-C,f),F=R=P=0,C=D;for(var re=0;re<286;++re)q[re]=0;for(var re=0;re<30;++re)Z[re]=0}var G=2,K=0,Q=p,ce=X-fe&32767;if(le>2&&L==A(D-ce))for(var M=Math.min(g,le)-1,H=Math.min(32767,D),J=Math.min(258,le);ce<=H&&--Q&&X!=fe;){if(t[D+G]==t[D+G-ce]){for(var ie=0;ie<J&&t[D+ie]==t[D+ie-ce];++ie);if(ie>G){if(G=ie,K=ce,ie>M)break;for(var se=Math.min(ce,ie-2),oe=0,re=0;re<se;++re){var he=D-ce+re&32767,ye=b[he],Ae=he-ye&32767;Ae>oe&&(oe=Ae,fe=he)}}}X=fe,fe=b[X],ce+=X-fe&32767}if(K){j[F++]=268435456|H0[G]<<18|h_[K];var Se=H0[G]&31,ke=h_[K]&31;P+=Bg[Se]+Ug[ke],++q[257+Se],++Z[ke],T=D+G,++R}else j[F++]=t[D],++q[t[D]]}}for(D=Math.max(D,T);D<s;++D)j[F++]=t[D],++q[t[D]];f=m_(t,l,c,j,q,Z,P,F,C,D-C,f),c||(o.r=f&7|l[f/8|0]<<3,f-=7,o.h=E,o.p=b,o.i=D,o.w=T)}else{for(var D=o.w||0;D<s+c;D+=65535){var Me=D+65535;Me>=s&&(l[f/8|0]=c,Me=s),f=MN(l,f+1,t.subarray(D,Me))}o.i=s}return DN(a,0,r+G2(f)+i)},FN=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,o=n.length|0,s=0;s!=o;){for(var a=Math.min(s+2655,o);s<a;++s)i+=r+=n[s];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},zD=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),s=new Mr(o.length+t.length);s.set(o),s.set(t,o.length),t=s,i.w=o.length}return UD(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},VN=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},qD=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=FN();i.p(e.dictionary),VN(t,2,i.d())}},$D=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&vo(6,"invalid zlib data"),(t[1]>>5&1)==1&&vo(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function K0(t,e){e||(e={});var n=FN();n.p(t);var r=zD(t,e,e.dictionary?6:2,4);return qD(r,e),VN(r,r.length-4,n.d()),r}function WD(t,e){return VD(t.subarray($D(t),-4),{i:2},e,e)}var HD=typeof TextDecoder<"u"&&new TextDecoder,GD=0;try{HD.decode(jN,{stream:!0}),GD=1}catch{}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function v1(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var on={log:v1,warn:function(t){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):v1.call(null,arguments))},error:function(t){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):v1(t))}};function y1(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){rc(r.response,e,n)},r.onerror=function(){on.error("could not download file")},r.send()}function g_(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function xp(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Pf,X0,rc=lt.saveAs||((typeof window>"u"?"undefined":Jt(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=lt.URL||lt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?g_(i.href)?y1(t,e,n):xp(i,i.target="_blank"):xp(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){xp(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(g_(t))y1(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){xp(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:Jt(o)!=="object"&&(on.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return y1(t,e,n);var i=t.type==="application/octet-stream",o=/constructor/i.test(lt.HTMLElement)||lt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||i&&o)&&(typeof FileReader>"u"?"undefined":Jt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var f=a.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},a.readAsDataURL(t)}else{var l=lt.URL||lt.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function BN(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,o=n[r].process,s=i.exec(t);s&&(e=o(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function w1(t,e){var n=t[0],r=t[1],i=t[2],o=t[3];n=Cr(n,r,i,o,e[0],7,-680876936),o=Cr(o,n,r,i,e[1],12,-389564586),i=Cr(i,o,n,r,e[2],17,606105819),r=Cr(r,i,o,n,e[3],22,-1044525330),n=Cr(n,r,i,o,e[4],7,-176418897),o=Cr(o,n,r,i,e[5],12,1200080426),i=Cr(i,o,n,r,e[6],17,-1473231341),r=Cr(r,i,o,n,e[7],22,-45705983),n=Cr(n,r,i,o,e[8],7,1770035416),o=Cr(o,n,r,i,e[9],12,-1958414417),i=Cr(i,o,n,r,e[10],17,-42063),r=Cr(r,i,o,n,e[11],22,-1990404162),n=Cr(n,r,i,o,e[12],7,1804603682),o=Cr(o,n,r,i,e[13],12,-40341101),i=Cr(i,o,n,r,e[14],17,-1502002290),n=Pr(n,r=Cr(r,i,o,n,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Pr(o,n,r,i,e[6],9,-1069501632),i=Pr(i,o,n,r,e[11],14,643717713),r=Pr(r,i,o,n,e[0],20,-373897302),n=Pr(n,r,i,o,e[5],5,-701558691),o=Pr(o,n,r,i,e[10],9,38016083),i=Pr(i,o,n,r,e[15],14,-660478335),r=Pr(r,i,o,n,e[4],20,-405537848),n=Pr(n,r,i,o,e[9],5,568446438),o=Pr(o,n,r,i,e[14],9,-1019803690),i=Pr(i,o,n,r,e[3],14,-187363961),r=Pr(r,i,o,n,e[8],20,1163531501),n=Pr(n,r,i,o,e[13],5,-1444681467),o=Pr(o,n,r,i,e[2],9,-51403784),i=Pr(i,o,n,r,e[7],14,1735328473),n=Tr(n,r=Pr(r,i,o,n,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Tr(o,n,r,i,e[8],11,-2022574463),i=Tr(i,o,n,r,e[11],16,1839030562),r=Tr(r,i,o,n,e[14],23,-35309556),n=Tr(n,r,i,o,e[1],4,-1530992060),o=Tr(o,n,r,i,e[4],11,1272893353),i=Tr(i,o,n,r,e[7],16,-155497632),r=Tr(r,i,o,n,e[10],23,-1094730640),n=Tr(n,r,i,o,e[13],4,681279174),o=Tr(o,n,r,i,e[0],11,-358537222),i=Tr(i,o,n,r,e[3],16,-722521979),r=Tr(r,i,o,n,e[6],23,76029189),n=Tr(n,r,i,o,e[9],4,-640364487),o=Tr(o,n,r,i,e[12],11,-421815835),i=Tr(i,o,n,r,e[15],16,530742520),n=kr(n,r=Tr(r,i,o,n,e[2],23,-995338651),i,o,e[0],6,-198630844),o=kr(o,n,r,i,e[7],10,1126891415),i=kr(i,o,n,r,e[14],15,-1416354905),r=kr(r,i,o,n,e[5],21,-57434055),n=kr(n,r,i,o,e[12],6,1700485571),o=kr(o,n,r,i,e[3],10,-1894986606),i=kr(i,o,n,r,e[10],15,-1051523),r=kr(r,i,o,n,e[1],21,-2054922799),n=kr(n,r,i,o,e[8],6,1873313359),o=kr(o,n,r,i,e[15],10,-30611744),i=kr(i,o,n,r,e[6],15,-1560198380),r=kr(r,i,o,n,e[13],21,1309151649),n=kr(n,r,i,o,e[4],6,-145523070),o=kr(o,n,r,i,e[11],10,-1120210379),i=kr(i,o,n,r,e[2],15,718787259),r=kr(r,i,o,n,e[9],21,-343485551),t[0]=Za(n,t[0]),t[1]=Za(r,t[1]),t[2]=Za(i,t[2]),t[3]=Za(o,t[3])}function zg(t,e,n,r,i,o){return e=Za(Za(e,t),Za(r,o)),Za(e<<i|e>>>32-i,n)}function Cr(t,e,n,r,i,o,s){return zg(e&n|~e&r,t,e,i,o,s)}function Pr(t,e,n,r,i,o,s){return zg(e&r|n&~r,t,e,i,o,s)}function Tr(t,e,n,r,i,o,s){return zg(e^n^r,t,e,i,o,s)}function kr(t,e,n,r,i,o,s){return zg(n^(e|~r),t,e,i,o,s)}function UN(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)w1(r,YD(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(w1(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,w1(r,i),r}function YD(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Pf=lt.atob.bind(lt),X0=lt.btoa.bind(lt);var v_="0123456789abcdef".split("");function KD(t){for(var e="",n=0;n<4;n++)e+=v_[t>>8*n+4&15]+v_[t>>8*n&15];return e}function XD(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Q0(t){return UN(t).map(XD).join("")}var QD=function(t){for(var e=0;e<t.length;e++)t[e]=KD(t[e]);return t.join("")}(UN("hello"))!="5d41402abc4b2a76b9719d911017c592";function Za(t,e){if(QD){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function J0(t,e){var n,r,i,o;if(t!==n){for(var s=(i=t,o=1+(256/t.length>>0),new Array(o+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var f=a[l];c=(c+f+s.charCodeAt(l))%256,a[l]=a[c],a[c]=f}n=t,r=a}else a=r;var h=e.length,g=0,p=0,S="";for(l=0;l<h;l++)p=(p+(f=a[g=(g+1)%256]))%256,a[g]=a[p],a[p]=f,s=a[(a[g]+a[p])%256],S+=String.fromCharCode(e.charCodeAt(l)^s);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var y_={print:4,modify:8,copy:16,"annot-forms":32};function gu(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(y_.perm!==void 0)throw new Error("Invalid permission: "+a);i+=y_[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,s),this.P=-(1+(255^i)),this.encryptionKey=Q0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=J0(this.encryptionKey,this.padding)}function vu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function w_(t){if(Jt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var o=Math.random().toString(35);return e[n][o]=[r,!!i],o},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[n]){var s=e[n][o];try{s[0].apply(t,r)}catch(a){lt.console&&on.error("jsPDF PubSub Error",a.message,a)}s[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function qm(t){if(!(this instanceof qm))return new qm(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function zN(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function oc(t,e,n,r,i){if(!(this instanceof oc))return new oc(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,zN.call(this,r,i)}function Lu(t,e,n,r,i){if(!(this instanceof Lu))return new Lu(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,zN.call(this,r,i)}function st(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],s=[],a=1,l=16,c="S",f=null;Jt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,o=t.compress||t.compressPdf||o,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),s=t.filters||(o===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var h=t.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=w_;var S="1.3",b=p.__private__.getPdfVersion=function(){return S};p.__private__.setPdfVersion=function(y){S=y};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return E};var w=p.__private__.getPageFormat=function(y){return E[y]};i=i||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},A=_.COMPAT;function j(){this.saveGraphicsState(),ne(new He($e,0,0,-$e,0,Nr()*$e).toString()+" cm"),this.setFontSize(this.getFontSize()/$e),c="n",A=_.ADVANCED}function q(){this.restoreGraphicsState(),c="S",A=_.COMPAT}var Z=p.__private__.combineFontStyleAndFontWeight=function(y,V){if(y=="bold"&&V=="normal"||y=="bold"&&V==400||y=="normal"&&V=="italic"||y=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(y=V==400||V==="normal"?y==="italic"?"italic":"normal":V!=700&&V!=="bold"||y!=="normal"?(V==700?"bold":V)+""+y:"bold"),y};p.advancedAPI=function(y){var V=A===_.COMPAT;return V&&j.call(this),typeof y!="function"||(y(this),V&&q.call(this)),this},p.compatAPI=function(y){var V=A===_.ADVANCED;return V&&q.call(this),typeof y!="function"||(y(this),V&&j.call(this)),this},p.isAdvancedAPI=function(){return A===_.ADVANCED};var R,P=function(y){if(A!==_.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=p.roundToPrecision=p.__private__.roundToPrecision=function(y,V){var te=e||V;if(isNaN(y)||isNaN(te))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(te).replace(/0+$/,"")};R=p.hpf=p.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return D(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return D(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return D(y,16)};var F=p.f2=p.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return D(y,2)},T=p.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return D(y,3)},C=p.scale=p.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return A===_.COMPAT?y*$e:A===_.ADVANCED?y:void 0},L=function(y){return A===_.COMPAT?Nr()-y:A===_.ADVANCED?y:void 0},X=function(y){return C(L(y))};p.__private__.setPrecision=p.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var fe,le="00000000000000000000000000000000",re=p.__private__.getFileId=function(){return le},G=p.__private__.setFileId=function(y){return le=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(gn=new gu(f.userPermissions,f.userPassword,f.ownerPassword,le)),le};p.setFileId=function(y){return G(y),this},p.getFileId=function(){return re()};var K=p.__private__.convertDateToPDFDate=function(y){var V=y.getTimezoneOffset(),te=V<0?"+":"-",ae=Math.floor(Math.abs(V/60)),ge=Math.abs(V%60),Ee=[te,J(ae),"'",J(ge),"'"].join("");return["D:",y.getFullYear(),J(y.getMonth()+1),J(y.getDate()),J(y.getHours()),J(y.getMinutes()),J(y.getSeconds()),Ee].join("")},Q=p.__private__.convertPDFDateToDate=function(y){var V=parseInt(y.substr(2,4),10),te=parseInt(y.substr(6,2),10)-1,ae=parseInt(y.substr(8,2),10),ge=parseInt(y.substr(10,2),10),Ee=parseInt(y.substr(12,2),10),Re=parseInt(y.substr(14,2),10);return new Date(V,te,ae,ge,Ee,Re,0)},ce=p.__private__.setCreationDate=function(y){var V;if(y===void 0&&(y=new Date),y instanceof Date)V=K(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=y}return fe=V},M=p.__private__.getCreationDate=function(y){var V=fe;return y==="jsDate"&&(V=Q(fe)),V};p.setCreationDate=function(y){return ce(y),this},p.getCreationDate=function(y){return M(y)};var H,J=p.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},ie=p.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},se=0,oe=[],he=[],ye=0,Ae=[],Se=[],ke=!1,Me=he,Ye=function(){se=0,ye=0,he=[],oe=[],Ae=[],yi=sn(),tr=sn()};p.__private__.setCustomOutputDestination=function(y){ke=!0,Me=y};var xe=function(y){ke||(Me=y)};p.__private__.resetCustomOutputDestination=function(){ke=!1,Me=he};var ne=p.__private__.out=function(y){return y=y.toString(),ye+=y.length+1,Me.push(y),Me},rt=p.__private__.write=function(y){return ne(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},Ke=p.__private__.getArrayBuffer=function(y){for(var V=y.length,te=new ArrayBuffer(V),ae=new Uint8Array(te);V--;)ae[V]=y.charCodeAt(V);return te},Oe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Oe};var Ve=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(y){return Ve=A===_.ADVANCED?y/$e:y,this};var qe,Be=p.__private__.getFontSize=p.getFontSize=function(){return A===_.COMPAT?Ve:Ve*$e},Je=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(y){return Je=y,this},p.__private__.getR2L=p.getR2L=function(){return Je};var at,ft=p.__private__.setZoomMode=function(y){var V=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))qe=y;else if(isNaN(y)){if(V.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');qe=y}else qe=parseInt(y,10)};p.__private__.getZoomMode=function(){return qe};var et,tt=p.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');at=y};p.__private__.getPageMode=function(){return at};var Rt=p.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');et=y};p.__private__.getLayoutMode=function(){return et},p.__private__.setDisplayMode=p.setDisplayMode=function(y,V,te){return ft(y),Rt(V),tt(te),this};var it={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(y){if(Object.keys(it).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return it[y]},p.__private__.getDocumentProperties=function(){return it},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(y){for(var V in it)it.hasOwnProperty(V)&&y[V]&&(it[V]=y[V]);return this},p.__private__.setDocumentProperty=function(y,V){if(Object.keys(it).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return it[y]=V};var yt,$e,fn,Nt,hn,ht={},Et={},Un=[],wt={},_r={},qt={},zn={},xr=null,Ht=0,nt=[],Tt=new w_(p),Zr=t.hotfixes||[],pn={},Jn={},Zn=[],He=function y(V,te,ae,ge,Ee,Re){if(!(this instanceof y))return new y(V,te,ae,ge,Ee,Re);isNaN(V)&&(V=1),isNaN(te)&&(te=0),isNaN(ae)&&(ae=0),isNaN(ge)&&(ge=1),isNaN(Ee)&&(Ee=0),isNaN(Re)&&(Re=0),this._matrix=[V,te,ae,ge,Ee,Re]};Object.defineProperty(He.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(He.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(He.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(He.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(He.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(He.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(He.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(He.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(He.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(He.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(He.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(He.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(He.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(He.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(He.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(He.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),He.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(y)},He.prototype.multiply=function(y){var V=y.sx*this.sx+y.shy*this.shx,te=y.sx*this.shy+y.shy*this.sy,ae=y.shx*this.sx+y.sy*this.shx,ge=y.shx*this.shy+y.sy*this.sy,Ee=y.tx*this.sx+y.ty*this.shx+this.tx,Re=y.tx*this.shy+y.ty*this.sy+this.ty;return new He(V,te,ae,ge,Ee,Re)},He.prototype.decompose=function(){var y=this.sx,V=this.shy,te=this.shx,ae=this.sy,ge=this.tx,Ee=this.ty,Re=Math.sqrt(y*y+V*V),ze=(y/=Re)*te+(V/=Re)*ae;te-=y*ze,ae-=V*ze;var d=Math.sqrt(te*te+ae*ae);return ze/=d,y*(ae/=d)<V*(te/=d)&&(y=-y,V=-V,ze=-ze,Re=-Re),{scale:new He(Re,0,0,d,0,0),translate:new He(1,0,0,1,ge,Ee),rotate:new He(y,V,-V,y,0,0),skew:new He(1,0,ze,1,0,0)}},He.prototype.toString=function(y){return this.join(" ")},He.prototype.inversed=function(){var y=this.sx,V=this.shy,te=this.shx,ae=this.sy,ge=this.tx,Ee=this.ty,Re=1/(y*ae-V*te),ze=ae*Re,d=-V*Re,N=-te*Re,I=y*Re;return new He(ze,d,N,I,-ze*ge-N*Ee,-d*ge-I*Ee)},He.prototype.applyToPoint=function(y){var V=y.x*this.sx+y.y*this.shx+this.tx,te=y.x*this.shy+y.y*this.sy+this.ty;return new Ns(V,te)},He.prototype.applyToRectangle=function(y){var V=this.applyToPoint(y),te=this.applyToPoint(new Ns(y.x+y.w,y.y+y.h));return new wa(V.x,V.y,te.x-V.x,te.y-V.y)},He.prototype.clone=function(){var y=this.sx,V=this.shy,te=this.shx,ae=this.sy,ge=this.tx,Ee=this.ty;return new He(y,V,te,ae,ge,Ee)},p.Matrix=He;var Sr=p.matrixMult=function(y,V){return V.multiply(y)},er=new He(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=er;var An=function(y,V){if(!_r[y]){var te=(V instanceof oc?"Sh":"P")+(Object.keys(wt).length+1).toString(10);V.id=te,_r[y]=te,wt[te]=V,Tt.publish("addPattern",V)}};p.ShadingPattern=oc,p.TilingPattern=Lu,p.addShadingPattern=function(y,V){return P("addShadingPattern()"),An(y,V),this},p.beginTilingPattern=function(y){P("beginTilingPattern()"),ba(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},p.endTilingPattern=function(y,V){P("endTilingPattern()"),V.stream=Se[H].join(`
`),An(y,V),Tt.publish("endTilingPattern",V),Zn.pop().restore()};var Ot=p.__private__.newObject=function(){var y=sn();return Cn(y,!0),y},sn=p.__private__.newObjectDeferred=function(){return se++,oe[se]=function(){return ye},se},Cn=function(y,V){return V=typeof V=="boolean"&&V,oe[y]=ye,V&&ne(y+" 0 obj"),y},Oo=p.__private__.newAdditionalObject=function(){var y={objId:sn(),content:""};return Ae.push(y),y},yi=sn(),tr=sn(),ei=p.__private__.decodeColorString=function(y){var V=y.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length===5&&(V[4]==="k"||V[4]==="K")&&(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var te=parseFloat(V[0]);V=[te,te,te,"r"]}for(var ae="#",ge=0;ge<3;ge++)ae+=("0"+Math.floor(255*parseFloat(V[ge])).toString(16)).slice(-2);return ae},zr=p.__private__.encodeColorString=function(y){var V;typeof y=="string"&&(y={ch1:y});var te=y.ch1,ae=y.ch2,ge=y.ch3,Ee=y.ch4,Re=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof te=="string"&&te.charAt(0)!=="#"){var ze=new BN(te);if(ze.ok)te=ze.toHex();else if(!/^\d*\.?\d*$/.test(te))throw new Error('Invalid color "'+te+'" passed to jsPDF.encodeColorString.')}if(typeof te=="string"&&/^#[0-9A-Fa-f]{3}$/.test(te)&&(te="#"+te[1]+te[1]+te[2]+te[2]+te[3]+te[3]),typeof te=="string"&&/^#[0-9A-Fa-f]{6}$/.test(te)){var d=parseInt(te.substr(1),16);te=d>>16&255,ae=d>>8&255,ge=255&d}if(ae===void 0||Ee===void 0&&te===ae&&ae===ge)if(typeof te=="string")V=te+" "+Re[0];else switch(y.precision){case 2:V=F(te/255)+" "+Re[0];break;case 3:default:V=T(te/255)+" "+Re[0]}else if(Ee===void 0||Jt(Ee)==="object"){if(Ee&&!isNaN(Ee.a)&&Ee.a===0)return V=["1.","1.","1.",Re[1]].join(" ");if(typeof te=="string")V=[te,ae,ge,Re[1]].join(" ");else switch(y.precision){case 2:V=[F(te/255),F(ae/255),F(ge/255),Re[1]].join(" ");break;default:case 3:V=[T(te/255),T(ae/255),T(ge/255),Re[1]].join(" ")}}else if(typeof te=="string")V=[te,ae,ge,Ee,Re[2]].join(" ");else switch(y.precision){case 2:V=[F(te),F(ae),F(ge),F(Ee),Re[2]].join(" ");break;case 3:default:V=[T(te),T(ae),T(ge),T(Ee),Re[2]].join(" ")}return V},qr=p.__private__.getFilters=function(){return s},On=p.__private__.putStream=function(y){var V=(y=y||{}).data||"",te=y.filters||qr(),ae=y.alreadyAppliedFilters||[],ge=y.addLength1||!1,Ee=V.length,Re=y.objectId,ze=function(mt){return mt};if(f!==null&&Re===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(ze=gn.encryptor(Re,0));var d={};te===!0&&(te=["FlateEncode"]);var N=y.additionalKeyValues||[],I=(d=st.API.processDataByFilters!==void 0?st.API.processDataByFilters(V,te):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(d.data.length!==0&&(N.push({key:"Length",value:d.data.length}),ge===!0&&N.push({key:"Length1",value:Ee})),I.length!=0)if(I.split("/").length-1==1)N.push({key:"Filter",value:I});else{N.push({key:"Filter",value:"["+I+"]"});for(var $=0;$<N.length;$+=1)if(N[$].key==="DecodeParms"){for(var me=[],_e=0;_e<d.reverseChain.split("/").length-1;_e+=1)me.push("null");me.push(N[$].value),N[$].value="["+me.join(" ")+"]"}}ne("<<");for(var De=0;De<N.length;De++)ne("/"+N[De].key+" "+N[De].value);ne(">>"),d.data.length!==0&&(ne("stream"),ne(ze(d.data)),ne("endstream"))},wi=p.__private__.putPage=function(y){var V=y.number,te=y.data,ae=y.objId,ge=y.contentsObjId;Cn(ae,!0),ne("<</Type /Page"),ne("/Parent "+y.rootDictionaryObjId+" 0 R"),ne("/Resources "+y.resourceDictionaryObjId+" 0 R"),ne("/MediaBox ["+parseFloat(R(y.mediaBox.bottomLeftX))+" "+parseFloat(R(y.mediaBox.bottomLeftY))+" "+R(y.mediaBox.topRightX)+" "+R(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&ne("/CropBox ["+R(y.cropBox.bottomLeftX)+" "+R(y.cropBox.bottomLeftY)+" "+R(y.cropBox.topRightX)+" "+R(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&ne("/BleedBox ["+R(y.bleedBox.bottomLeftX)+" "+R(y.bleedBox.bottomLeftY)+" "+R(y.bleedBox.topRightX)+" "+R(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&ne("/TrimBox ["+R(y.trimBox.bottomLeftX)+" "+R(y.trimBox.bottomLeftY)+" "+R(y.trimBox.topRightX)+" "+R(y.trimBox.topRightY)+"]"),y.artBox!==null&&ne("/ArtBox ["+R(y.artBox.bottomLeftX)+" "+R(y.artBox.bottomLeftY)+" "+R(y.artBox.topRightX)+" "+R(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&ne("/UserUnit "+y.userUnit),Tt.publish("putPage",{objId:ae,pageContext:nt[V],pageNumber:V,page:te}),ne("/Contents "+ge+" 0 R"),ne(">>"),ne("endobj");var Ee=te.join(`
`);return A===_.ADVANCED&&(Ee+=`
Q`),Cn(ge,!0),On({data:Ee,filters:qr(),objectId:ge}),ne("endobj"),ae},Do=p.__private__.putPages=function(){var y,V,te=[];for(y=1;y<=Ht;y++)nt[y].objId=sn(),nt[y].contentsObjId=sn();for(y=1;y<=Ht;y++)te.push(wi({number:y,data:Se[y],objId:nt[y].objId,contentsObjId:nt[y].contentsObjId,mediaBox:nt[y].mediaBox,cropBox:nt[y].cropBox,bleedBox:nt[y].bleedBox,trimBox:nt[y].trimBox,artBox:nt[y].artBox,userUnit:nt[y].userUnit,rootDictionaryObjId:yi,resourceDictionaryObjId:tr}));Cn(yi,!0),ne("<</Type /Pages");var ae="/Kids [";for(V=0;V<Ht;V++)ae+=te[V]+" 0 R ";ne(ae+"]"),ne("/Count "+Ht),ne(">>"),ne("endobj"),Tt.publish("postPutPages")},Mo=function(y){Tt.publish("putFont",{font:y,out:ne,newObject:Ot,putStream:On}),y.isAlreadyPutted!==!0&&(y.objectNumber=Ot(),ne("<<"),ne("/Type /Font"),ne("/BaseFont /"+vu(y.postScriptName)),ne("/Subtype /Type1"),typeof y.encoding=="string"&&ne("/Encoding /"+y.encoding),ne("/FirstChar 32"),ne("/LastChar 255"),ne(">>"),ne("endobj"))},jo=function(){for(var y in ht)ht.hasOwnProperty(y)&&(h===!1||h===!0&&g.hasOwnProperty(y))&&Mo(ht[y])},ms=function(y){y.objectNumber=Ot();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[R(y.x),R(y.y),R(y.x+y.width),R(y.y+y.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var te=y.pages[1].join(`
`);On({data:te,additionalKeyValues:V,objectId:y.objectNumber}),ne("endobj")},gs=function(){for(var y in pn)pn.hasOwnProperty(y)&&ms(pn[y])},Vc=function(y,V){var te,ae=[],ge=1/(V-1);for(te=0;te<1;te+=ge)ae.push(te);if(ae.push(1),y[0].offset!=0){var Ee={offset:0,color:y[0].color};y.unshift(Ee)}if(y[y.length-1].offset!=1){var Re={offset:1,color:y[y.length-1].color};y.push(Re)}for(var ze="",d=0,N=0;N<ae.length;N++){for(te=ae[N];te>y[d+1].offset;)d++;var I=y[d].offset,$=(te-I)/(y[d+1].offset-I),me=y[d].color,_e=y[d+1].color;ze+=ie(Math.round((1-$)*me[0]+$*_e[0]).toString(16))+ie(Math.round((1-$)*me[1]+$*_e[1]).toString(16))+ie(Math.round((1-$)*me[2]+$*_e[2]).toString(16))}return ze.trim()},sa=function(y,V){V||(V=21);var te=Ot(),ae=Vc(y.colors,V),ge=[];ge.push({key:"FunctionType",value:"0"}),ge.push({key:"Domain",value:"[0.0 1.0]"}),ge.push({key:"Size",value:"["+V+"]"}),ge.push({key:"BitsPerSample",value:"8"}),ge.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ge.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),On({data:ae,additionalKeyValues:ge,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:te}),ne("endobj"),y.objectNumber=Ot(),ne("<< /ShadingType "+y.type),ne("/ColorSpace /DeviceRGB");var Ee="/Coords ["+R(parseFloat(y.coords[0]))+" "+R(parseFloat(y.coords[1]))+" ";y.type===2?Ee+=R(parseFloat(y.coords[2]))+" "+R(parseFloat(y.coords[3])):Ee+=R(parseFloat(y.coords[2]))+" "+R(parseFloat(y.coords[3]))+" "+R(parseFloat(y.coords[4]))+" "+R(parseFloat(y.coords[5])),ne(Ee+="]"),y.matrix&&ne("/Matrix ["+y.matrix.toString()+"]"),ne("/Function "+te+" 0 R"),ne("/Extend [true true]"),ne(">>"),ne("endobj")},Bc=function(y,V){var te=sn(),ae=Ot();V.push({resourcesOid:te,objectOid:ae}),y.objectNumber=ae;var ge=[];ge.push({key:"Type",value:"/Pattern"}),ge.push({key:"PatternType",value:"1"}),ge.push({key:"PaintType",value:"1"}),ge.push({key:"TilingType",value:"1"}),ge.push({key:"BBox",value:"["+y.boundingBox.map(R).join(" ")+"]"}),ge.push({key:"XStep",value:R(y.xStep)}),ge.push({key:"YStep",value:R(y.yStep)}),ge.push({key:"Resources",value:te+" 0 R"}),y.matrix&&ge.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),On({data:y.stream,additionalKeyValues:ge,objectId:y.objectNumber}),ne("endobj")},Fo=function(y){var V;for(V in wt)wt.hasOwnProperty(V)&&(wt[V]instanceof oc?sa(wt[V]):wt[V]instanceof Lu&&Bc(wt[V],y))},Vo=function(y){for(var V in y.objectNumber=Ot(),ne("<<"),y)switch(V){case"opacity":ne("/ca "+F(y[V]));break;case"stroke-opacity":ne("/CA "+F(y[V]))}ne(">>"),ne("endobj")},to=function(){var y;for(y in qt)qt.hasOwnProperty(y)&&Vo(qt[y])},vs=function(){for(var y in ne("/XObject <<"),pn)pn.hasOwnProperty(y)&&pn[y].objectNumber>=0&&ne("/"+y+" "+pn[y].objectNumber+" 0 R");Tt.publish("putXobjectDict"),ne(">>")},Id=function(){gn.oid=Ot(),ne("<<"),ne("/Filter /Standard"),ne("/V "+gn.v),ne("/R "+gn.r),ne("/U <"+gn.toHexString(gn.U)+">"),ne("/O <"+gn.toHexString(gn.O)+">"),ne("/P "+gn.P),ne(">>"),ne("endobj")},Ol=function(){for(var y in ne("/Font <<"),ht)ht.hasOwnProperty(y)&&(h===!1||h===!0&&g.hasOwnProperty(y))&&ne("/"+y+" "+ht[y].objectNumber+" 0 R");ne(">>")},Uc=function(){if(Object.keys(wt).length>0){for(var y in ne("/Shading <<"),wt)wt.hasOwnProperty(y)&&wt[y]instanceof oc&&wt[y].objectNumber>=0&&ne("/"+y+" "+wt[y].objectNumber+" 0 R");Tt.publish("putShadingPatternDict"),ne(">>")}},ys=function(y){if(Object.keys(wt).length>0){for(var V in ne("/Pattern <<"),wt)wt.hasOwnProperty(V)&&wt[V]instanceof p.TilingPattern&&wt[V].objectNumber>=0&&wt[V].objectNumber<y&&ne("/"+V+" "+wt[V].objectNumber+" 0 R");Tt.publish("putTilingPatternDict"),ne(">>")}},Dl=function(){if(Object.keys(qt).length>0){var y;for(y in ne("/ExtGState <<"),qt)qt.hasOwnProperty(y)&&qt[y].objectNumber>=0&&ne("/"+y+" "+qt[y].objectNumber+" 0 R");Tt.publish("putGStateDict"),ne(">>")}},mn=function(y){Cn(y.resourcesOid,!0),ne("<<"),ne("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ol(),Uc(),ys(y.objectOid),Dl(),vs(),ne(">>"),ne("endobj")},Ml=function(){var y=[];jo(),to(),gs(),Fo(y),Tt.publish("putResources"),y.forEach(mn),mn({resourcesOid:tr,objectOid:Number.MAX_SAFE_INTEGER}),Tt.publish("postPutResources")},jl=function(){Tt.publish("putAdditionalObjects");for(var y=0;y<Ae.length;y++){var V=Ae[y];Cn(V.objId,!0),ne(V.content),ne("endobj")}Tt.publish("postPutAdditionalObjects")},zc=function(y){Et[y.fontName]=Et[y.fontName]||{},Et[y.fontName][y.fontStyle]=y.id},Fl=function(y,V,te,ae,ge){var Ee={id:"F"+(Object.keys(ht).length+1).toString(10),postScriptName:y,fontName:V,fontStyle:te,encoding:ae,isStandardFont:ge||!1,metadata:{}};return Tt.publish("addFont",{font:Ee,instance:this}),ht[Ee.id]=Ee,zc(Ee),Ee.id},qc=function(y){for(var V=0,te=Oe.length;V<te;V++){var ae=Fl.call(this,y[V][0],y[V][1],y[V][2],Oe[V][3],!0);h===!1&&(g[ae]=!0);var ge=y[V][0].split("-");zc({id:ae,fontName:ge[0],fontStyle:ge[1]||""})}Tt.publish("addFonts",{fonts:ht,dictionary:Et})},ti=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(ae){var V=ae.stack||"";~V.indexOf(" at ")&&(V=V.split(" at ")[1]);var te="Error in function "+V.split(`
`)[0].split("<")[0]+": "+ae.message;if(!lt.console)throw new Error(te);lt.console.error(te,ae),lt.alert&&alert(te)}},y.foo.bar=y,y.foo},aa=function(y,V){var te,ae,ge,Ee,Re,ze,d,N,I;if(ge=(V=V||{}).sourceEncoding||"Unicode",Re=V.outputEncoding,(V.autoencode||Re)&&ht[yt].metadata&&ht[yt].metadata[ge]&&ht[yt].metadata[ge].encoding&&(Ee=ht[yt].metadata[ge].encoding,!Re&&ht[yt].encoding&&(Re=ht[yt].encoding),!Re&&Ee.codePages&&(Re=Ee.codePages[0]),typeof Re=="string"&&(Re=Ee[Re]),Re)){for(d=!1,ze=[],te=0,ae=y.length;te<ae;te++)(N=Re[y.charCodeAt(te)])?ze.push(String.fromCharCode(N)):ze.push(y[te]),ze[te].charCodeAt(0)>>8&&(d=!0);y=ze.join("")}for(te=y.length;d===void 0&&te!==0;)y.charCodeAt(te-1)>>8&&(d=!0),te--;if(!d)return y;for(ze=V.noBOM?[]:[254,255],te=0,ae=y.length;te<ae;te++){if((I=(N=y.charCodeAt(te))>>8)>>8)throw new Error("Character at position "+te+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ze.push(I),ze.push(N-(I<<8))}return String.fromCharCode.apply(void 0,ze)},Pn=p.__private__.pdfEscape=p.pdfEscape=function(y,V){return aa(y,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$r=p.__private__.beginPage=function(y){Se[++Ht]=[],nt[Ht]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},Vl(Ht),xe(Se[H])},ws=function(y,V){var te,ae,ge;switch(n=V||n,typeof y=="string"&&(te=w(y.toLowerCase()),Array.isArray(te)&&(ae=te[0],ge=te[1])),Array.isArray(y)&&(ae=y[0]*$e,ge=y[1]*$e),isNaN(ae)&&(ae=i[0],ge=i[1]),(ae>14400||ge>14400)&&(on.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),ge=Math.min(14400,ge)),i=[ae,ge],n.substr(0,1)){case"l":ge>ae&&(i=[ge,ae]);break;case"p":ae>ge&&(i=[ge,ae])}$r(i),$l(ql),ne(ur),Gl!==0&&ne(Gl+" J"),ya!==0&&ne(ya+" j"),Tt.publish("addPage",{pageNumber:Ht})},la=function(y){y>0&&y<=Ht&&(Se.splice(y,1),nt.splice(y,1),Ht--,H>Ht&&(H=Ht),this.setPage(H))},Vl=function(y){y>0&&y<=Ht&&(H=y)},Gt=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return Se.length-1},bs=function(y,V,te){var ae,ge=void 0;return te=te||{},y=y!==void 0?y:ht[yt].fontName,V=V!==void 0?V:ht[yt].fontStyle,ae=y.toLowerCase(),Et[ae]!==void 0&&Et[ae][V]!==void 0?ge=Et[ae][V]:Et[y]!==void 0&&Et[y][V]!==void 0?ge=Et[y][V]:te.disableWarning===!1&&on.warn("Unable to look up font label for font '"+y+"', '"+V+"'. Refer to getFontList() for available fonts."),ge||te.noFallback||(ge=Et.times[V])==null&&(ge=Et.times.normal),ge},_s=p.__private__.putInfo=function(){var y=Ot(),V=function(ae){return ae};for(var te in f!==null&&(V=gn.encryptor(y,0)),ne("<<"),ne("/Producer ("+Pn(V("jsPDF "+st.version))+")"),it)it.hasOwnProperty(te)&&it[te]&&ne("/"+te.substr(0,1).toUpperCase()+te.substr(1)+" ("+Pn(V(it[te]))+")");ne("/CreationDate ("+Pn(V(fe))+")"),ne(">>"),ne("endobj")},no=p.__private__.putCatalog=function(y){var V=(y=y||{}).rootDictionaryObjId||yi;switch(Ot(),ne("<<"),ne("/Type /Catalog"),ne("/Pages "+V+" 0 R"),qe||(qe="fullwidth"),qe){case"fullwidth":ne("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ne("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ne("/OpenAction [3 0 R /Fit]");break;case"original":ne("/OpenAction [3 0 R /XYZ null null 1]");break;default:var te=""+qe;te.substr(te.length-1)==="%"&&(qe=parseInt(qe)/100),typeof qe=="number"&&ne("/OpenAction [3 0 R /XYZ null null "+F(qe)+"]")}switch(et||(et="continuous"),et){case"continuous":ne("/PageLayout /OneColumn");break;case"single":ne("/PageLayout /SinglePage");break;case"two":case"twoleft":ne("/PageLayout /TwoColumnLeft");break;case"tworight":ne("/PageLayout /TwoColumnRight")}at&&ne("/PageMode /"+at),Tt.publish("putCatalog"),ne(">>"),ne("endobj")},Ld=p.__private__.putTrailer=function(){ne("trailer"),ne("<<"),ne("/Size "+(se+1)),ne("/Root "+se+" 0 R"),ne("/Info "+(se-1)+" 0 R"),f!==null&&ne("/Encrypt "+gn.oid+" 0 R"),ne("/ID [ <"+le+"> <"+le+"> ]"),ne(">>")},$c=p.__private__.putHeader=function(){ne("%PDF-"+S),ne("%")},Rd=p.__private__.putXRef=function(){var y="0000000000";ne("xref"),ne("0 "+(se+1)),ne("0000000000 65535 f ");for(var V=1;V<=se;V++)typeof oe[V]=="function"?ne((y+oe[V]()).slice(-10)+" 00000 n "):oe[V]!==void 0?ne((y+oe[V]).slice(-10)+" 00000 n "):ne("0000000000 00000 n ")},ro=p.__private__.buildDocument=function(){Ye(),xe(he),Tt.publish("buildDocument"),$c(),Do(),jl(),Ml(),f!==null&&Id(),_s(),no();var y=ye;return Rd(),Ld(),ne("startxref"),ne(""+y),ne("%%EOF"),xe(Se[H]),he.join(`
`)},ca=p.__private__.getBlob=function(y){return new Blob([Ke(y)],{type:"application/pdf"})},ua=p.output=p.__private__.output=ti(function(y,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",y){case void 0:return ro();case"save":p.save(V.filename);break;case"arraybuffer":return Ke(ro());case"blob":return ca(ro());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL(ca(ro()))||void 0;on.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var te="",ae=ro();try{te=X0(ae)}catch{te=X0(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+V.filename+";base64,"+te;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var ge="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ee=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(ge=V.pdfObjectUrl,Ee="");var Re='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ge+'"'+Ee+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",ze=lt.open();return ze!==null&&ze.document.write(Re),ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',N=lt.open();if(N!==null){N.document.write(d);var I=this;N.document.documentElement.querySelector("#pdfViewer").onload=function(){N.document.title=V.filename,N.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(I.output("bloburl"))}}return N}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var $='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',me=lt.open();if(me!==null&&(me.document.write($),me.document.title=V.filename),me||typeof safari>"u")return me;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",V);default:return null}}),Bo=function(y){return Array.isArray(Zr)===!0&&Zr.indexOf(y)>-1};switch(r){case"pt":$e=1;break;case"mm":$e=72/25.4;break;case"cm":$e=72/2.54;break;case"in":$e=72;break;case"px":$e=Bo("px_scaling")==1?.75:96/72;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);$e=r}var gn=null;ce(),G();var Wc=function(y){return f!==null?gn.encryptor(y,0):function(V){return V}},Bl=p.__private__.getPageInfo=p.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[y].objId,pageNumber:y,pageContext:nt[y]}},ct=p.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in nt)if(nt[V].objId===y)break;return Bl(V)},Uo=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:nt[H].objId,pageNumber:H,pageContext:nt[H]}};p.addPage=function(){return ws.apply(this,arguments),this},p.setPage=function(){return Vl.apply(this,arguments),xe.call(this,Se[H]),this},p.insertPage=function(y){return this.addPage(),this.movePage(H,y),this},p.movePage=function(y,V){var te,ae;if(y>V){te=Se[y],ae=nt[y];for(var ge=y;ge>V;ge--)Se[ge]=Se[ge-1],nt[ge]=nt[ge-1];Se[V]=te,nt[V]=ae,this.setPage(V)}else if(y<V){te=Se[y],ae=nt[y];for(var Ee=y;Ee<V;Ee++)Se[Ee]=Se[Ee+1],nt[Ee]=nt[Ee+1];Se[V]=te,nt[V]=ae,this.setPage(V)}return this},p.deletePage=function(){return la.apply(this,arguments),this},p.__private__.text=p.text=function(y,V,te,ae,ge){var Ee,Re,ze,d,N,I,$,me,_e,De=(ae=ae||{}).scope||this;if(typeof y=="number"&&typeof V=="number"&&(typeof te=="string"||Array.isArray(te))){var mt=te;te=V,V=y,y=mt}if(arguments[3]instanceof He?(P("The transform parameter of text() with a Matrix value"),_e=ge):(ze=arguments[4],d=arguments[5],Jt($=arguments[3])==="object"&&$!==null||(typeof ze=="string"&&(d=ze,ze=null),typeof $=="string"&&(d=$,$=null),typeof $=="number"&&(ze=$,$=null),ae={flags:$,angle:ze,align:d})),isNaN(V)||isNaN(te)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return De;var kt="",gt=!1,Wt=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:$t,nn=De.internal.scaleFactor;function lo(an){return an=an.split("	").join(Array(ae.TabLen||9).join(" ")),Pn(an,$)}function dr(an){for(var ln,Mn=an.concat(),Kn=[],Ts=Mn.length;Ts--;)typeof(ln=Mn.shift())=="string"?Kn.push(ln):Array.isArray(an)&&(ln.length===1||ln[1]===void 0&&ln[2]===void 0)?Kn.push(ln[0]):Kn.push([ln[0],ln[1],ln[2]]);return Kn}function Wo(an,ln){var Mn;if(typeof an=="string")Mn=ln(an)[0];else if(Array.isArray(an)){for(var Kn,Ts,zd=an.concat(),iu=[],Vh=zd.length;Vh--;)typeof(Kn=zd.shift())=="string"?iu.push(ln(Kn)[0]):Array.isArray(Kn)&&typeof Kn[0]=="string"&&(Ts=ln(Kn[0],Kn[1],Kn[2]),iu.push([Ts[0],Ts[1],Ts[2]]));Mn=iu}return Mn}var Ho=!1,Dd=!0;if(typeof y=="string")Ho=!0;else if(Array.isArray(y)){var Md=y.concat();Re=[];for(var Xc,fr=Md.length;fr--;)(typeof(Xc=Md.shift())!="string"||Array.isArray(Xc)&&typeof Xc[0]!="string")&&(Dd=!1);Ho=Dd}if(Ho===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var Qc=Ve/De.internal.scaleFactor,Jc=Qc*(Wt-1);switch(ae.baseline){case"bottom":te-=Jc;break;case"top":te+=Qc-Jc;break;case"hanging":te+=Qc-2*Jc;break;case"middle":te+=Qc/2-Jc}if((I=ae.maxWidth||0)>0&&(typeof y=="string"?y=De.splitTextToSize(y,I):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(an,ln){return an.concat(De.splitTextToSize(ln,I))},[]))),Ee={text:y,x:V,y:te,options:ae,mutex:{pdfEscape:Pn,activeFontKey:yt,fonts:ht,activeFontSize:Ve}},Tt.publish("preProcessText",Ee),y=Ee.text,ze=(ae=Ee.options).angle,!(_e instanceof He)&&ze&&typeof ze=="number"){ze*=Math.PI/180,ae.rotationDirection===0&&(ze=-ze),A===_.ADVANCED&&(ze=-ze);var Zc=Math.cos(ze),jd=Math.sin(ze);_e=new He(Zc,jd,-jd,Zc,0,0)}else ze&&ze instanceof He&&(_e=ze);A!==_.ADVANCED||_e||(_e=er),(N=ae.charSpace||Ss)!==void 0&&(kt+=R(C(N))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(me=ae.horizontalScale)!==void 0&&(kt+=R(100*me)+` Tz
`),ae.lang;var ni=-1,hv=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,Fd=De.internal.getCurrentPageInfo().pageContext;switch(hv){case 0:case!1:case"fill":ni=0;break;case 1:case!0:case"stroke":ni=1;break;case 2:case"fillThenStroke":ni=2;break;case 3:case"invisible":ni=3;break;case 4:case"fillAndAddForClipping":ni=4;break;case 5:case"strokeAndAddPathForClipping":ni=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ni=6;break;case 7:case"addToPathForClipping":ni=7}var Dh=Fd.usedRenderingMode!==void 0?Fd.usedRenderingMode:-1;ni!==-1?kt+=ni+` Tr
`:Dh!==-1&&(kt+=`0 Tr
`),ni!==-1&&(Fd.usedRenderingMode=ni),d=ae.align||"left";var Vi,eu=Ve*Wt,Mh=De.internal.pageSize.getWidth(),jh=ht[yt];N=ae.charSpace||Ss,I=ae.maxWidth||0,$=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var Sa=[],Yl=function(an){return De.getStringUnitWidth(an,{font:jh,charSpace:N,fontSize:Ve,doKerning:!1})*Ve/nn};if(Object.prototype.toString.call(y)==="[object Array]"){var ri;Re=dr(y),d!=="left"&&(Vi=Re.map(Yl));var Wr,Na=0;if(d==="right"){V-=Vi[0],y=[],fr=Re.length;for(var As=0;As<fr;As++)As===0?(Wr=xi(V),ri=Yn(te)):(Wr=C(Na-Vi[As]),ri=-eu),y.push([Re[As],Wr,ri]),Na=Vi[As]}else if(d==="center"){V-=Vi[0]/2,y=[],fr=Re.length;for(var Cs=0;Cs<fr;Cs++)Cs===0?(Wr=xi(V),ri=Yn(te)):(Wr=C((Na-Vi[Cs])/2),ri=-eu),y.push([Re[Cs],Wr,ri]),Na=Vi[Cs]}else if(d==="left"){y=[],fr=Re.length;for(var tu=0;tu<fr;tu++)y.push(Re[tu])}else if(d==="justify"&&jh.encoding==="Identity-H"){y=[],fr=Re.length,I=I!==0?I:Mh;for(var Ps=0,Dn=0;Dn<fr;Dn++)if(ri=Dn===0?Yn(te):-eu,Wr=Dn===0?xi(V):Ps,Dn<fr-1){var Vd=C((I-Vi[Dn])/(Re[Dn].split(" ").length-1)),Hr=Re[Dn].split(" ");y.push([Hr[0]+" ",Wr,ri]),Ps=0;for(var Bi=1;Bi<Hr.length;Bi++){var nu=(Yl(Hr[Bi-1]+" "+Hr[Bi])-Yl(Hr[Bi]))*nn+Vd;Bi==Hr.length-1?y.push([Hr[Bi],nu,0]):y.push([Hr[Bi]+" ",nu,0]),Ps-=nu}}else y.push([Re[Dn],Wr,ri]);y.push(["",Ps,0])}else{if(d!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],fr=Re.length,I=I!==0?I:Mh,Dn=0;Dn<fr;Dn++)ri=Dn===0?Yn(te):-eu,Wr=Dn===0?xi(V):0,Dn<fr-1?Sa.push(R(C((I-Vi[Dn])/(Re[Dn].split(" ").length-1)))):Sa.push(0),y.push([Re[Dn],Wr,ri])}}var Fh=typeof ae.R2L=="boolean"?ae.R2L:Je;Fh===!0&&(y=Wo(y,function(an,ln,Mn){return[an.split("").reverse().join(""),ln,Mn]})),Ee={text:y,x:V,y:te,options:ae,mutex:{pdfEscape:Pn,activeFontKey:yt,fonts:ht,activeFontSize:Ve}},Tt.publish("postProcessText",Ee),y=Ee.text,gt=Ee.mutex.isHex||!1;var Bd=ht[yt].encoding;Bd!=="WinAnsiEncoding"&&Bd!=="StandardEncoding"||(y=Wo(y,function(an,ln,Mn){return[lo(an),ln,Mn]})),Re=dr(y),y=[];for(var Kl,Xl,Ea,Ql=0,ru=1,Jl=Array.isArray(Re[0])?ru:Ql,Aa="",Ud=function(an,ln,Mn){var Kn="";return Mn instanceof He?(Mn=typeof ae.angle=="number"?Sr(Mn,new He(1,0,0,1,an,ln)):Sr(new He(1,0,0,1,an,ln),Mn),A===_.ADVANCED&&(Mn=Sr(new He(1,0,0,-1,0,0),Mn)),Kn=Mn.join(" ")+` Tm
`):Kn=R(an)+" "+R(ln)+` Td
`,Kn},Ui=0;Ui<Re.length;Ui++){switch(Aa="",Jl){case ru:Ea=(gt?"<":"(")+Re[Ui][0]+(gt?">":")"),Kl=parseFloat(Re[Ui][1]),Xl=parseFloat(Re[Ui][2]);break;case Ql:Ea=(gt?"<":"(")+Re[Ui]+(gt?">":")"),Kl=xi(V),Xl=Yn(te)}Sa!==void 0&&Sa[Ui]!==void 0&&(Aa=Sa[Ui]+` Tw
`),Ui===0?y.push(Aa+Ud(Kl,Xl,_e)+Ea):Jl===Ql?y.push(Aa+Ea):Jl===ru&&y.push(Aa+Ud(Kl,Xl,_e)+Ea)}y=Jl===Ql?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var zi=`BT
/`;return zi+=yt+" "+Ve+` Tf
`,zi+=R(Ve*Wt)+` TL
`,zi+=so+`
`,zi+=kt,zi+=y,ne(zi+="ET"),g[yt]=!0,De};var Od=p.__private__.clip=p.clip=function(y){return ne(y==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return Od("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ne("n"),this};var Fi=p.__private__.isValidStyle=function(y){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(V=!0),V};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(y){return Fi(y)&&(c=y),this};var Hc=p.__private__.getStyle=p.getStyle=function(y){var V=c;switch(y){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=y}return V},bi=p.close=function(){return ne("h"),this};p.stroke=function(){return ne("S"),this},p.fill=function(y){return da("f",y),this},p.fillEvenOdd=function(y){return da("f*",y),this},p.fillStroke=function(y){return da("B",y),this},p.fillStrokeEvenOdd=function(y){return da("B*",y),this};var da=function(y,V){Jt(V)==="object"?ha(V,y):ne(y)},Ul=function(y){y===null||A===_.ADVANCED&&y===void 0||(y=Hc(y),ne(y))};function fa(y,V,te,ae,ge){var Ee=new Lu(V||this.boundingBox,te||this.xStep,ae||this.yStep,this.gState,ge||this.matrix);Ee.stream=this.stream;var Re=y+"$$"+this.cloneIndex+++"$$";return An(Re,Ee),Ee}var ha=function(y,V){var te=_r[y.key],ae=wt[te];if(ae instanceof oc)ne("q"),ne(Gc(V)),ae.gState&&p.setGState(ae.gState),ne(y.matrix.toString()+" cm"),ne("/"+te+" sh"),ne("Q");else if(ae instanceof Lu){var ge=new He(1,0,0,-1,0,Nr());y.matrix&&(ge=ge.multiply(y.matrix||er),te=fa.call(ae,y.key,y.boundingBox,y.xStep,y.yStep,ge).id),ne("q"),ne("/Pattern cs"),ne("/"+te+" scn"),ae.gState&&p.setGState(ae.gState),ne(V),ne("Q")}},Gc=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},io=p.moveTo=function(y,V){return ne(R(C(y))+" "+R(X(V))+" m"),this},_i=p.lineTo=function(y,V){return ne(R(C(y))+" "+R(X(V))+" l"),this},oo=p.curveTo=function(y,V,te,ae,ge,Ee){return ne([R(C(y)),R(X(V)),R(C(te)),R(X(ae)),R(C(ge)),R(X(Ee)),"c"].join(" ")),this};p.__private__.line=p.line=function(y,V,te,ae,ge){if(isNaN(y)||isNaN(V)||isNaN(te)||isNaN(ae)||!Fi(ge))throw new Error("Invalid arguments passed to jsPDF.line");return A===_.COMPAT?this.lines([[te-y,ae-V]],y,V,[1,1],ge||"S"):this.lines([[te-y,ae-V]],y,V,[1,1]).stroke()},p.__private__.lines=p.lines=function(y,V,te,ae,ge,Ee){var Re,ze,d,N,I,$,me,_e,De,mt,kt,gt;if(typeof y=="number"&&(gt=te,te=V,V=y,y=gt),ae=ae||[1,1],Ee=Ee||!1,isNaN(V)||isNaN(te)||!Array.isArray(y)||!Array.isArray(ae)||!Fi(ge)||typeof Ee!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(io(V,te),Re=ae[0],ze=ae[1],N=y.length,mt=V,kt=te,d=0;d<N;d++)(I=y[d]).length===2?(mt=I[0]*Re+mt,kt=I[1]*ze+kt,_i(mt,kt)):($=I[0]*Re+mt,me=I[1]*ze+kt,_e=I[2]*Re+mt,De=I[3]*ze+kt,mt=I[4]*Re+mt,kt=I[5]*ze+kt,oo($,me,_e,De,mt,kt));return Ee&&bi(),Ul(ge),this},p.path=function(y){for(var V=0;V<y.length;V++){var te=y[V],ae=te.c;switch(te.op){case"m":io(ae[0],ae[1]);break;case"l":_i(ae[0],ae[1]);break;case"c":oo.apply(this,ae);break;case"h":bi()}}return this},p.__private__.rect=p.rect=function(y,V,te,ae,ge){if(isNaN(y)||isNaN(V)||isNaN(te)||isNaN(ae)||!Fi(ge))throw new Error("Invalid arguments passed to jsPDF.rect");return A===_.COMPAT&&(ae=-ae),ne([R(C(y)),R(X(V)),R(C(te)),R(C(ae)),"re"].join(" ")),Ul(ge),this},p.__private__.triangle=p.triangle=function(y,V,te,ae,ge,Ee,Re){if(isNaN(y)||isNaN(V)||isNaN(te)||isNaN(ae)||isNaN(ge)||isNaN(Ee)||!Fi(Re))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[te-y,ae-V],[ge-te,Ee-ae],[y-ge,V-Ee]],y,V,[1,1],Re,!0),this},p.__private__.roundedRect=p.roundedRect=function(y,V,te,ae,ge,Ee,Re){if(isNaN(y)||isNaN(V)||isNaN(te)||isNaN(ae)||isNaN(ge)||isNaN(Ee)||!Fi(Re))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ze=4/3*(Math.SQRT2-1);return ge=Math.min(ge,.5*te),Ee=Math.min(Ee,.5*ae),this.lines([[te-2*ge,0],[ge*ze,0,ge,Ee-Ee*ze,ge,Ee],[0,ae-2*Ee],[0,Ee*ze,-ge*ze,Ee,-ge,Ee],[2*ge-te,0],[-ge*ze,0,-ge,-Ee*ze,-ge,-Ee],[0,2*Ee-ae],[0,-Ee*ze,ge*ze,-Ee,ge,-Ee]],y+ge,V,[1,1],Re,!0),this},p.__private__.ellipse=p.ellipse=function(y,V,te,ae,ge){if(isNaN(y)||isNaN(V)||isNaN(te)||isNaN(ae)||!Fi(ge))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ee=4/3*(Math.SQRT2-1)*te,Re=4/3*(Math.SQRT2-1)*ae;return io(y+te,V),oo(y+te,V-Re,y+Ee,V-ae,y,V-ae),oo(y-Ee,V-ae,y-te,V-Re,y-te,V),oo(y-te,V+Re,y-Ee,V+ae,y,V+ae),oo(y+Ee,V+ae,y+te,V+Re,y+te,V),Ul(ge),this},p.__private__.circle=p.circle=function(y,V,te,ae){if(isNaN(y)||isNaN(V)||isNaN(te)||!Fi(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,V,te,te,ae)},p.setFont=function(y,V,te){return te&&(V=Z(V,te)),yt=bs(y,V,{disableWarning:!1}),this};var zl=p.__private__.getFont=p.getFont=function(){return ht[bs.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var y,V,te={};for(y in Et)if(Et.hasOwnProperty(y))for(V in te[y]=[],Et[y])Et[y].hasOwnProperty(V)&&te[y].push(V);return te},p.addFont=function(y,V,te,ae,ge){var Ee=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ee.indexOf(arguments[3])!==-1?ge=arguments[3]:arguments[3]&&Ee.indexOf(arguments[3])==-1&&(te=Z(te,ae)),ge=ge||"Identity-H",Fl.call(this,y,V,te,ge)};var $t,ql=t.lineWidth||.200025,pa=p.__private__.getLineWidth=p.getLineWidth=function(){return ql},$l=p.__private__.setLineWidth=p.setLineWidth=function(y){return ql=y,ne(R(C(y))+" w"),this};p.__private__.setLineDash=st.API.setLineDash=st.API.setLineDashPattern=function(y,V){if(y=y||[],V=V||0,isNaN(V)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(te){return R(C(te))}).join(" "),V=R(C(V)),ne("["+y+"] "+V+" d"),this};var Wl=p.__private__.getLineHeight=p.getLineHeight=function(){return Ve*$t};p.__private__.getLineHeight=p.getLineHeight=function(){return Ve*$t};var Hl=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&($t=y),this},xs=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return $t};Hl(t.lineHeight);var xi=p.__private__.getHorizontalCoordinate=function(y){return C(y)},Yn=p.__private__.getVerticalCoordinate=function(y){return A===_.ADVANCED?y:nt[H].mediaBox.topRightY-nt[H].mediaBox.bottomLeftY-C(y)},Yc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(y){return R(xi(y))},zo=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(y){return R(Yn(y))},ur=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return ei(ur)},p.__private__.setStrokeColor=p.setDrawColor=function(y,V,te,ae){return ur=zr({ch1:y,ch2:V,ch3:te,ch4:ae,pdfColorType:"draw",precision:2}),ne(ur),this};var ma=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return ei(ma)},p.__private__.setFillColor=p.setFillColor=function(y,V,te,ae){return ma=zr({ch1:y,ch2:V,ch3:te,ch4:ae,pdfColorType:"fill",precision:2}),ne(ma),this};var so=t.textColor||"0 g",ga=p.__private__.getTextColor=p.getTextColor=function(){return ei(so)};p.__private__.setTextColor=p.setTextColor=function(y,V,te,ae){return so=zr({ch1:y,ch2:V,ch3:te,ch4:ae,pdfColorType:"text",precision:3}),this};var Ss=t.charSpace,va=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(Ss||0)};p.__private__.setCharSpace=p.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ss=y,this};var Gl=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(y){var V=p.CapJoinStyles[y];if(V===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gl=V,ne(V+" J"),this};var ya=0;p.__private__.setLineJoin=p.setLineJoin=function(y){var V=p.CapJoinStyles[y];if(V===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ya=V,ne(V+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ne(R(C(y))+" M"),this},p.GState=qm,p.setGState=function(y){(y=typeof y=="string"?qt[zn[y]]:qo(null,y)).equals(xr)||(ne("/"+y.id+" gs"),xr=y)};var qo=function(y,V){if(!y||!zn[y]){var te=!1;for(var ae in qt)if(qt.hasOwnProperty(ae)&&qt[ae].equals(V)){te=!0;break}if(te)V=qt[ae];else{var ge="GS"+(Object.keys(qt).length+1).toString(10);qt[ge]=V,V.id=ge}return y&&(zn[y]=V.id),Tt.publish("addGState",V),V}};p.addGState=function(y,V){return qo(y,V),this},p.saveGraphicsState=function(){return ne("q"),Un.push({key:yt,size:Ve,color:so}),this},p.restoreGraphicsState=function(){ne("Q");var y=Un.pop();return yt=y.key,Ve=y.size,so=y.color,xr=null,this},p.setCurrentTransformationMatrix=function(y){return ne(y.toString()+" cm"),this},p.comment=function(y){return ne("#"+y),this};var Ns=function(y,V){var te=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return te},set:function(Ee){isNaN(Ee)||(te=parseFloat(Ee))}});var ae=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(Ee){isNaN(Ee)||(ae=parseFloat(Ee))}});var ge="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ge},set:function(Ee){ge=Ee.toString()}}),this},wa=function(y,V,te,ae){Ns.call(this,y,V),this.type="rect";var ge=te||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ge},set:function(Re){isNaN(Re)||(ge=parseFloat(Re))}});var Ee=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ee},set:function(Re){isNaN(Re)||(Ee=parseFloat(Re))}}),this},Es=function(){this.page=Ht,this.currentPage=H,this.pages=Se.slice(0),this.pagesContext=nt.slice(0),this.x=fn,this.y=Nt,this.matrix=hn,this.width=$o(H),this.height=Nr(H),this.outputDestination=Me,this.id="",this.objectNumber=-1};Es.prototype.restore=function(){Ht=this.page,H=this.currentPage,nt=this.pagesContext,Se=this.pages,fn=this.x,Nt=this.y,hn=this.matrix,_a(H,this.width),xa(H,this.height),Me=this.outputDestination};var ba=function(y,V,te,ae,ge){Zn.push(new Es),Ht=H=0,Se=[],fn=y,Nt=V,hn=ge,$r([te,ae])},Kc=function(y){if(Jn[y])Zn.pop().restore();else{var V=new Es,te="Xo"+(Object.keys(pn).length+1).toString(10);V.id=te,Jn[y]=te,pn[te]=V,Tt.publish("addFormObject",V),Zn.pop().restore()}};for(var ao in p.beginFormObject=function(y,V,te,ae,ge){return ba(y,V,te,ae,ge),this},p.endFormObject=function(y){return Kc(y),this},p.doFormObject=function(y,V){var te=pn[Jn[y]];return ne("q"),ne(V.toString()+" cm"),ne("/"+te.id+" Do"),ne("Q"),this},p.getFormObject=function(y){var V=pn[Jn[y]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},p.save=function(y,V){return y=y||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(rc(ca(ro()),y),typeof rc.unload=="function"&&lt.setTimeout&&setTimeout(rc.unload,911),this):new Promise(function(te,ae){try{var ge=rc(ca(ro()),y);typeof rc.unload=="function"&&lt.setTimeout&&setTimeout(rc.unload,911),te(ge)}catch(Ee){ae(Ee.message)}})},st.API)st.API.hasOwnProperty(ao)&&(ao==="events"&&st.API.events.length?function(y,V){var te,ae,ge;for(ge=V.length-1;ge!==-1;ge--)te=V[ge][0],ae=V[ge][1],y.subscribe.apply(y,[te].concat(typeof ae=="function"?[ae]:ae))}(Tt,st.API.events):p[ao]=st.API[ao]);var $o=p.getPageWidth=function(y){return(nt[y=y||H].mediaBox.topRightX-nt[y].mediaBox.bottomLeftX)/$e},_a=p.setPageWidth=function(y,V){nt[y].mediaBox.topRightX=V*$e+nt[y].mediaBox.bottomLeftX},Nr=p.getPageHeight=function(y){return(nt[y=y||H].mediaBox.topRightY-nt[y].mediaBox.bottomLeftY)/$e},xa=p.setPageHeight=function(y,V){nt[y].mediaBox.topRightY=V*$e+nt[y].mediaBox.bottomLeftY};return p.internal={pdfEscape:Pn,getStyle:Hc,getFont:zl,getFontSize:Be,getCharSpace:va,getTextColor:ga,getLineHeight:Wl,getLineHeightFactor:xs,getLineWidth:pa,write:rt,getHorizontalCoordinate:xi,getVerticalCoordinate:Yn,getCoordinateString:Yc,getVerticalCoordinateString:zo,collections:{},newObject:Ot,newAdditionalObject:Oo,newObjectDeferred:sn,newObjectDeferredBegin:Cn,getFilters:qr,putStream:On,events:Tt,scaleFactor:$e,pageSize:{getWidth:function(){return $o(H)},setWidth:function(y){_a(H,y)},getHeight:function(){return Nr(H)},setHeight:function(y){xa(H,y)}},encryptionOptions:f,encryption:gn,getEncryptor:Wc,output:ua,getNumberOfPages:Gt,pages:Se,out:ne,f2:F,f3:T,getPageInfo:Bl,getPageInfoByObjId:ct,getCurrentPageInfo:Uo,getPDFVersion:b,Point:Ns,Rectangle:wa,Matrix:He,hasHotfix:Bo},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return $o(H)},set:function(y){_a(H,y)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Nr(H)},set:function(y){xa(H,y)},enumerable:!0,configurable:!0}),qc.call(p,Oe),yt="F1",ws(i,n),Tt.publish("initialized"),p}gu.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},gu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},gu.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},gu.prototype.processOwnerPassword=function(t,e){return J0(Q0(e).substr(0,5),t)},gu.prototype.encryptor=function(t,e){var n=Q0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return J0(n,r)}},qm.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Jt(t)!==Jt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},st.API={events:[]},st.version="2.5.2";var kn=st.API,Y2=1,Mc=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},du=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vt=function(t){return t.toFixed(2)},Va=function(t){return t.toFixed(5)};kn.__acroform__={};var vi=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},b_=function(t){return t*Y2},Ko=function(t){var e=new $N,n=Qe.internal.getHeight(t)||0,r=Qe.internal.getWidth(t)||0;return e.BBox=[0,0,Number(vt(r)),Number(vt(n))],e},JD=kn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},ZD=kn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},eM=kn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Fn=kn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eM(t,e-1)},Vn=kn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return JD(t,e-1)},Bn=kn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return ZD(t,e-1)},tM=kn.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],o=t[1],s=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(o+a)||0,l.upperRight_X=n(i+s)||0,l.upperRight_Y=r(o)||0,[Number(vt(l.lowerLeft_X)),Number(vt(l.lowerLeft_Y)),Number(vt(l.upperRight_X)),Number(vt(l.upperRight_Y))]},nM=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Z0(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+vt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Ko(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},Z0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var o=n,s=Qe.internal.getHeight(t)||0;s=s<0?-s:s;var a=Qe.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(T,C,L){if(T+1<i.length){var X=C+" "+i[T+1][0];return Sp(X,t,L).width<=a-4}return!1};o++;e:for(;o>0;){e="",o--;var c,f,h=Sp("3",t,o).height,g=t.multiline?s-o:(s-h)/2,p=g+=2,S=0,b=0,E=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Sp(e,t,o=12).width+", FieldWidth:"+a+`
`;break}for(var w="",_=0,A=0;A<i.length;A++)if(i.hasOwnProperty(A)){var j=!1;if(i[A].length!==1&&E!==i[A].length-1){if((h+2)*(_+2)+2>s)continue e;w+=i[A][E],j=!0,b=A,A--}else{w=(w+=i[A][E]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var q=parseInt(A),Z=l(q,w,o),R=A>=i.length-1;if(Z&&!R){w+=" ",E=0;continue}if(Z||R){if(R)b=q;else if(t.multiline&&(h+2)*(_+2)+2>s)continue e}else{if(!t.multiline||(h+2)*(_+2)+2>s)continue e;b=q}}for(var P="",D=S;D<=b;D++){var F=i[D];if(t.multiline){if(D===b){P+=F[E]+" ",E=(E+1)%F.length;continue}if(D===S){P+=F[F.length-1]+" ";continue}}P+=F[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,f=Sp(P,t,o).width,t.textAlign){case"right":c=a-f-2;break;case"center":c=(a-f)/2;break;case"left":default:c=2}e+=vt(c)+" "+vt(p)+` Td
`,e+="("+Mc(P)+`) Tj
`,e+=-vt(c)+` 0 Td
`,p=-(o+2),f=0,S=j?b:b+1,_++,w=""}break}return r.text=e,r.fontSize=o,r},Sp=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},rM={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iM=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},oM=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Jt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},sM=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Io.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rM)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Y2=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new WN,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&iM(o,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var o=!r;for(var s in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var a=r[s],l=[],c=a.Rect;if(a.Rect&&(a.Rect=tM(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=Qe.createDefaultAppearanceStream(a),Jt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var f=nM(a);l.push({key:"AP",value:"<</N "+f+">>"}),i.internal.acroformPlugin.xForms.push(f)}if(a.appearanceStreamContent){var h="";for(var g in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(g)){var p=a.appearanceStreamContent[g];if(h+="/"+g+" ",h+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var s in p)if(p.hasOwnProperty(s)){var S=p[s];typeof S=="function"&&(S=S.call(i,a)),h+="/"+s+" "+S+" ",i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S)}}else typeof(S=p)=="function"&&(S=S.call(i,a)),h+="/"+s+" "+S,i.internal.acroformPlugin.xForms.indexOf(S)>=0||i.internal.acroformPlugin.xForms.push(S);h+=">>"}l.push({key:"AP",value:`<<
`+h+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}o&&oM(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},qN=kn.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(s){return s};if(Array.isArray(t)){for(var i="[",o=0;o<t.length;o++)switch(o!==0&&(i+=" "),Jt(t[o])){case"boolean":case"number":case"object":i+=t[o].toString();break;case"string":t[o].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Mc(r(t[o].toString()))+")"):i+=t[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},b1=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Mc(r(t))+")"},ts=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ts.prototype.toString=function(){return this.objId+" 0 R"},ts.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ts.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:qN(i,this.objId,this.scope)}):i instanceof ts?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var $N=function(){ts.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};vi($N,ts);var WN=function(){ts.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Mc(n(t))+")"}},set:function(n){t=n}})};vi(WN,ts);var Io=function t(){ts.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fn(e,3)},set:function(w){w?this.F=Vn(e,3):this.F=Bn(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');n=w}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(w){r=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(w){r[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(w){r[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(w){r[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(w){r[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof $m)return;o="FieldObject"+t.FieldNum++}var w=function(_){return _};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Mc(w(o))+")"},set:function(w){o=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(w){o=w}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(w){s=w}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(w){l=w}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/Y2:c},set:function(w){c=w}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(w){f=w}});var h="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!h||this instanceof $m||this instanceof fc))return b1(h,this.objId,this.scope)},set:function(w){w=w.toString(),h=w}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof sr?g:b1(g,this.objId,this.scope)},set:function(w){w=w.toString(),g=this instanceof sr?w:w.substr(0,1)==="("?du(w.substr(1,w.length-2)):du(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof sr?du(g.substr(1,g.length-1)):g},set:function(w){w=w.toString(),g=this instanceof sr?"/"+w:w}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof sr?p:b1(p,this.objId,this.scope)},set:function(w){w=w.toString(),p=this instanceof sr?w:w.substr(0,1)==="("?du(w.substr(1,w.length-2)):du(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof sr?du(p.substr(1,p.length-1)):p},set:function(w){w=w.toString(),p=this instanceof sr?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(w){w=!!w,b=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(w){S=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,1)},set:function(w){w?this.Ff=Vn(this.Ff,1):this.Ff=Bn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,2)},set:function(w){w?this.Ff=Vn(this.Ff,2):this.Ff=Bn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,3)},set:function(w){w?this.Ff=Vn(this.Ff,3):this.Ff=Bn(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');E=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(E){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};vi(Io,ts);var zu=function(){Io.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return qN(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(o,s,a){a||(a=1);for(var l,c=[];l=s.exec(o);)c.push(l[a]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,18)},set:function(n){n?this.Ff=Vn(this.Ff,18):this.Ff=Bn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Vn(this.Ff,19):this.Ff=Bn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,20)},set:function(n){n?(this.Ff=Vn(this.Ff,20),e.sort()):this.Ff=Bn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,22)},set:function(n){n?this.Ff=Vn(this.Ff,22):this.Ff=Bn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,23)},set:function(n){n?this.Ff=Vn(this.Ff,23):this.Ff=Bn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,27)},set:function(n){n?this.Ff=Vn(this.Ff,27):this.Ff=Bn(this.Ff,27)}}),this.hasAppearanceStream=!1};vi(zu,Io);var qu=function(){zu.call(this),this.fontName="helvetica",this.combo=!1};vi(qu,zu);var $u=function(){qu.call(this),this.combo=!0};vi($u,qu);var em=function(){$u.call(this),this.edit=!0};vi(em,$u);var sr=function(){Io.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,15)},set:function(n){n?this.Ff=Vn(this.Ff,15):this.Ff=Bn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,16)},set:function(n){n?this.Ff=Vn(this.Ff,16):this.Ff=Bn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,17)},set:function(n){n?this.Ff=Vn(this.Ff,17):this.Ff=Bn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,26)},set:function(n){n?this.Ff=Vn(this.Ff,26):this.Ff=Bn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(o){return o};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Mc(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Jt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};vi(sr,Io);var tm=function(){sr.call(this),this.pushButton=!0};vi(tm,sr);var Wu=function(){sr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};vi(Wu,sr);var $m=function(){var t,e;Io.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,s=[];for(o in s.push("<<"),r)s.push("/"+o+" ("+Mc(i(r[o]))+")");return s.push(">>"),s.join(`
`)},set:function(i){Jt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vi($m,Io),Wu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Wu.prototype.createOption=function(t){var e=new $m;return e.Parent=this,e.optionName=t,this.Kids.push(e),aM.call(this.scope,e),e};var nm=function(){sr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Qe.CheckBox.createAppearanceStream()};vi(nm,sr);var fc=function(){Io.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,13)},set:function(e){e?this.Ff=Vn(this.Ff,13):this.Ff=Bn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,21)},set:function(e){e?this.Ff=Vn(this.Ff,21):this.Ff=Bn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,23)},set:function(e){e?this.Ff=Vn(this.Ff,23):this.Ff=Bn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,24)},set:function(e){e?this.Ff=Vn(this.Ff,24):this.Ff=Bn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,25)},set:function(e){e?this.Ff=Vn(this.Ff,25):this.Ff=Bn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,26)},set:function(e){e?this.Ff=Vn(this.Ff,26):this.Ff=Bn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vi(fc,Io);var rm=function(){fc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fn(this.Ff,14)},set:function(t){t?this.Ff=Vn(this.Ff,14):this.Ff=Bn(this.Ff,14)}}),this.password=!0};vi(rm,fc);var Qe={CheckBox:{createAppearanceStream:function(){return{N:{On:Qe.CheckBox.YesNormal},D:{On:Qe.CheckBox.YesPushDown,Off:Qe.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ko(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),o=Z0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+vt(Qe.internal.getWidth(t))+" "+vt(Qe.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+vt(o.fontSize)+" Tf "+i),n.push("BT"),n.push(o.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Ko(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],o=Qe.internal.getHeight(t),s=Qe.internal.getWidth(t),a=Z0(t,t.caption);return i.push("1 g"),i.push("0 0 "+vt(s)+" "+vt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+vt(s-1)+" "+vt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+vt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ko(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+vt(Qe.internal.getWidth(t))+" "+vt(Qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Qe.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Qe.RadioButton.Circle.YesNormal,e.D[t]=Qe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ko(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Qe.internal.Bezier_C,o=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Va(Qe.internal.getWidth(t)/2)+" "+Va(Qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ko(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Qe.internal.Bezier_C).toFixed(5)),s=Number((r*Qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Va(Qe.internal.getWidth(t)/2)+" "+Va(Qe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Va(Qe.internal.getWidth(t)/2)+" "+Va(Qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ko(t);e.scope=t.scope;var n=[],r=Qe.internal.getWidth(t)<=Qe.internal.getHeight(t)?Qe.internal.getWidth(t)/4:Qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*Qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Va(Qe.internal.getWidth(t)/2)+" "+Va(Qe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),n.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),n.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),n.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Qe.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Qe.RadioButton.Cross.YesNormal,e.D[t]=Qe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ko(t);e.scope=t.scope;var n=[],r=Qe.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+vt(Qe.internal.getWidth(t)-2)+" "+vt(Qe.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(vt(r.x1.x)+" "+vt(r.x1.y)+" m"),n.push(vt(r.x2.x)+" "+vt(r.x2.y)+" l"),n.push(vt(r.x4.x)+" "+vt(r.x4.y)+" m"),n.push(vt(r.x3.x)+" "+vt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Ko(t);e.scope=t.scope;var n=Qe.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+vt(Qe.internal.getWidth(t))+" "+vt(Qe.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+vt(Qe.internal.getWidth(t)-2)+" "+vt(Qe.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(vt(n.x1.x)+" "+vt(n.x1.y)+" m"),r.push(vt(n.x2.x)+" "+vt(n.x2.y)+" l"),r.push(vt(n.x4.x)+" "+vt(n.x4.y)+" m"),r.push(vt(n.x3.x)+" "+vt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ko(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+vt(Qe.internal.getWidth(t))+" "+vt(Qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Qe.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Qe.internal.getWidth(t),n=Qe.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Qe.internal.getWidth=function(t){var e=0;return Jt(t)==="object"&&(e=b_(t.Rect[2])),e},Qe.internal.getHeight=function(t){var e=0;return Jt(t)==="object"&&(e=b_(t.Rect[3])),e};var aM=kn.addField=function(t){if(sM(this,t),!(t instanceof Io))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};kn.AcroFormChoiceField=zu,kn.AcroFormListBox=qu,kn.AcroFormComboBox=$u,kn.AcroFormEditBox=em,kn.AcroFormButton=sr,kn.AcroFormPushButton=tm,kn.AcroFormRadioButton=Wu,kn.AcroFormCheckBox=nm,kn.AcroFormTextField=fc,kn.AcroFormPasswordField=rm,kn.AcroFormAppearance=Qe,kn.AcroForm={ChoiceField:zu,ListBox:qu,ComboBox:$u,EditBox:em,Button:sr,PushButton:tm,RadioButton:Wu,CheckBox:nm,TextField:fc,PasswordField:rm,Appearance:Qe},st.AcroForm={ChoiceField:zu,ListBox:qu,ComboBox:$u,EditBox:em,Button:sr,PushButton:tm,RadioButton:Wu,CheckBox:nm,TextField:fc,PasswordField:rm,Appearance:Qe};st.AcroForm;function HN(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(T,C){var L,X,fe,le,re,G=e;if((C=C||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(Z(T))for(re in n)for(fe=n[re],L=0;L<fe.length;L+=1){for(le=!0,X=0;X<fe[L].length;X+=1)if(fe[L][X]!==void 0&&fe[L][X]!==T[X]){le=!1;break}if(le===!0){G=re;break}}else for(re in n)for(fe=n[re],L=0;L<fe.length;L+=1){for(le=!0,X=0;X<fe[L].length;X+=1)if(fe[L][X]!==void 0&&fe[L][X]!==T.charCodeAt(X)){le=!1;break}if(le===!0){G=re;break}}return G===e&&C!==e&&(G=C),G},i=function T(C){for(var L=this.internal.write,X=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var le=[];if(le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Image"}),le.push({key:"Width",value:C.width}),le.push({key:"Height",value:C.height}),C.colorSpace===E.INDEXED?le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(le.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===E.DEVICE_CMYK&&le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),le.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&le.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var re="",G=0,K=C.transparency.length;G<K;G++)re+=C.transparency[G]+" "+C.transparency[G]+" ";le.push({key:"Mask",value:"["+re+"]"})}C.sMask!==void 0&&le.push({key:"SMask",value:C.objectId+1+" 0 R"});var Q=C.filter!==void 0?["/"+C.filter]:void 0;if(X({data:C.data,additionalKeyValues:le,alreadyAppliedFilters:Q,objectId:C.objectId}),L("endobj"),"sMask"in C&&C.sMask!==void 0){var ce="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,M={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:ce,data:C.sMask};"filter"in C&&(M.filter=C.filter),T.call(this,M)}if(C.colorSpace===E.INDEXED){var H=this.internal.newObject();X({data:P(new Uint8Array(C.palette)),objectId:H}),L("endobj")}},o=function(){var T=this.internal.collections.addImage_images;for(var C in T)i.call(this,T[C])},s=function(){var T,C=this.internal.collections.addImage_images,L=this.internal.write;for(var X in C)L("/I"+(T=C[X]).index,T.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var T=this.internal.collections.addImage_images;return a.call(this),T},c=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(T){return typeof t["process"+T.toUpperCase()]=="function"},h=function(T){return Jt(T)==="object"&&T.nodeType===1},g=function(T,C){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var L=""+T.getAttribute("src");if(L.indexOf("data:image/")===0)return Pf(unescape(L).split("base64,").pop());var X=t.loadFile(L,!0);if(X!==void 0)return X}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var fe;switch(C){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;case"JPEG":case"JPG":default:fe="image/jpeg"}return Pf(T.toDataURL(fe,1).split("base64,").pop())}},p=function(T){var C=this.internal.collections.addImage_images;if(C){for(var L in C)if(T===C[L].alias)return C[L]}},S=function(T,C,L){return T||C||(T=-96,C=-96),T<0&&(T=-1*L.width*72/T/this.internal.scaleFactor),C<0&&(C=-1*L.height*72/C/this.internal.scaleFactor),T===0&&(T=C*L.width/L.height),C===0&&(C=T*L.height/L.width),[T,C]},b=function(T,C,L,X,fe,le){var re=S.call(this,L,X,fe),G=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString,Q=l.call(this);if(L=re[0],X=re[1],Q[fe.index]=fe,le){le*=Math.PI/180;var ce=Math.cos(le),M=Math.sin(le),H=function(ie){return ie.toFixed(4)},J=[H(ce),H(M),H(-1*M),H(ce),0,0,"cm"]}this.internal.write("q"),le?(this.internal.write([1,"0","0",1,G(T),K(C+X),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([G(L),"0","0",G(X),"0","0","cm"].join(" "))):this.internal.write([G(L),"0","0",G(X),G(T),K(C+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=t.__addimage__.sHashCode=function(T){var C,L,X=0;if(typeof T=="string")for(L=T.length,C=0;C<L;C++)X=(X<<5)-X+T.charCodeAt(C),X|=0;else if(Z(T))for(L=T.byteLength/2,C=0;C<L;C++)X=(X<<5)-X+T[C],X|=0;return X},A=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var C=!0;return T.length===0&&(C=!1),T.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(C=!1),C},j=t.__addimage__.extractImageFromDataUrl=function(T){var C=(T=T||"").split("base64,"),L=null;if(C.length===2){var X=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(C[0]);Array.isArray(X)&&(L={mimeType:X[1],charset:X[2],data:C[1]})}return L},q=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(T){return q()&&T instanceof ArrayBuffer};var Z=t.__addimage__.isArrayBufferView=function(T){return q()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},R=t.__addimage__.binaryStringToUint8Array=function(T){for(var C=T.length,L=new Uint8Array(C),X=0;X<C;X++)L[X]=T.charCodeAt(X);return L},P=t.__addimage__.arrayBufferToBinaryString=function(T){for(var C="",L=Z(T)?T:new Uint8Array(T),X=0;X<L.length;X+=8192)C+=String.fromCharCode.apply(null,L.subarray(X,X+8192));return C};t.addImage=function(){var T,C,L,X,fe,le,re,G,K;if(typeof arguments[1]=="number"?(C=e,L=arguments[1],X=arguments[2],fe=arguments[3],le=arguments[4],re=arguments[5],G=arguments[6],K=arguments[7]):(C=arguments[1],L=arguments[2],X=arguments[3],fe=arguments[4],le=arguments[5],re=arguments[6],G=arguments[7],K=arguments[8]),Jt(T=arguments[0])==="object"&&!h(T)&&"imageData"in T){var Q=T;T=Q.imageData,C=Q.format||C||e,L=Q.x||L||0,X=Q.y||X||0,fe=Q.w||Q.width||fe,le=Q.h||Q.height||le,re=Q.alias||re,G=Q.compression||G,K=Q.rotation||Q.angle||K}var ce=this.internal.getFilters();if(G===void 0&&ce.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(L)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var M=D.call(this,T,C,re,G);return b.call(this,L,X,fe,le,M,K),this};var D=function(T,C,L,X){var fe,le,re;if(typeof T=="string"&&r(T)===e){T=unescape(T);var G=F(T,!1);(G!==""||(G=t.loadFile(T,!0))!==void 0)&&(T=G)}if(h(T)&&(T=g(T,C)),C=r(T,C),!f(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((re=L)==null||re.length===0)&&(L=function(K){return typeof K=="string"||Z(K)?_(K):Z(K.data)?_(K.data):null}(T)),(fe=p.call(this,L))||(q()&&(T instanceof Uint8Array||C==="RGBA"||(le=T,T=R(T))),fe=this["process"+C.toUpperCase()](T,c.call(this),L,function(K){return K&&typeof K=="string"&&(K=K.toUpperCase()),K in t.image_compression?K:w.NONE}(X),le)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},F=t.__addimage__.convertBase64ToBinaryString=function(T,C){var L;C=typeof C!="boolean"||C;var X,fe="";if(typeof T=="string"){X=(L=j(T))!==null?L.data:T;try{fe=Pf(X)}catch(le){if(C)throw A(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return fe};t.getImageProperties=function(T){var C,L,X="";if(h(T)&&(T=g(T)),typeof T=="string"&&r(T)===e&&((X=F(T,!1))===""&&(X=t.loadFile(T)||""),T=X),L=r(T),!f(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!q()||T instanceof Uint8Array||(T=R(T)),!(C=this["process"+L.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=L,C}})(st.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};st.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,o,s=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,f=!1,h=0;h<c.length&&!f;h++)switch((r=c[h]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){r=c[g];var p=this.internal.pdfEscape,S=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(b.objId),_=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+p(w(r.contents))+")",o+=" /Popup "+E.objId+" 0 R",o+=" /P "+l.objId+" 0 R",o+=" /T ("+p(w(_))+") >>",b.content=o;var A=b.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+s(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+A,r.open&&(o+=" /Open true"),o+=" >>",E.content=o,this.internal.write(b.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+s(r.bounds.x)+" "+a(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var j=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(S(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+j+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var q=this.annotations._nameMap[r.options.name];r.options.pageNumber=q.page,r.options.top=q.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(S(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Z=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Z+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,o,s){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+o)},options:s,type:"link"})},t.textWithLink=function(n,r,i,o){var s,a,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){a=o.maxWidth;var f=this.splitTextToSize(n,a).length;s=Math.ceil(c*f)}else a=l,s=c;return this.text(n,r,i,o),i+=.2*c,o.align==="center"&&(r-=l/2),o.align==="right"&&(r-=l),this.link(r,i-c,a,s,o),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(st.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=t.__arabicParser__.isArabicEndLetter=function(b){return s(b)&&o(b)&&e[b.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(b){return s(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return s(b)&&o(b)&&e[b.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return s(b)&&o(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return s(b)&&o(b)&&e[b.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return s(b)&&o(b)&&e[b.charCodeAt(0)].length==4},h=t.__arabicParser__.resolveLigatures=function(b){var E=0,w=n,_="",A=0;for(E=0;E<b.length;E+=1)w[b.charCodeAt(E)]!==void 0?(A++,typeof(w=w[b.charCodeAt(E)])=="number"&&(_+=String.fromCharCode(w),w=n,A=0),E===b.length-1&&(w=n,_+=b.charAt(E-(A-1)),E-=A-1,A=0)):(w=n,_+=b.charAt(E-A),E-=A,A=0);return _};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&r[b.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(b,E,w){return s(b)?o(b)===!1?-1:!c(b)||!s(E)&&!s(w)||!s(w)&&a(E)||a(b)&&!s(E)||a(b)&&l(E)||a(b)&&a(E)?0:f(b)&&s(E)&&!a(E)&&s(w)&&c(w)?3:a(b)||!s(w)?1:2:-1},p=function(b){var E=0,w=0,_=0,A="",j="",q="",Z=(b=b||"").split("\\s+"),R=[];for(E=0;E<Z.length;E+=1){for(R.push(""),w=0;w<Z[E].length;w+=1)A=Z[E][w],j=Z[E][w-1],q=Z[E][w+1],s(A)?(_=g(A,j,q),R[E]+=_!==-1?String.fromCharCode(e[A.charCodeAt(0)][_]):A):R[E]+=A;R[E]=h(R[E])}return R.join(" ")},S=t.__arabicParser__.processArabic=t.processArabic=function(){var b,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(E)){var _=0;for(w=[],_=0;_<E.length;_+=1)Array.isArray(E[_])?w.push([p(E[_][0]),E[_][1],E[_][2]]):w.push([p(E[_])]);b=w}else b=p(E);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",S])}(st.API),st.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(a){o=a}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(a){s=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(st.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(b){l=b}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var h=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(b){p=b}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(b){S=b}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var f=(c=c||{}).fontSize||this.getFontSize(),h=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,p=0,S=0,b=0,E=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var w=c.maxWidth;w>0?typeof l=="string"?l=this.splitTextToSize(l,w):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(A,j){return A.concat(E.splitTextToSize(j,w))},[])):l=Array.isArray(l)?l:[l];for(var _=0;_<l.length;_++)p<(b=this.getStringUnitWidth(l[_],{font:h})*f)&&(p=b);return p!==0&&(S=l.length),{w:p/=g,h:Math.max((S*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var l;l=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,h=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+h.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=h.top,p&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-f,l.y+f,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+f,{align:"center",baseline:"top",maxWidth:l.width-f-f}):this.text(l.text,l.x+f,l.y+f,{align:"left",baseline:"top",maxWidth:l.width-f-f})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,f,h,g){if(r.call(this),!f)throw new Error("No data for PDF table.");var p,S,b,E,w=[],_=[],A=[],j={},q={},Z=[],R=[],P=(g=g||{}).autoSize||!1,D=g.printHeaders!==!1,F=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,T=g.margins||Object.assign({width:this.getPageWidth()},e),C=typeof g.padding=="number"?g.padding:3,L=g.headerBackgroundColor||"#c8c8c8",X=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=X,this.setFontSize(F),h==null)_=w=Object.keys(f[0]),A=w.map(function(){return"left"});else if(Array.isArray(h)&&Jt(h[0])==="object")for(w=h.map(function(Q){return Q.name}),_=h.map(function(Q){return Q.prompt||Q.name||""}),A=h.map(function(Q){return Q.align||"left"}),p=0;p<h.length;p+=1)q[h[p].name]=h[p].width*(19.049976/25.4);else Array.isArray(h)&&typeof h[0]=="string"&&(_=w=h,A=w.map(function(){return"left"}));if(P||Array.isArray(h)&&typeof h[0]=="string")for(p=0;p<w.length;p+=1){for(j[E=w[p]]=f.map(function(Q){return Q[E]}),this.setFont(void 0,"bold"),Z.push(this.getTextDimensions(_[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=j[E],this.setFont(void 0,"normal"),b=0;b<S.length;b+=1)Z.push(this.getTextDimensions(S[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[E]=Math.max.apply(null,Z)+C+C,Z=[]}if(D){var fe={};for(p=0;p<w.length;p+=1)fe[w[p]]={},fe[w[p]].text=_[p],fe[w[p]].align=A[p];var le=a.call(this,fe,q);R=w.map(function(Q){return new o(l,c,q[Q],le,fe[Q].text,void 0,fe[Q].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var re=h.reduce(function(Q,ce){return Q[ce.name]=ce.align,Q},{});for(p=0;p<f.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:f[p]},this);var G=a.call(this,f[p],q);for(b=0;b<w.length;b+=1){var K=f[p][w[b]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:b,data:K},this),s.call(this,new o(l,c,q[w[b]],G,K,p+2,re[w[b]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var f=this.internal.__cell__.padding,h=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(p){var S=l[p];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,c[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*h/g+f+f},this).reduce(function(p,S){return Math.max(p,S)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var h=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(h[0],h[1],h[2],h[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),c&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=l;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(S)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(st.API);var GN={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},YN=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ey=HN(YN),KN=[100,200,300,400,500,600,700,800,900],lM=HN(KN);function ty(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(o){return GN[o=o||"normal"]?o:"normal"}(t.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(o){return typeof ey[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function __(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var cM={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},x_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function S_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function uM(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},cM,n.genericFontFamilies||{}),o=null,s=null,a=0;a<e.length;++a)if(i[(o=ty(e[a])).family]&&(o.family=i[o.family]),t.hasOwnProperty(o.family)){s=t[o.family];break}if(!(s=s||t[r]))throw new Error("Could not find a font-family for the rule '"+S_(o)+"' and default family '"+r+"'.");if(s=function(l,c){if(c[l])return c[l];var f=ey[l],h=f<=ey.normal?-1:1,g=__(c,YN,f,h);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(o.stretch,s),s=function(l,c){if(c[l])return c[l];for(var f=GN[l],h=0;h<f.length;++h)if(c[f[h]])return c[f[h]];throw new Error("Could not find a matching font-style for "+l)}(o.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var f=lM[l],h=__(c,KN,f,l<400?-1:1);if(!h)throw new Error("Could not find a matching font-weight for value "+l);return h}(o.weight,s)))throw new Error("Failed to resolve a font for the rule '"+S_(o)+"'.");return s}function N_(t){return t.trimLeft()}function dM(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function fM(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Np,E_,A_,_1=["times"];(function(t){var e,n,r,i,o,s,a,l,c,f=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new l,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new s,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new s,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new h(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,s=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new f}]);var h=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var H=M;Object.defineProperty(this,"pdf",{get:function(){return H}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(xe){J=!!xe}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(xe){ie=!!xe}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(xe){isNaN(xe)||(se=xe)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(xe){isNaN(xe)||(oe=xe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(xe){var ne;typeof xe=="number"?ne=[xe,xe,xe,xe]:((ne=new Array(4))[0]=xe[0],ne[1]=xe.length>=2?xe[1]:ne[0],ne[2]=xe.length>=3?xe[2]:ne[0],ne[3]=xe.length>=4?xe[3]:ne[1]),c.margin=ne}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(xe){he=xe}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(xe){ye=xe}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(xe){Ae=xe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(xe){xe instanceof f&&(c=xe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(xe){c.path=xe}});var Se=[];Object.defineProperty(this,"ctxStack",{get:function(){return Se},set:function(xe){Se=xe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(xe){var ne;ne=g(xe),this.ctx.fillStyle=ne.style,this.ctx.isFillTransparent=ne.a===0,this.ctx.fillOpacity=ne.a,this.pdf.setFillColor(ne.r,ne.g,ne.b,{a:ne.a}),this.pdf.setTextColor(ne.r,ne.g,ne.b,{a:ne.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(xe){var ne=g(xe);this.ctx.strokeStyle=ne.style,this.ctx.isStrokeTransparent=ne.a===0,this.ctx.strokeOpacity=ne.a,ne.a===0?this.pdf.setDrawColor(255,255,255):(ne.a,this.pdf.setDrawColor(ne.r,ne.g,ne.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(xe){["butt","round","square"].indexOf(xe)!==-1&&(this.ctx.lineCap=xe,this.pdf.setLineCap(xe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(xe){isNaN(xe)||(this.ctx.lineWidth=xe,this.pdf.setLineWidth(xe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(xe){["bevel","round","miter"].indexOf(xe)!==-1&&(this.ctx.lineJoin=xe,this.pdf.setLineJoin(xe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(xe){isNaN(xe)||(this.ctx.miterLimit=xe,this.pdf.setMiterLimit(xe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(xe){this.ctx.textBaseline=xe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(xe){["right","end","center","left","start"].indexOf(xe)!==-1&&(this.ctx.textAlign=xe)}});var ke=null;function Me(xe,ne){if(ke===null){var rt=function(Ke){var Oe=[];return Object.keys(Ke).forEach(function(Ve){Ke[Ve].forEach(function(qe){var Be=null;switch(qe){case"bold":Be={family:Ve,weight:"bold"};break;case"italic":Be={family:Ve,style:"italic"};break;case"bolditalic":Be={family:Ve,weight:"bold",style:"italic"};break;case"":case"normal":Be={family:Ve}}Be!==null&&(Be.ref={name:Ve,style:qe},Oe.push(Be))})}),Oe}(xe.getFontList());ke=function(Ke){for(var Oe={},Ve=0;Ve<Ke.length;++Ve){var qe=ty(Ke[Ve]),Be=qe.family,Je=qe.stretch,at=qe.style,ft=qe.weight;Oe[Be]=Oe[Be]||{},Oe[Be][Je]=Oe[Be][Je]||{},Oe[Be][Je][at]=Oe[Be][Je][at]||{},Oe[Be][Je][at][ft]=qe}return Oe}(rt.concat(ne))}return ke}var Ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ye},set:function(xe){ke=null,Ye=xe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(xe){var ne;if(this.ctx.font=xe,(ne=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(xe))!==null){var rt=ne[1],Ke=(ne[2],ne[3]),Oe=ne[4],Ve=(ne[5],ne[6]),qe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Oe)[2];Oe=Math.floor(qe==="px"?parseFloat(Oe)*this.pdf.internal.scaleFactor:qe==="em"?parseFloat(Oe)*this.pdf.getFontSize():parseFloat(Oe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Oe);var Be=function(it){var yt,$e,fn=[],Nt=it.trim();if(Nt==="")return _1;if(Nt in x_)return[x_[Nt]];for(;Nt!=="";){switch($e=null,yt=(Nt=N_(Nt)).charAt(0)){case'"':case"'":$e=dM(Nt.substring(1),yt);break;default:$e=fM(Nt)}if($e===null||(fn.push($e[0]),(Nt=N_($e[1]))!==""&&Nt.charAt(0)!==","))return _1;Nt=Nt.replace(/^,/,"")}return fn}(Ve);if(this.fontFaces){var Je=uM(Me(this.pdf,this.fontFaces),Be.map(function(it){return{family:it,stretch:"normal",weight:Ke,style:rt}}));this.pdf.setFont(Je.ref.name,Je.ref.style)}else{var at="";(Ke==="bold"||parseInt(Ke,10)>=700||rt==="bold")&&(at="bold"),rt==="italic"&&(at+="italic"),at.length===0&&(at="normal");for(var ft="",et={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},tt=0;tt<Be.length;tt++){if(this.pdf.internal.getFont(Be[tt],at,{noFallback:!0,disableWarning:!0})!==void 0){ft=Be[tt];break}if(at==="bolditalic"&&this.pdf.internal.getFont(Be[tt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ft=Be[tt],at="bold";else if(this.pdf.internal.getFont(Be[tt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ft=Be[tt],at="normal";break}}if(ft===""){for(var Rt=0;Rt<Be.length;Rt++)if(et[Be[Rt]]){ft=et[Be[Rt]];break}}ft=ft===""?"Times":ft,this.pdf.setFont(ft,at)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(xe){this.ctx.globalCompositeOperation=xe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(xe){this.ctx.globalAlpha=xe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(xe){this.ctx.lineDashOffset=xe,ce.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(xe){this.ctx.lineDash=xe,ce.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(xe){this.ctx.ignoreClearRect=!!xe}})};h.prototype.setLineDash=function(M){this.lineDash=M},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){j.call(this,"fill",!1)},h.prototype.stroke=function(){j.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(M,H){if(isNaN(M)||isNaN(H))throw on.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new s(M,H));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(M,H)},h.prototype.closePath=function(){var M=new s(0,0),H=0;for(H=this.path.length-1;H!==-1;H--)if(this.path[H].type==="begin"&&Jt(this.path[H+1])==="object"&&typeof this.path[H+1].x=="number"){M=new s(this.path[H+1].x,this.path[H+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(M.x,M.y)},h.prototype.lineTo=function(M,H){if(isNaN(M)||isNaN(H))throw on.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new s(M,H));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new s(J.x,J.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),j.call(this,null,!0)},h.prototype.quadraticCurveTo=function(M,H,J,ie){if(isNaN(J)||isNaN(ie)||isNaN(M)||isNaN(H))throw on.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new s(J,ie)),oe=this.ctx.transform.applyToPoint(new s(M,H));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:se.x,y:se.y}),this.ctx.lastPoint=new s(se.x,se.y)},h.prototype.bezierCurveTo=function(M,H,J,ie,se,oe){if(isNaN(se)||isNaN(oe)||isNaN(M)||isNaN(H)||isNaN(J)||isNaN(ie))throw on.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new s(se,oe)),ye=this.ctx.transform.applyToPoint(new s(M,H)),Ae=this.ctx.transform.applyToPoint(new s(J,ie));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:Ae.x,y2:Ae.y,x:he.x,y:he.y}),this.ctx.lastPoint=new s(he.x,he.y)},h.prototype.arc=function(M,H,J,ie,se,oe){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(ie)||isNaN(se))throw on.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new s(M,H));M=he.x,H=he.y;var ye=this.ctx.transform.applyToPoint(new s(0,J)),Ae=this.ctx.transform.applyToPoint(new s(0,0));J=Math.sqrt(Math.pow(ye.x-Ae.x,2)+Math.pow(ye.y-Ae.y,2))}Math.abs(se-ie)>=2*Math.PI&&(ie=0,se=2*Math.PI),this.path.push({type:"arc",x:M,y:H,radius:J,startAngle:ie,endAngle:se,counterclockwise:oe})},h.prototype.arcTo=function(M,H,J,ie,se){throw new Error("arcTo not implemented.")},h.prototype.rect=function(M,H,J,ie){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(ie))throw on.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,H),this.lineTo(M+J,H),this.lineTo(M+J,H+ie),this.lineTo(M,H+ie),this.lineTo(M,H),this.lineTo(M+J,H),this.lineTo(M,H)},h.prototype.fillRect=function(M,H,J,ie){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(ie))throw on.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,H,J,ie),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},h.prototype.strokeRect=function(M,H,J,ie){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(ie))throw on.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(M,H,J,ie),this.stroke())},h.prototype.clearRect=function(M,H,J,ie){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(ie))throw on.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,H,J,ie))},h.prototype.save=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(H),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},h.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var H=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(H),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(M){var H,J,ie,se;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))H=0,J=0,ie=0,se=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(oe!==null)H=parseInt(oe[1]),J=parseInt(oe[2]),ie=parseInt(oe[3]),se=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)H=parseInt(oe[1]),J=parseInt(oe[2]),ie=parseInt(oe[3]),se=parseFloat(oe[4]);else{if(se=1,typeof M=="string"&&M.charAt(0)!=="#"){var he=new BN(M);M=he.ok?he.toHex():"#000000"}M.length===4?(H=M.substring(1,2),H+=H,J=M.substring(2,3),J+=J,ie=M.substring(3,4),ie+=ie):(H=M.substring(1,3),J=M.substring(3,5),ie=M.substring(5,7)),H=parseInt(H,16),J=parseInt(J,16),ie=parseInt(ie,16)}}return{r:H,g:J,b:ie,a:se,style:M}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};h.prototype.fillText=function(M,H,J,ie){if(isNaN(H)||isNaN(J)||typeof M!="string")throw on.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!p.call(this)){var se=G(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;C.call(this,{text:M,x:H,y:J,scale:oe,angle:se,align:this.textAlign,maxWidth:ie})}},h.prototype.strokeText=function(M,H,J,ie){if(isNaN(H)||isNaN(J)||typeof M!="string")throw on.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){ie=isNaN(ie)?void 0:ie;var se=G(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;C.call(this,{text:M,x:H,y:J,scale:oe,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ie})}},h.prototype.measureText=function(M){if(typeof M!="string")throw on.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var H=this.pdf,J=this.pdf.internal.scaleFactor,ie=H.internal.getFontSize(),se=H.getStringUnitWidth(M)*ie/H.internal.scaleFactor,oe=function(he){var ye=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this};return new oe({width:se*=Math.round(96*J/72*1e4)/1e4})},h.prototype.scale=function(M,H){if(isNaN(M)||isNaN(H))throw on.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new l(M,0,0,H,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.rotate=function(M){if(isNaN(M))throw on.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var H=new l(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(H)},h.prototype.translate=function(M,H){if(isNaN(M)||isNaN(H))throw on.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new l(1,0,0,1,M,H);this.ctx.transform=this.ctx.transform.multiply(J)},h.prototype.transform=function(M,H,J,ie,se,oe){if(isNaN(M)||isNaN(H)||isNaN(J)||isNaN(ie)||isNaN(se)||isNaN(oe))throw on.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(M,H,J,ie,se,oe);this.ctx.transform=this.ctx.transform.multiply(he)},h.prototype.setTransform=function(M,H,J,ie,se,oe){M=isNaN(M)?1:M,H=isNaN(H)?0:H,J=isNaN(J)?0:J,ie=isNaN(ie)?1:ie,se=isNaN(se)?0:se,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(M,H,J,ie,se,oe)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(M,H,J,ie,se,oe,he,ye,Ae){var Se=this.pdf.getImageProperties(M),ke=1,Me=1,Ye=1,xe=1;ie!==void 0&&ye!==void 0&&(Ye=ye/ie,xe=Ae/se,ke=Se.width/ie*ye/ie,Me=Se.height/se*Ae/se),oe===void 0&&(oe=H,he=J,H=0,J=0),ie!==void 0&&ye===void 0&&(ye=ie,Ae=se),ie===void 0&&ye===void 0&&(ye=Se.width,Ae=Se.height);for(var ne,rt=this.ctx.transform.decompose(),Ke=G(rt.rotate.shx),Oe=new l,Ve=(Oe=(Oe=(Oe=Oe.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new a(oe-H*Ye,he-J*xe,ie*ke,se*Me)),qe=E.call(this,Ve),Be=[],Je=0;Je<qe.length;Je+=1)Be.indexOf(qe[Je])===-1&&Be.push(qe[Je]);if(A(Be),this.autoPaging)for(var at=Be[0],ft=Be[Be.length-1],et=at;et<ft+1;et++){this.pdf.setPage(et);var tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Rt=et===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],yt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=et===1?0:it+(et-2)*yt;if(this.ctx.clip_path.length!==0){var fn=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(ne,this.posX+this.margin[3],-$e+Rt+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=fn}var Nt=JSON.parse(JSON.stringify(Ve));Nt=_([Nt],this.posX+this.margin[3],-$e+Rt+this.ctx.prevPageLastElemOffset)[0];var hn=(et>at||et<ft)&&b.call(this);hn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,yt,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Nt.x,Nt.y,Nt.w,Nt.h,null,null,Ke),hn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",Ve.x,Ve.y,Ve.w,Ve.h,null,null,Ke)};var E=function(M,H,J){var ie=[];H=H||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":ie.push(Math.floor((M.y+se)/J)+1);break;case"arc":ie.push(Math.floor((M.y+se-M.radius)/J)+1),ie.push(Math.floor((M.y+se+M.radius)/J)+1);break;case"qct":var oe=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);ie.push(Math.floor((oe.y+se)/J)+1),ie.push(Math.floor((oe.y+oe.h+se)/J)+1);break;case"bct":var he=Q(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);ie.push(Math.floor((he.y+se)/J)+1),ie.push(Math.floor((he.y+he.h+se)/J)+1);break;case"rect":ie.push(Math.floor((M.y+se)/J)+1),ie.push(Math.floor((M.y+M.h+se)/J)+1)}for(var ye=0;ye<ie.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<ie[ye];)w.call(this);return ie},w=function(){var M=this.fillStyle,H=this.strokeStyle,J=this.font,ie=this.lineCap,se=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=H,this.font=J,this.lineCap=ie,this.lineWidth=se,this.lineJoin=oe},_=function(M,H,J){for(var ie=0;ie<M.length;ie++)switch(M[ie].type){case"bct":M[ie].x2+=H,M[ie].y2+=J;case"qct":M[ie].x1+=H,M[ie].y1+=J;case"mt":case"lt":case"arc":default:M[ie].x+=H,M[ie].y+=J}return M},A=function(M){return M.sort(function(H,J){return H-J})},j=function(M,H){for(var J,ie,se=this.fillStyle,oe=this.strokeStyle,he=this.lineCap,ye=this.lineWidth,Ae=Math.abs(ye*this.ctx.transform.scaleX),Se=this.lineJoin,ke=JSON.parse(JSON.stringify(this.path)),Me=JSON.parse(JSON.stringify(this.path)),Ye=[],xe=0;xe<Me.length;xe++)if(Me[xe].x!==void 0)for(var ne=E.call(this,Me[xe]),rt=0;rt<ne.length;rt+=1)Ye.indexOf(ne[rt])===-1&&Ye.push(ne[rt]);for(var Ke=0;Ke<Ye.length;Ke++)for(;this.pdf.internal.getNumberOfPages()<Ye[Ke];)w.call(this);if(A(Ye),this.autoPaging)for(var Oe=Ye[0],Ve=Ye[Ye.length-1],qe=Oe;qe<Ve+1;qe++){this.pdf.setPage(qe),this.fillStyle=se,this.strokeStyle=oe,this.lineCap=he,this.lineWidth=Ae,this.lineJoin=Se;var Be=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Je=qe===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=qe===1?0:at+(qe-2)*ft;if(this.ctx.clip_path.length!==0){var tt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(J,this.posX+this.margin[3],-et+Je+this.ctx.prevPageLastElemOffset),q.call(this,M,!0),this.path=tt}if(ie=JSON.parse(JSON.stringify(ke)),this.path=_(ie,this.posX+this.margin[3],-et+Je+this.ctx.prevPageLastElemOffset),H===!1||qe===0){var Rt=(qe>Oe||qe<Ve)&&b.call(this);Rt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Be,ft,null).clip().discardPath()),q.call(this,M,H),Rt&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=Ae,q.call(this,M,H),this.lineWidth=ye;this.path=ke},q=function(M,H){if((M!=="stroke"||H||!S.call(this))&&(M==="stroke"||H||!p.call(this))){for(var J,ie,se=[],oe=this.path,he=0;he<oe.length;he++){var ye=oe[he];switch(ye.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:ye,deltas:[],abs:[]});break;case"lt":var Ae=se.length;if(oe[he-1]&&!isNaN(oe[he-1].x)&&(J=[ye.x-oe[he-1].x,ye.y-oe[he-1].y],Ae>0)){for(;Ae>=0;Ae--)if(se[Ae-1].close!==!0&&se[Ae-1].begin!==!0){se[Ae-1].deltas.push(J),se[Ae-1].abs.push(ye);break}}break;case"bct":J=[ye.x1-oe[he-1].x,ye.y1-oe[he-1].y,ye.x2-oe[he-1].x,ye.y2-oe[he-1].y,ye.x-oe[he-1].x,ye.y-oe[he-1].y],se[se.length-1].deltas.push(J);break;case"qct":var Se=oe[he-1].x+2/3*(ye.x1-oe[he-1].x),ke=oe[he-1].y+2/3*(ye.y1-oe[he-1].y),Me=ye.x+2/3*(ye.x1-ye.x),Ye=ye.y+2/3*(ye.y1-ye.y),xe=ye.x,ne=ye.y;J=[Se-oe[he-1].x,ke-oe[he-1].y,Me-oe[he-1].x,Ye-oe[he-1].y,xe-oe[he-1].x,ne-oe[he-1].y],se[se.length-1].deltas.push(J);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(ye)}}ie=H?null:M==="stroke"?"stroke":"fill";for(var rt=!1,Ke=0;Ke<se.length;Ke++)if(se[Ke].arc)for(var Oe=se[Ke].abs,Ve=0;Ve<Oe.length;Ve++){var qe=Oe[Ve];qe.type==="arc"?P.call(this,qe.x,qe.y,qe.radius,qe.startAngle,qe.endAngle,qe.counterclockwise,void 0,H,!rt):L.call(this,qe.x,qe.y),rt=!0}else if(se[Ke].close===!0)this.pdf.internal.out("h"),rt=!1;else if(se[Ke].begin!==!0){var Be=se[Ke].start.x,Je=se[Ke].start.y;X.call(this,se[Ke].deltas,Be,Je),rt=!0}ie&&D.call(this,ie),H&&F.call(this)}},Z=function(M){var H=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=H*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-J;case"top":return M+H-J;case"hanging":return M+H-2*J;case"middle":return M+H/2-J;case"ideographic":return M;case"alphabetic":default:return M}},R=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(H,J){this.colorStops.push([H,J])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(M,H,J,ie,se,oe,he,ye,Ae){for(var Se=le.call(this,J,ie,se,oe),ke=0;ke<Se.length;ke++){var Me=Se[ke];ke===0&&(Ae?T.call(this,Me.x1+M,Me.y1+H):L.call(this,Me.x1+M,Me.y1+H)),fe.call(this,M,H,Me.x2,Me.y2,Me.x3,Me.y3,Me.x4,Me.y4)}ye?F.call(this):D.call(this,he)},D=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(M,H){this.pdf.internal.out(n(M)+" "+r(H)+" m")},C=function(M){var H;switch(M.align){case"right":case"end":H="right";break;case"center":H="center";break;case"left":case"start":default:H="left"}var J=this.pdf.getTextDimensions(M.text),ie=Z.call(this,M.y),se=R.call(this,ie)-J.h,oe=this.ctx.transform.applyToPoint(new s(M.x,ie)),he=this.ctx.transform.decompose(),ye=new l;ye=(ye=(ye=ye.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Ae,Se,ke,Me=this.ctx.transform.applyToRectangle(new a(M.x,ie,J.w,J.h)),Ye=ye.applyToRectangle(new a(M.x,se,J.w,J.h)),xe=E.call(this,Ye),ne=[],rt=0;rt<xe.length;rt+=1)ne.indexOf(xe[rt])===-1&&ne.push(xe[rt]);if(A(ne),this.autoPaging)for(var Ke=ne[0],Oe=ne[ne.length-1],Ve=Ke;Ve<Oe+1;Ve++){this.pdf.setPage(Ve);var qe=Ve===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[2],at=Je-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],et=ft-this.margin[3],tt=Ve===1?0:Be+(Ve-2)*at;if(this.ctx.clip_path.length!==0){var Rt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(Ae,this.posX+this.margin[3],-1*tt+qe),q.call(this,"fill",!0),this.path=Rt}var it=_([JSON.parse(JSON.stringify(Ye))],this.posX+this.margin[3],-tt+qe+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*M.scale),ke=this.lineWidth,this.lineWidth=ke*M.scale);var yt=this.autoPaging!=="text";if(yt||it.y+it.h<=Je){if(yt||it.y>=qe&&it.x<=ft){var $e=yt?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||ft-it.x)[0],fn=_([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-tt+qe+this.ctx.prevPageLastElemOffset)[0],Nt=yt&&(Ve>Ke||Ve<Oe)&&b.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],et,at,null).clip().discardPath()),this.pdf.text($e,fn.x,fn.y,{angle:M.angle,align:H,renderingMode:M.renderingMode}),Nt&&this.pdf.restoreGraphicsState()}}else it.y<Je&&(this.ctx.prevPageLastElemOffset+=Je-it.y);M.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=ke)}else M.scale>=.01&&(Se=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Se*M.scale),ke=this.lineWidth,this.lineWidth=ke*M.scale),this.pdf.text(M.text,oe.x+this.posX,oe.y+this.posY,{angle:M.angle,align:H,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Se),this.lineWidth=ke)},L=function(M,H,J,ie){J=J||0,ie=ie||0,this.pdf.internal.out(n(M+J)+" "+r(H+ie)+" l")},X=function(M,H,J){return this.pdf.lines(M,H,J,null,null)},fe=function(M,H,J,ie,se,oe,he,ye){this.pdf.internal.out([e(i(J+M)),e(o(ie+H)),e(i(se+M)),e(o(oe+H)),e(i(he+M)),e(o(ye+H)),"c"].join(" "))},le=function(M,H,J,ie){for(var se=2*Math.PI,oe=Math.PI/2;H>J;)H-=se;var he=Math.abs(J-H);he<se&&ie&&(he=se-he);for(var ye=[],Ae=ie?-1:1,Se=H;he>1e-5;){var ke=Se+Ae*Math.min(he,oe);ye.push(re.call(this,M,Se,ke)),he-=Math.abs(ke-Se),Se=ke}return ye},re=function(M,H,J){var ie=(J-H)/2,se=M*Math.cos(ie),oe=M*Math.sin(ie),he=se,ye=-oe,Ae=he*he+ye*ye,Se=Ae+he*se+ye*oe,ke=4/3*(Math.sqrt(2*Ae*Se)-Se)/(he*oe-ye*se),Me=he-ke*ye,Ye=ye+ke*he,xe=Me,ne=-Ye,rt=ie+H,Ke=Math.cos(rt),Oe=Math.sin(rt);return{x1:M*Math.cos(H),y1:M*Math.sin(H),x2:Me*Ke-Ye*Oe,y2:Me*Oe+Ye*Ke,x3:xe*Ke-ne*Oe,y3:xe*Oe+ne*Ke,x4:M*Math.cos(J),y4:M*Math.sin(J)}},G=function(M){return 180*M/Math.PI},K=function(M,H,J,ie,se,oe){var he=M+.5*(J-M),ye=H+.5*(ie-H),Ae=se+.5*(J-se),Se=oe+.5*(ie-oe),ke=Math.min(M,se,he,Ae),Me=Math.max(M,se,he,Ae),Ye=Math.min(H,oe,ye,Se),xe=Math.max(H,oe,ye,Se);return new a(ke,Ye,Me-ke,xe-Ye)},Q=function(M,H,J,ie,se,oe,he,ye){var Ae,Se,ke,Me,Ye,xe,ne,rt,Ke,Oe,Ve,qe,Be,Je,at=J-M,ft=ie-H,et=se-J,tt=oe-ie,Rt=he-se,it=ye-oe;for(Se=0;Se<41;Se++)Ke=(ne=(ke=M+(Ae=Se/40)*at)+Ae*((Ye=J+Ae*et)-ke))+Ae*(Ye+Ae*(se+Ae*Rt-Ye)-ne),Oe=(rt=(Me=H+Ae*ft)+Ae*((xe=ie+Ae*tt)-Me))+Ae*(xe+Ae*(oe+Ae*it-xe)-rt),Se==0?(Ve=Ke,qe=Oe,Be=Ke,Je=Oe):(Ve=Math.min(Ve,Ke),qe=Math.min(qe,Oe),Be=Math.max(Be,Ke),Je=Math.max(Je,Oe));return new a(Math.round(Ve),Math.round(qe),Math.round(Be-Ve),Math.round(Je-qe))},ce=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,H,J=(M=this.ctx.lineDash,H=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:H}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(st.API),function(t){var e=function(o){var s,a,l,c,f,h,g,p,S,b;for(a=[],l=0,c=(o+=s="\0\0\0\0".slice(o.length%4||4)).length;c>l;l+=4)(f=(o.charCodeAt(l)<<24)+(o.charCodeAt(l+1)<<16)+(o.charCodeAt(l+2)<<8)+o.charCodeAt(l+3))!==0?(h=(f=((f=((f=((f=(f-(b=f%85))/85)-(S=f%85))/85)-(p=f%85))/85)-(g=f%85))/85)%85,a.push(h+33,g+33,p+33,S+33,b+33)):a.push(122);return function(E,w){for(var _=w;_>0;_--)E.pop()}(a,s.length),String.fromCharCode.apply(String,a)+"~>"},n=function(o){var s,a,l,c,f,h=String,g="length",p=255,S="charCodeAt",b="slice",E="replace";for(o[b](-2),o=o[b](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),l=[],c=0,f=(o+=s="uuuuu"[b](o[g]%5||5))[g];f>c;c+=5)a=52200625*(o[S](c)-33)+614125*(o[S](c+1)-33)+7225*(o[S](c+2)-33)+85*(o[S](c+3)-33)+(o[S](c+4)-33),l.push(p&a>>24,p&a>>16,p&a>>8,p&a);return function(w,_){for(var A=_;A>0;A--)w.pop()}(l,s[g]),h.fromCharCode.apply(h,l)},r=function(o){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),s.test(o)===!1)return"";for(var a="",l=0;l<o.length;l+=2)a+=String.fromCharCode("0x"+(o[l]+o[l+1]));return a},i=function(o){for(var s=new Uint8Array(o.length),a=o.length;a--;)s[a]=o.charCodeAt(a);return o=(s=K0(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(o,s){var a=0,l=o||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),a=0;a<s.length;a+=1)switch(s[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[a]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(st.API),function(t){t.loadFile=function(e,n,r){return function(i,o,s){o=o!==!1,s=typeof s=="function"?s:function(){};var a=void 0;try{a=function(l,c,f){var h=new XMLHttpRequest,g=0,p=function(S){var b=S.length,E=[],w=String.fromCharCode;for(g=0;g<b;g+=1)E.push(w(255&S.charCodeAt(g)));return E.join("")};if(h.open("GET",l,!c),h.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(h.onload=function(){h.status===200?f(p(this.responseText)):f(void 0)}),h.send(null),c&&h.status===200)return p(h.responseText)}(i,o,s)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(st.API),function(t){function e(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):$0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function n(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):$0(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var a=Jt(s);return a==="undefined"?"undefined":a==="string"||s instanceof String?"string":a==="number"||s instanceof Number?"number":a==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(s,a){var l=document.createElement(s);for(var c in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[c]=a.style[c];return l},o=function s(a){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(a)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(s,a){return s.__proto__=a||o.prototype,s},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(s,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},o.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(c,f){for(var h=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),g=c.firstChild;g;g=g.nextSibling)f!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||h.appendChild(l(g,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(h.width=c.width,h.height=c.height,h.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(h.value=c.value),h.addEventListener("load",function(){h.scrollTop=c.scrollTop,h.scrollLeft=c.scrollLeft},!0)),h}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(a){var l=this.opt.jsPDF,c=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,h=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete h.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var g=0;g<c.length;++g){var p=c[g],S=p.src.find(function(b){return b.format==="truetype"});S&&l.addFont(S.url,p.ref.name,p.ref.style)}return h.windowHeight=h.windowHeight||0,h.windowHeight=h.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):h.windowHeight,l.context2d.save(!0),a(this.prop.container,h)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(s,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,a):this.outputPdf(s,a)},o.prototype.outputPdf=function(s,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,a)})},o.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},o.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(s){if(r(s)!=="object")return this;var a=Object.keys(s||{}).map(function(l){if(l in o.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(a)})},o.prototype.get=function(s,a){return this.then(function(){var l=s in o.template.prop?this.prop[s]:this.opt[s];return a?a(l):l})},o.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},o.prototype.setPageSize=function(s){function a(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||st.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:a(s.inner.width,s.k),height:a(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},o.prototype.setProgress=function(s,a,l,c){return s!=null&&(this.progress.val=s),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(s,a,l,c){return this.setProgress(s?this.progress.val+s:null,a||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},o.prototype.then=function(s,a){var l=this;return this.thenCore(s,a,function(c,f){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(h){return l.updateProgress(null,c),h}).then(c,f).then(function(h){return l.updateProgress(1),h})})},o.prototype.thenCore=function(s,a,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),a&&(a=a.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),f=l.call(c,s,a);return o.convert(f,this.__proto__)},o.prototype.thenExternal=function(s,a){return Promise.prototype.then.call(this,s,a)},o.prototype.thenList=function(s){var a=this;return s.forEach(function(l){a=a.thenCore(l)}),a},o.prototype.catch=function(s){s&&(s=s.bind(this));var a=Promise.prototype.catch.call(this,s);return o.convert(a,this)},o.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},o.prototype.error=function(s){return this.then(function(){throw new Error(s)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,st.getPageSize=function(s,a,l){if(Jt(s)==="object"){var c=s;s=c.orientation,a=c.unit||a,l=c.format||l}a=a||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var f,h=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+a}var p,S=0,b=0;if(g.hasOwnProperty(h))S=g[h][1]/f,b=g[h][0]/f;else try{S=l[1],b=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",b>S&&(p=b,b=S,S=p);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",S>b&&(p=b,b=S,S=p)}return{width:b,height:S,unit:a,k:f,orientation:s}},t.html=function(s,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(ty):null;var l=new o(a);return a.worker?l:l.from(s).doCallback()}}(st.API),st.API.addJS=function(t){return A_=t,this.internal.events.subscribe("postPutResources",function(){Np=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Np+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),E_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+A_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Np!==void 0&&E_!==void 0&&this.internal.out("/Names <</JavaScript "+Np+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),o=0;o<i.length;o++){var s=i[o],a=r.exec(s);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,f=[];for(o=0;o<c;o++){var h=n.internal.newObject();f.push(h);var g=n.internal.getPageInfo(o+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=n.internal.newObject();for(n.internal.write("<< /Names [ "),o=0;o<f.length;o++)n.internal.write("(page_"+(o+1)+")"+f[o]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+p+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,o){var s={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var s=r.children[o];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var l=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(st.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,o,s,a){var l,c=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(h){for(var g,p=256*h.charCodeAt(4)+h.charCodeAt(5),S=h.length,b={width:0,height:0,numcomponents:1},E=4;E<S;E+=2){if(E+=p,e.indexOf(h.charCodeAt(E+1))!==-1){g=256*h.charCodeAt(E+5)+h.charCodeAt(E+6),b={width:256*h.charCodeAt(E+7)+h.charCodeAt(E+8),height:g,numcomponents:h.charCodeAt(E+9)};break}p=256*h.charCodeAt(E+2)+h.charCodeAt(E+3)}return b}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}f={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:r,alias:i}}return f}}(st.API);var fu,Ep,C_,P_,T_,hM=function(){var t,e,n;function r(o){var s,a,l,c,f,h,g,p,S,b,E,w,_,A;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},h=null;;){switch(s=this.readUInt32(),S=(function(){var j,q;for(q=[],j=0;j<4;++j)q.push(String.fromCharCode(this.data[this.pos++]));return q}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":h&&this.animation.frames.push(h),this.pos+=4,h={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),c=this.readUInt16()||100,h.delay=1e3*f/c,h.disposeOp=this.data[this.pos++],h.blendOp=this.data[this.pos++],h.data=[];break;case"IDAT":case"fdAT":for(S==="fdAT"&&(this.pos+=4,s-=4),o=(h!=null?h.data:void 0)||this.imgData,w=0;0<=s?w<s:w>s;0<=s?++w:--w)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((b=l-this.transparency.indexed.length)>0)for(_=0;0<=b?_<b:_>b;0<=b?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":g=(E=this.read(s)).indexOf(0),p=String.fromCharCode.apply(String,E.slice(0,g)),this.text[p]=String.fromCharCode.apply(String,E.slice(g+1));break;case"IEND":return h&&this.animation.frames.push(h),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(A=this.colorType)===4||A===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var s,a;for(a=[],s=0;0<=o?s<o:s>o;0<=o?++s:--s)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var s=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*s),l=0,c=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function f(h,g,p,S){var b,E,w,_,A,j,q,Z,R,P,D,F,T,C,L,X,fe,le,re,G,K,Q=Math.ceil((c.width-h)/p),ce=Math.ceil((c.height-g)/S),M=c.width==Q&&c.height==ce;for(C=s*Q,F=M?a:new Uint8Array(C*ce),j=o.length,T=0,E=0;T<ce&&l<j;){switch(o[l++]){case 0:for(_=fe=0;fe<C;_=fe+=1)F[E++]=o[l++];break;case 1:for(_=le=0;le<C;_=le+=1)b=o[l++],A=_<s?0:F[E-s],F[E++]=(b+A)%256;break;case 2:for(_=re=0;re<C;_=re+=1)b=o[l++],w=(_-_%s)/s,L=T&&F[(T-1)*C+w*s+_%s],F[E++]=(L+b)%256;break;case 3:for(_=G=0;G<C;_=G+=1)b=o[l++],w=(_-_%s)/s,A=_<s?0:F[E-s],L=T&&F[(T-1)*C+w*s+_%s],F[E++]=(b+Math.floor((A+L)/2))%256;break;case 4:for(_=K=0;K<C;_=K+=1)b=o[l++],w=(_-_%s)/s,A=_<s?0:F[E-s],T===0?L=X=0:(L=F[(T-1)*C+w*s+_%s],X=w&&F[(T-1)*C+(w-1)*s+_%s]),q=A+L-X,Z=Math.abs(q-A),P=Math.abs(q-L),D=Math.abs(q-X),R=Z<=P&&Z<=D?A:P<=D?L:X,F[E++]=(b+R)%256;break;default:throw new Error("Invalid filter algorithm: "+o[l-1])}if(!M){var H=((g+T*S)*c.width+h)*s,J=T*C;for(_=0;_<Q;_+=1){for(var ie=0;ie<s;ie+=1)a[H++]=F[J++];H+=(p-1)*s}}T++}}return o=WD(o),c.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),a},r.prototype.decodePalette=function(){var o,s,a,l,c,f,h,g,p;for(a=this.palette,f=this.transparency.indexed||[],c=new Uint8Array((f.length||0)+a.length),l=0,o=0,s=h=0,g=a.length;h<g;s=h+=3)c[l++]=a[s],c[l++]=a[s+1],c[l++]=a[s+2],c[l++]=(p=f[o++])!=null?p:255;return c},r.prototype.copyToImageData=function(o,s){var a,l,c,f,h,g,p,S,b,E,w;if(l=this.colors,b=null,a=this.hasAlphaChannel,this.palette.length&&(b=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),l=4,a=!0),S=(c=o.data||o).length,h=b||s,f=g=0,l===1)for(;f<S;)p=b?4*s[f/4]:g,E=h[p++],c[f++]=E,c[f++]=E,c[f++]=E,c[f++]=a?h[p++]:255,g=p;else for(;f<S;)p=b?4*s[f/4]:g,c[f++]=h[p++],c[f++]=h[p++],c[f++]=h[p++],c[f++]=a?h[p++]:255,g=p},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(lt)==="[object Window]"){try{e=lt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(o){var s;if(i()===!0)return n.width=o.width,n.height=o.height,n.clearRect(0,0,o.width,o.height),n.putImageData(o,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var s,a,l,c,f,h,g,p;if(this.animation){for(p=[],a=f=0,h=(g=this.animation.frames).length;f<h;a=++f)s=g[a],l=o.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,p.push(s.image=t(l));return p}},r.prototype.renderFrame=function(o,s){var a,l,c;return a=(l=this.animation.frames)[s],c=l[s-1],s===0&&o.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?o.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&o.putImageData(c.imageData,c.xOffset,c.yOffset),a.blendOp===0&&o.clearRect(a.xOffset,a.yOffset,a.width,a.height),o.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(o){var s,a,l,c,f,h,g=this;return a=0,h=this.animation,c=h.numFrames,l=h.frames,f=h.numPlays,(s=function(){var p,S;if(p=a++%c,S=l[p],g.renderFrame(o,p),c>1&&a/c<f)return g.animation._timeout=setTimeout(s,S.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var s,a;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,s=o.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(a=s.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),s.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function pM(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],o=i>>7,s=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;o&&(a=e,l=s,e+=3*s);var c=!0,f=[],h=0,g=null,p=0,S=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,S=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];h=t[e++]|t[e++]<<8,g=t[e++],!(1&b)&&(g=null),p=b>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var E=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,A=t[e++]|t[e++]<<8,j=t[e++],q=j>>6&1,Z=1<<(7&j)+1,R=a,P=l,D=!1;j>>7&&(D=!0,R=e,P=Z,e+=3*Z);var F=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}f.push({x:E,y:w,width:_,height:A,has_local_palette:D,palette_offset:R,palette_size:P,data_offset:F,data_length:e-F,transparent_index:g,interlaced:!!q,delay:h,disposal:p});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return S},this.frameInfo=function(C){if(C<0||C>=f.length)throw new Error("Frame index out of range.");return f[C]},this.decodeAndBlitFrameBGRA=function(C,L){var X=this.frameInfo(C),fe=X.width*X.height,le=new Uint8Array(fe);k_(t,X.data_offset,le,fe);var re=X.palette_offset,G=X.transparent_index;G===null&&(G=256);var K=X.width,Q=n-K,ce=K,M=4*(X.y*n+X.x),H=4*((X.y+X.height)*n+X.x),J=M,ie=4*Q;X.interlaced===!0&&(ie+=4*n*7);for(var se=8,oe=0,he=le.length;oe<he;++oe){var ye=le[oe];if(ce===0&&(ce=K,(J+=ie)>=H&&(ie=4*Q+4*n*(se-1),J=M+(K+Q)*(se<<1),se>>=1)),ye===G)J+=4;else{var Ae=t[re+3*ye],Se=t[re+3*ye+1],ke=t[re+3*ye+2];L[J++]=ke,L[J++]=Se,L[J++]=Ae,L[J++]=255}--ce}},this.decodeAndBlitFrameRGBA=function(C,L){var X=this.frameInfo(C),fe=X.width*X.height,le=new Uint8Array(fe);k_(t,X.data_offset,le,fe);var re=X.palette_offset,G=X.transparent_index;G===null&&(G=256);var K=X.width,Q=n-K,ce=K,M=4*(X.y*n+X.x),H=4*((X.y+X.height)*n+X.x),J=M,ie=4*Q;X.interlaced===!0&&(ie+=4*n*7);for(var se=8,oe=0,he=le.length;oe<he;++oe){var ye=le[oe];if(ce===0&&(ce=K,(J+=ie)>=H&&(ie=4*Q+4*n*(se-1),J=M+(K+Q)*(se<<1),se>>=1)),ye===G)J+=4;else{var Ae=t[re+3*ye],Se=t[re+3*ye+1],ke=t[re+3*ye+2];L[J++]=Ae,L[J++]=Se,L[J++]=ke,L[J++]=255}--ce}}}function k_(t,e,n,r){for(var i=t[e++],o=1<<i,s=o+1,a=s+1,l=i+1,c=(1<<l)-1,f=0,h=0,g=0,p=t[e++],S=new Int32Array(4096),b=null;;){for(;f<16&&p!==0;)h|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<l)break;var E=h&c;if(h>>=l,f-=l,E!==o){if(E===s)break;for(var w=E<a?E:b,_=0,A=w;A>o;)A=S[A]>>8,++_;var j=A;if(g+_+(w!==E?1:0)>r)return void on.log("Warning, gif stream longer than expected.");n[g++]=j;var q=g+=_;for(w!==E&&(n[g++]=j),A=w;_--;)A=S[A],n[--q]=255&A,A>>=8;b!==null&&a<4096&&(S[a++]=b<<8|j,a>=c+1&&l<12&&(++l,c=c<<1|1)),b=E}else a=s+1,c=(1<<(l=i+1))-1,b=null}return g!==r&&on.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function x1(t){var e,n,r,i,o,s=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),f=new Array(64),h=new Array(65535),g=new Array(65535),p=new Array(64),S=new Array(64),b=[],E=0,w=7,_=new Array(64),A=new Array(64),j=new Array(64),q=new Array(256),Z=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(M,H){for(var J=0,ie=0,se=new Array,oe=1;oe<=16;oe++){for(var he=1;he<=M[oe];he++)se[H[ie]]=[],se[H[ie]][0]=J,se[H[ie]][1]=oe,ie++,J++;J*=2}return se}function re(M){for(var H=M[0],J=M[1]-1;J>=0;)H&1<<J&&(E|=1<<w),J--,--w<0&&(E==255?(G(255),G(0)):G(E),w=7,E=0)}function G(M){b.push(M)}function K(M){G(M>>8&255),G(255&M)}function Q(M,H,J,ie,se){for(var oe,he=se[0],ye=se[240],Ae=function(Oe,Ve){var qe,Be,Je,at,ft,et,tt,Rt,it,yt,$e=0;for(it=0;it<8;++it){qe=Oe[$e],Be=Oe[$e+1],Je=Oe[$e+2],at=Oe[$e+3],ft=Oe[$e+4],et=Oe[$e+5],tt=Oe[$e+6];var fn=qe+(Rt=Oe[$e+7]),Nt=qe-Rt,hn=Be+tt,ht=Be-tt,Et=Je+et,Un=Je-et,wt=at+ft,_r=at-ft,qt=fn+wt,zn=fn-wt,xr=hn+Et,Ht=hn-Et;Oe[$e]=qt+xr,Oe[$e+4]=qt-xr;var nt=.707106781*(Ht+zn);Oe[$e+2]=zn+nt,Oe[$e+6]=zn-nt;var Tt=.382683433*((qt=_r+Un)-(Ht=ht+Nt)),Zr=.5411961*qt+Tt,pn=1.306562965*Ht+Tt,Jn=.707106781*(xr=Un+ht),Zn=Nt+Jn,He=Nt-Jn;Oe[$e+5]=He+Zr,Oe[$e+3]=He-Zr,Oe[$e+1]=Zn+pn,Oe[$e+7]=Zn-pn,$e+=8}for($e=0,it=0;it<8;++it){qe=Oe[$e],Be=Oe[$e+8],Je=Oe[$e+16],at=Oe[$e+24],ft=Oe[$e+32],et=Oe[$e+40],tt=Oe[$e+48];var Sr=qe+(Rt=Oe[$e+56]),er=qe-Rt,An=Be+tt,Ot=Be-tt,sn=Je+et,Cn=Je-et,Oo=at+ft,yi=at-ft,tr=Sr+Oo,ei=Sr-Oo,zr=An+sn,qr=An-sn;Oe[$e]=tr+zr,Oe[$e+32]=tr-zr;var On=.707106781*(qr+ei);Oe[$e+16]=ei+On,Oe[$e+48]=ei-On;var wi=.382683433*((tr=yi+Cn)-(qr=Ot+er)),Do=.5411961*tr+wi,Mo=1.306562965*qr+wi,jo=.707106781*(zr=Cn+Ot),ms=er+jo,gs=er-jo;Oe[$e+40]=gs+Do,Oe[$e+24]=gs-Do,Oe[$e+8]=ms+Mo,Oe[$e+56]=ms-Mo,$e++}for(it=0;it<64;++it)yt=Oe[it]*Ve[it],p[it]=yt>0?yt+.5|0:yt-.5|0;return p}(M,H),Se=0;Se<64;++Se)S[R[Se]]=Ae[Se];var ke=S[0]-J;J=S[0],ke==0?re(ie[0]):(re(ie[g[oe=32767+ke]]),re(h[oe]));for(var Me=63;Me>0&&S[Me]==0;)Me--;if(Me==0)return re(he),J;for(var Ye,xe=1;xe<=Me;){for(var ne=xe;S[xe]==0&&xe<=Me;)++xe;var rt=xe-ne;if(rt>=16){Ye=rt>>4;for(var Ke=1;Ke<=Ye;++Ke)re(ye);rt&=15}oe=32767+S[xe],re(se[(rt<<4)+g[oe]]),re(h[oe]),xe++}return Me!=63&&re(he),J}function ce(M){M=Math.min(Math.max(M,1),100),o!=M&&(function(H){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var se=s((J[ie]*H+50)/100);se=Math.min(Math.max(se,1),255),a[R[ie]]=se}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var ye=s((oe[he]*H+50)/100);ye=Math.min(Math.max(ye,1),255),l[R[he]]=ye}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Se=0,ke=0;ke<8;ke++)for(var Me=0;Me<8;Me++)c[Se]=1/(a[R[Se]]*Ae[ke]*Ae[Me]*8),f[Se]=1/(l[R[Se]]*Ae[ke]*Ae[Me]*8),Se++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),o=M)}this.encode=function(M,H){H&&ce(H),b=new Array,E=0,w=7,K(65496),K(65504),K(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),K(1),K(1),G(0),G(0),function(){K(65499),K(132),G(0);for(var Be=0;Be<64;Be++)G(a[Be]);G(1);for(var Je=0;Je<64;Je++)G(l[Je])}(),function(Be,Je){K(65472),K(17),G(8),K(Je),K(Be),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(M.width,M.height),function(){K(65476),K(418),G(0);for(var Be=0;Be<16;Be++)G(P[Be+1]);for(var Je=0;Je<=11;Je++)G(D[Je]);G(16);for(var at=0;at<16;at++)G(F[at+1]);for(var ft=0;ft<=161;ft++)G(T[ft]);G(1);for(var et=0;et<16;et++)G(C[et+1]);for(var tt=0;tt<=11;tt++)G(L[tt]);G(17);for(var Rt=0;Rt<16;Rt++)G(X[Rt+1]);for(var it=0;it<=161;it++)G(fe[it])}(),K(65498),K(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var J=0,ie=0,se=0;E=0,w=7,this.encode.displayName="_encode_";for(var oe,he,ye,Ae,Se,ke,Me,Ye,xe,ne=M.data,rt=M.width,Ke=M.height,Oe=4*rt,Ve=0;Ve<Ke;){for(oe=0;oe<Oe;){for(Se=Oe*Ve+oe,Me=-1,Ye=0,xe=0;xe<64;xe++)ke=Se+(Ye=xe>>3)*Oe+(Me=4*(7&xe)),Ve+Ye>=Ke&&(ke-=Oe*(Ve+1+Ye-Ke)),oe+Me>=Oe&&(ke-=oe+Me-Oe+4),he=ne[ke++],ye=ne[ke++],Ae=ne[ke++],_[xe]=(Z[he]+Z[ye+256>>0]+Z[Ae+512>>0]>>16)-128,A[xe]=(Z[he+768>>0]+Z[ye+1024>>0]+Z[Ae+1280>>0]>>16)-128,j[xe]=(Z[he+1280>>0]+Z[ye+1536>>0]+Z[Ae+1792>>0]>>16)-128;J=Q(_,c,J,e,r),ie=Q(A,f,ie,n,i),se=Q(j,f,se,n,i),oe+=32}Ve+=8}if(w>=0){var qe=[];qe[1]=w+1,qe[0]=(1<<w+1)-1,re(qe)}return K(65497),new Uint8Array(b)},t=t||50,function(){for(var M=String.fromCharCode,H=0;H<256;H++)q[H]=M(H)}(),e=le(P,D),n=le(C,L),r=le(F,T),i=le(X,fe),function(){for(var M=1,H=2,J=1;J<=15;J++){for(var ie=M;ie<H;ie++)g[32767+ie]=J,h[32767+ie]=[],h[32767+ie][1]=J,h[32767+ie][0]=ie;for(var se=-(H-1);se<=-M;se++)g[32767+se]=J,h[32767+se]=[],h[32767+se][1]=J,h[32767+se][0]=H-1+se;M<<=1,H<<=1}}(),function(){for(var M=0;M<256;M++)Z[M]=19595*M,Z[M+256>>0]=38470*M,Z[M+512>>0]=7471*M+32768,Z[M+768>>0]=-11059*M,Z[M+1024>>0]=-21709*M,Z[M+1280>>0]=32768*M+8421375,Z[M+1536>>0]=-27439*M,Z[M+1792>>0]=-5329*M}(),ce(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function po(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function I_(t){function e(P){if(!P)throw Error("assert :P")}function n(P,D,F){for(var T=0;4>T;T++)if(P[D+T]!=F.charCodeAt(T))return!0;return!1}function r(P,D,F,T,C){for(var L=0;L<C;L++)P[D+L]=F[T+L]}function i(P,D,F,T){for(var C=0;C<T;C++)P[D+C]=F}function o(P){return new Int32Array(P)}function s(P,D){for(var F=[],T=0;T<P;T++)F.push(new D);return F}function a(P,D){var F=[];return function T(C,L,X){for(var fe=X[L],le=0;le<fe&&(C.push(X.length>L+1?[]:new D),!(X.length<L+1));le++)T(C[le],L+1,X)}(F,0,P),F}var l=function(){var P=this;function D(u,m){for(var x=1<<m-1>>>0;u&x;)x>>>=1;return x?(u&x-1)+x:u}function F(u,m,x,k,B){e(!(k%x));do u[m+(k-=x)]=B;while(0<k)}function T(u,m,x,k,B){if(e(2328>=B),512>=B)var U=o(512);else if((U=o(B))==null)return 0;return function(z,W,Y,ee,ue,we){var be,ve,Te=W,Ne=1<<Y,de=o(16),pe=o(16);for(e(ue!=0),e(ee!=null),e(z!=null),e(0<Y),ve=0;ve<ue;++ve){if(15<ee[ve])return 0;++de[ee[ve]]}if(de[0]==ue)return 0;for(pe[1]=0,be=1;15>be;++be){if(de[be]>1<<be)return 0;pe[be+1]=pe[be]+de[be]}for(ve=0;ve<ue;++ve)be=ee[ve],0<ee[ve]&&(we[pe[be]++]=ve);if(pe[15]==1)return(ee=new C).g=0,ee.value=we[0],F(z,Te,1,Ne,ee),Ne;var Ce,Le=-1,Pe=Ne-1,Ge=0,Ue=1,ot=1,We=1<<Y;for(ve=0,be=1,ue=2;be<=Y;++be,ue<<=1){if(Ue+=ot<<=1,0>(ot-=de[be]))return 0;for(;0<de[be];--de[be])(ee=new C).g=be,ee.value=we[ve++],F(z,Te+Ge,ue,We,ee),Ge=D(Ge,be)}for(be=Y+1,ue=2;15>=be;++be,ue<<=1){if(Ue+=ot<<=1,0>(ot-=de[be]))return 0;for(;0<de[be];--de[be]){if(ee=new C,(Ge&Pe)!=Le){for(Te+=We,Ce=1<<(Le=be)-Y;15>Le&&!(0>=(Ce-=de[Le]));)++Le,Ce<<=1;Ne+=We=1<<(Ce=Le-Y),z[W+(Le=Ge&Pe)].g=Ce+Y,z[W+Le].value=Te-W-Le}ee.g=be-Y,ee.value=we[ve++],F(z,Te+(Ge>>Y),ue,We,ee),Ge=D(Ge,be)}}return Ue!=2*pe[15]-1?0:Ne}(u,m,x,k,B,U)}function C(){this.value=this.g=0}function L(){this.value=this.g=0}function X(){this.G=s(5,C),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(fr,L)}function fe(u,m,x,k){e(u!=null),e(m!=null),e(2147483648>k),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=m,u.pa=x,u.Jd=m,u.Yc=x+k,u.Zc=4<=k?x+k-4+1:x,oe(u)}function le(u,m){for(var x=0;0<m--;)x|=ye(u,128)<<m;return x}function re(u,m){var x=le(u,m);return he(u)?-x:x}function G(u,m,x,k){var B,U=0;for(e(u!=null),e(m!=null),e(4294967288>k),u.Sb=k,u.Ra=0,u.u=0,u.h=0,4<k&&(k=4),B=0;B<k;++B)U+=m[x+B]<<8*B;u.Ra=U,u.bb=k,u.oa=m,u.pa=x}function K(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Zc-8>>>0,++u.bb,u.u-=8;J(u)&&(u.h=1,u.u=0)}function Q(u,m){if(e(0<=m),!u.h&&m<=Jc){var x=H(u)&Qc[m];return u.u+=m,K(u),x}return u.h=1,u.u=0}function ce(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function H(u){return u.Ra>>>(u.u&Zc-1)>>>0}function J(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Zc}function ie(u,m){u.u=m,u.h=J(u)}function se(u){u.u>=jd&&(e(u.u>=jd),K(u))}function oe(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function he(u){return le(u,1)}function ye(u,m){var x=u.Ca;0>u.b&&oe(u);var k=u.b,B=x*m>>>8,U=(u.I>>>k>B)+0;for(U?(x-=B,u.I-=B+1<<k>>>0):x=B+1,k=x,B=0;256<=k;)B+=8,k>>=8;return k=7^B+ni[k],u.b-=k,u.Ca=(x<<k)-1,U}function Ae(u,m,x){u[m+0]=x>>24&255,u[m+1]=x>>16&255,u[m+2]=x>>8&255,u[m+3]=x>>0&255}function Se(u,m){return u[m+0]<<0|u[m+1]<<8}function ke(u,m){return Se(u,m)|u[m+2]<<16}function Me(u,m){return Se(u,m)|Se(u,m+2)<<16}function Ye(u,m){var x=1<<m;return e(u!=null),e(0<m),u.X=o(x),u.X==null?0:(u.Mb=32-m,u.Xa=m,1)}function xe(u,m){e(u!=null),e(m!=null),e(u.Xa==m.Xa),r(m.X,0,u.X,0,1<<m.Xa)}function ne(){this.X=[],this.Xa=this.Mb=0}function rt(u,m,x,k){e(x!=null),e(k!=null);var B=x[0],U=k[0];return B==0&&(B=(u*U+m/2)/m),U==0&&(U=(m*B+u/2)/u),0>=B||0>=U?0:(x[0]=B,k[0]=U,1)}function Ke(u,m){return u+(1<<m)-1>>>m}function Oe(u,m){return((4278255360&u)+(4278255360&m)>>>0&4278255360)+((16711935&u)+(16711935&m)>>>0&16711935)>>>0}function Ve(u,m){P[m]=function(x,k,B,U,z,W,Y){var ee;for(ee=0;ee<z;++ee){var ue=P[u](W[Y+ee-1],B,U+ee);W[Y+ee]=Oe(x[k+ee],ue)}}}function qe(){this.ud=this.hd=this.jd=0}function Be(u,m){return((4278124286&(u^m))>>>1)+(u&m)>>>0}function Je(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function at(u,m){return Je(u+(u-m+.5>>1))}function ft(u,m,x){return Math.abs(m-x)-Math.abs(u-x)}function et(u,m,x,k,B,U,z){for(k=U[z-1],x=0;x<B;++x)U[z+x]=k=Oe(u[m+x],k)}function tt(u,m,x,k,B){var U;for(U=0;U<x;++U){var z=u[m+U],W=z>>8&255,Y=16711935&(Y=(Y=16711935&z)+((W<<16)+W));k[B+U]=(4278255360&z)+Y>>>0}}function Rt(u,m){m.jd=u>>0&255,m.hd=u>>8&255,m.ud=u>>16&255}function it(u,m,x,k,B,U){var z;for(z=0;z<k;++z){var W=m[x+z],Y=W>>>8,ee=W,ue=255&(ue=(ue=W>>>16)+((u.jd<<24>>24)*(Y<<24>>24)>>>5));ee=255&(ee=(ee=ee+((u.hd<<24>>24)*(Y<<24>>24)>>>5))+((u.ud<<24>>24)*(ue<<24>>24)>>>5)),B[U+z]=(4278255360&W)+(ue<<16)+ee}}function yt(u,m,x,k,B){P[m]=function(U,z,W,Y,ee,ue,we,be,ve){for(Y=we;Y<be;++Y)for(we=0;we<ve;++we)ee[ue++]=B(W[k(U[z++])])},P[u]=function(U,z,W,Y,ee,ue,we){var be=8>>U.b,ve=U.Ea,Te=U.K[0],Ne=U.w;if(8>be)for(U=(1<<U.b)-1,Ne=(1<<be)-1;z<W;++z){var de,pe=0;for(de=0;de<ve;++de)de&U||(pe=k(Y[ee++])),ue[we++]=B(Te[pe&Ne]),pe>>=be}else P["VP8LMapColor"+x](Y,ee,Te,Ne,ue,we,z,W,ve)}}function $e(u,m,x,k,B){for(x=m+x;m<x;){var U=u[m++];k[B++]=U>>16&255,k[B++]=U>>8&255,k[B++]=U>>0&255}}function fn(u,m,x,k,B){for(x=m+x;m<x;){var U=u[m++];k[B++]=U>>16&255,k[B++]=U>>8&255,k[B++]=U>>0&255,k[B++]=U>>24&255}}function Nt(u,m,x,k,B){for(x=m+x;m<x;){var U=(z=u[m++])>>16&240|z>>12&15,z=z>>0&240|z>>28&15;k[B++]=U,k[B++]=z}}function hn(u,m,x,k,B){for(x=m+x;m<x;){var U=(z=u[m++])>>16&248|z>>13&7,z=z>>5&224|z>>3&31;k[B++]=U,k[B++]=z}}function ht(u,m,x,k,B){for(x=m+x;m<x;){var U=u[m++];k[B++]=U>>0&255,k[B++]=U>>8&255,k[B++]=U>>16&255}}function Et(u,m,x,k,B,U){if(U==0)for(x=m+x;m<x;)Ae(k,((U=u[m++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),B+=32;else r(k,B,u,m,x)}function Un(u,m){P[m][0]=P[u+"0"],P[m][1]=P[u+"1"],P[m][2]=P[u+"2"],P[m][3]=P[u+"3"],P[m][4]=P[u+"4"],P[m][5]=P[u+"5"],P[m][6]=P[u+"6"],P[m][7]=P[u+"7"],P[m][8]=P[u+"8"],P[m][9]=P[u+"9"],P[m][10]=P[u+"10"],P[m][11]=P[u+"11"],P[m][12]=P[u+"12"],P[m][13]=P[u+"13"],P[m][14]=P[u+"0"],P[m][15]=P[u+"0"]}function wt(u){return u==gv||u==vv||u==Wh||u==yv}function _r(){this.eb=[],this.size=this.A=this.fb=0}function qt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function zn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new _r,this.f.kb=new qt,this.sd=null}function xr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function nt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function Tt(u,m){var x=u.T,k=m.ba.f.RGBA,B=k.eb,U=k.fb+u.ka*k.A,z=$i[m.ba.S],W=u.y,Y=u.O,ee=u.f,ue=u.N,we=u.ea,be=u.W,ve=m.cc,Te=m.dc,Ne=m.Mc,de=m.Nc,pe=u.ka,Ce=u.ka+u.T,Le=u.U,Pe=Le+1>>1;for(pe==0?z(W,Y,null,null,ee,ue,we,be,ee,ue,we,be,B,U,null,null,Le):(z(m.ec,m.fc,W,Y,ve,Te,Ne,de,ee,ue,we,be,B,U-k.A,B,U,Le),++x);pe+2<Ce;pe+=2)ve=ee,Te=ue,Ne=we,de=be,ue+=u.Rc,be+=u.Rc,U+=2*k.A,z(W,(Y+=2*u.fa)-u.fa,W,Y,ve,Te,Ne,de,ee,ue,we,be,B,U-k.A,B,U,Le);return Y+=u.fa,u.j+Ce<u.o?(r(m.ec,m.fc,W,Y,Le),r(m.cc,m.dc,ee,ue,Pe),r(m.Mc,m.Nc,we,be,Pe),x--):1&Ce||z(W,Y,null,null,ee,ue,we,be,ee,ue,we,be,B,U+k.A,null,null,Le),x}function Zr(u,m,x){var k=u.F,B=[u.J];if(k!=null){var U=u.U,z=m.ba.S,W=z==$h||z==Wh;m=m.ba.f.RGBA;var Y=[0],ee=u.ka;Y[0]=u.T,u.Kb&&(ee==0?--Y[0]:(--ee,B[0]-=u.width),u.j+u.ka+u.T==u.o&&(Y[0]=u.o-u.j-ee));var ue=m.eb;ee=m.fb+ee*m.A,u=ln(k,B[0],u.width,U,Y,ue,ee+(W?0:3),m.A),e(x==Y),u&&wt(z)&&zi(ue,ee,W,U,Y,m.A)}return 0}function pn(u){var m=u.ma,x=m.ba.S,k=11>x,B=x==zh||x==qh||x==$h||x==mv||x==12||wt(x);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!Dd(m.Oa,u,B?11:12))return 0;if(B&&wt(x)&&Re(),u.da)alert("todo:use_scaling");else{if(k){if(m.Ib=nt,u.Kb){if(x=u.U+1>>1,m.memory=o(u.U+2*x),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+u.U,m.Mc=m.cc,m.Nc=m.dc+x,m.Ib=Tt,Re()}}else alert("todo:EmitYUV");B&&(m.Jb=Zr,k&&ge())}if(k&&!pw){for(u=0;256>u;++u)MT[u]=89858*(u-128)+Gh>>Hh,VT[u]=-22014*(u-128)+Gh,FT[u]=-45773*(u-128),jT[u]=113618*(u-128)+Gh>>Hh;for(u=$d;u<_v;++u)m=76283*(u-16)+Gh>>Hh,BT[u-$d]=Wt(m,255),UT[u-$d]=Wt(m+8>>4,15);pw=1}return 1}function Jn(u){var m=u.ma,x=u.U,k=u.T;return e(!(1&u.ka)),0>=x||0>=k?0:(x=m.Ib(u,m),m.Jb!=null&&m.Jb(u,m,x),m.Dc+=x,1)}function Zn(u){u.ma.memory=null}function He(u,m,x,k){return Q(u,8)!=47?0:(m[0]=Q(u,14)+1,x[0]=Q(u,14)+1,k[0]=Q(u,1),Q(u,3)!=0?0:!u.h)}function Sr(u,m){if(4>u)return u+1;var x=u-2>>1;return(2+(1&u)<<x)+Q(m,x)+1}function er(u,m){return 120<m?m-120:1<=(x=((x=xT[m-1])>>4)*u+(8-(15&x)))?x:1;var x}function An(u,m,x){var k=H(x),B=u[m+=255&k].g-8;return 0<B&&(ie(x,x.u+8),k=H(x),m+=u[m].value,m+=k&(1<<B)-1),ie(x,x.u+u[m].g),u[m].value}function Ot(u,m,x){return x.g+=u.g,x.value+=u.value<<m>>>0,e(8>=x.g),u.g}function sn(u,m,x){var k=u.xc;return e((m=k==0?0:u.vc[u.md*(x>>k)+(m>>k)])<u.Wb),u.Ya[m]}function Cn(u,m,x,k){var B=u.ab,U=u.c*m,z=u.C;m=z+m;var W=x,Y=k;for(k=u.Ta,x=u.Ua;0<B--;){var ee=u.gc[B],ue=z,we=m,be=W,ve=Y,Te=(Y=k,W=x,ee.Ea);switch(e(ue<we),e(we<=ee.nc),ee.hc){case 2:Dh(be,ve,(we-ue)*Te,Y,W);break;case 0:var Ne=ue,de=we,pe=Y,Ce=W,Le=(We=ee).Ea;Ne==0&&(hv(be,ve,null,null,1,pe,Ce),et(be,ve+1,0,0,Le-1,pe,Ce+1),ve+=Le,Ce+=Le,++Ne);for(var Pe=1<<We.b,Ge=Pe-1,Ue=Ke(Le,We.b),ot=We.K,We=We.w+(Ne>>We.b)*Ue;Ne<de;){var zt=ot,Yt=We,Ft=1;for(Fd(be,ve,pe,Ce-Le,1,pe,Ce);Ft<Le;){var It=(Ft&~Ge)+Pe;It>Le&&(It=Le),(0,Sa[zt[Yt++]>>8&15])(be,ve+ +Ft,pe,Ce+Ft-Le,It-Ft,pe,Ce+Ft),Ft=It}ve+=Le,Ce+=Le,++Ne&Ge||(We+=Ue)}we!=ee.nc&&r(Y,W-Te,Y,W+(we-ue-1)*Te,Te);break;case 1:for(Te=be,de=ve,Le=(be=ee.Ea)-(Ce=be&~(pe=(ve=1<<ee.b)-1)),Ne=Ke(be,ee.b),Pe=ee.K,ee=ee.w+(ue>>ee.b)*Ne;ue<we;){for(Ge=Pe,Ue=ee,ot=new qe,We=de+Ce,zt=de+be;de<We;)Rt(Ge[Ue++],ot),Yl(ot,Te,de,ve,Y,W),de+=ve,W+=ve;de<zt&&(Rt(Ge[Ue++],ot),Yl(ot,Te,de,Le,Y,W),de+=Le,W+=Le),++ue&pe||(ee+=Ne)}break;case 3:if(be==Y&&ve==W&&0<ee.b){for(de=Y,be=Te=W+(we-ue)*Te-(Ce=(we-ue)*Ke(ee.Ea,ee.b)),ve=Y,pe=W,Ne=[],Ce=(Le=Ce)-1;0<=Ce;--Ce)Ne[Ce]=ve[pe+Ce];for(Ce=Le-1;0<=Ce;--Ce)de[be+Ce]=Ne[Ce];Vi(ee,ue,we,Y,Te,Y,W)}else Vi(ee,ue,we,be,ve,Y,W)}W=k,Y=x}Y!=x&&r(k,x,W,Y,U)}function Oo(u,m){var x=u.V,k=u.Ba+u.c*u.C,B=m-u.C;if(e(m<=u.l.o),e(16>=B),0<B){var U=u.l,z=u.Ta,W=u.Ua,Y=U.width;if(Cn(u,B,x,k),B=W=[W],e((x=u.C)<(k=m)),e(U.v<U.va),k>U.o&&(k=U.o),x<U.j){var ee=U.j-x;x=U.j,B[0]+=ee*Y}if(x>=k?x=0:(B[0]+=4*U.v,U.ka=x-U.j,U.U=U.va-U.v,U.T=k-x,x=1),x){if(W=W[0],11>(x=u.ca).S){var ue=x.f.RGBA,we=(k=x.S,B=U.U,U=U.T,ee=ue.eb,ue.A),be=U;for(ue=ue.fb+u.Ma*ue.A;0<be--;){var ve=z,Te=W,Ne=B,de=ee,pe=ue;switch(k){case Uh:ri(ve,Te,Ne,de,pe);break;case zh:Wr(ve,Te,Ne,de,pe);break;case gv:Wr(ve,Te,Ne,de,pe),zi(de,pe,0,Ne,1,0);break;case ow:Cs(ve,Te,Ne,de,pe);break;case qh:Et(ve,Te,Ne,de,pe,1);break;case vv:Et(ve,Te,Ne,de,pe,1),zi(de,pe,0,Ne,1,0);break;case $h:Et(ve,Te,Ne,de,pe,0);break;case Wh:Et(ve,Te,Ne,de,pe,0),zi(de,pe,1,Ne,1,0);break;case mv:Na(ve,Te,Ne,de,pe);break;case yv:Na(ve,Te,Ne,de,pe),an(de,pe,Ne,1,0);break;case sw:As(ve,Te,Ne,de,pe);break;default:e(0)}W+=Y,ue+=we}u.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=x.height)}}u.C=m,e(u.C<=u.i)}function yi(u){var m;if(0<u.ua)return 0;for(m=0;m<u.Wb;++m){var x=u.Ya[m].G,k=u.Ya[m].H;if(0<x[1][k[1]+0].g||0<x[2][k[2]+0].g||0<x[3][k[3]+0].g)return 0}return 1}function tr(u,m,x,k,B,U){if(u.Z!=0){var z=u.qd,W=u.rd;for(e(Pa[u.Z]!=null);m<x;++m)Pa[u.Z](z,W,k,B,k,B,U),z=k,W=B,B+=U;u.qd=z,u.rd=W}}function ei(u,m){var x=u.l.ma,k=x.Z==0||x.Z==1?u.l.j:u.C;if(k=u.C<k?k:u.C,e(m<=u.l.o),m>k){var B=u.l.width,U=x.ca,z=x.tb+B*k,W=u.V,Y=u.Ba+u.c*k,ee=u.gc;e(u.ab==1),e(ee[0].hc==3),Mh(ee[0],k,m,W,Y,U,z),tr(x,k,m,U,z,B)}u.C=u.Ma=m}function zr(u,m,x,k,B,U,z){var W=u.$/k,Y=u.$%k,ee=u.m,ue=u.s,we=x+u.$,be=we;B=x+k*B;var ve=x+k*U,Te=280+ue.ua,Ne=u.Pb?W:16777216,de=0<ue.ua?ue.Wa:null,pe=ue.wc,Ce=we<ve?sn(ue,Y,W):null;e(u.C<U),e(ve<=B);var Le=!1;e:for(;;){for(;Le||we<ve;){var Pe=0;if(W>=Ne){var Ge=we-x;e((Ne=u).Pb),Ne.wd=Ne.m,Ne.xd=Ge,0<Ne.s.ua&&xe(Ne.s.Wa,Ne.s.vb),Ne=W+NT}if(Y&pe||(Ce=sn(ue,Y,W)),e(Ce!=null),Ce.Qb&&(m[we]=Ce.qb,Le=!0),!Le)if(se(ee),Ce.jc){Pe=ee,Ge=m;var Ue=we,ot=Ce.pd[H(Pe)&fr-1];e(Ce.jc),256>ot.g?(ie(Pe,Pe.u+ot.g),Ge[Ue]=ot.value,Pe=0):(ie(Pe,Pe.u+ot.g-256),e(256<=ot.value),Pe=ot.value),Pe==0&&(Le=!0)}else Pe=An(Ce.G[0],Ce.H[0],ee);if(ee.h)break;if(Le||256>Pe){if(!Le)if(Ce.nd)m[we]=(Ce.qb|Pe<<8)>>>0;else{if(se(ee),Le=An(Ce.G[1],Ce.H[1],ee),se(ee),Ge=An(Ce.G[2],Ce.H[2],ee),Ue=An(Ce.G[3],Ce.H[3],ee),ee.h)break;m[we]=(Ue<<24|Le<<16|Pe<<8|Ge)>>>0}if(Le=!1,++we,++Y>=k&&(Y=0,++W,z!=null&&W<=U&&!(W%16)&&z(u,W),de!=null))for(;be<we;)Pe=m[be++],de.X[(506832829*Pe&4294967295)>>>de.Mb]=Pe}else if(280>Pe){if(Pe=Sr(Pe-256,ee),Ge=An(Ce.G[4],Ce.H[4],ee),se(ee),Ge=er(k,Ge=Sr(Ge,ee)),ee.h)break;if(we-x<Ge||B-we<Pe)break e;for(Ue=0;Ue<Pe;++Ue)m[we+Ue]=m[we+Ue-Ge];for(we+=Pe,Y+=Pe;Y>=k;)Y-=k,++W,z!=null&&W<=U&&!(W%16)&&z(u,W);if(e(we<=B),Y&pe&&(Ce=sn(ue,Y,W)),de!=null)for(;be<we;)Pe=m[be++],de.X[(506832829*Pe&4294967295)>>>de.Mb]=Pe}else{if(!(Pe<Te))break e;for(Le=Pe-280,e(de!=null);be<we;)Pe=m[be++],de.X[(506832829*Pe&4294967295)>>>de.Mb]=Pe;Pe=we,e(!(Le>>>(Ge=de).Xa)),m[Pe]=Ge.X[Le],Le=!0}Le||e(ee.h==J(ee))}if(u.Pb&&ee.h&&we<B)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&xe(u.s.vb,u.s.Wa);else{if(ee.h)break e;z!=null&&z(u,W>U?U:W),u.a=0,u.$=we-x}return 1}return u.a=3,0}function qr(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var m=u.Wa;m!=null&&(m.X=null),u.vb=null,e(u!=null)}function On(){var u=new Kc;return u==null?null:(u.a=0,u.xb=cw,Un("Predictor","VP8LPredictors"),Un("Predictor","VP8LPredictors_C"),Un("PredictorAdd","VP8LPredictorsAdd"),Un("PredictorAdd","VP8LPredictorsAdd_C"),Dh=tt,Yl=it,ri=$e,Wr=fn,Na=Nt,As=hn,Cs=ht,P.VP8LMapColor32b=eu,P.VP8LMapColor8b=jh,u)}function wi(u,m,x,k,B){var U=1,z=[u],W=[m],Y=k.m,ee=k.s,ue=null,we=0;e:for(;;){if(x)for(;U&&Q(Y,1);){var be=z,ve=W,Te=k,Ne=1,de=Te.m,pe=Te.gc[Te.ab],Ce=Q(de,2);if(Te.Oc&1<<Ce)U=0;else{switch(Te.Oc|=1<<Ce,pe.hc=Ce,pe.Ea=be[0],pe.nc=ve[0],pe.K=[null],++Te.ab,e(4>=Te.ab),Ce){case 0:case 1:pe.b=Q(de,3)+2,Ne=wi(Ke(pe.Ea,pe.b),Ke(pe.nc,pe.b),0,Te,pe.K),pe.K=pe.K[0];break;case 3:var Le,Pe=Q(de,8)+1,Ge=16<Pe?0:4<Pe?1:2<Pe?2:3;if(be[0]=Ke(pe.Ea,Ge),pe.b=Ge,Le=Ne=wi(Pe,1,0,Te,pe.K)){var Ue,ot=Pe,We=pe,zt=1<<(8>>We.b),Yt=o(zt);if(Yt==null)Le=0;else{var Ft=We.K[0],It=We.w;for(Yt[0]=We.K[0][0],Ue=1;Ue<1*ot;++Ue)Yt[Ue]=Oe(Ft[It+Ue],Yt[Ue-1]);for(;Ue<4*zt;++Ue)Yt[Ue]=0;We.K[0]=null,We.K[0]=Yt,Le=1}}Ne=Le;break;case 2:break;default:e(0)}U=Ne}}if(z=z[0],W=W[0],U&&Q(Y,1)&&!(U=1<=(we=Q(Y,4))&&11>=we)){k.a=3;break e}var rn;if(rn=U)t:{var en,_t,qn,ii=k,$n=z,oi=W,Kt=we,Ni=x,Ei=ii.m,nr=ii.s,hr=[null],Gr=1,Wi=0,Go=ST[Kt];n:for(;;){if(Ni&&Q(Ei,1)){var rr=Q(Ei,3)+2,Is=Ke($n,rr),Zl=Ke(oi,rr),ou=Is*Zl;if(!wi(Is,Zl,0,ii,hr))break n;for(hr=hr[0],nr.xc=rr,en=0;en<ou;++en){var Ta=hr[en]>>8&65535;hr[en]=Ta,Ta>=Gr&&(Gr=Ta+1)}}if(Ei.h)break n;for(_t=0;5>_t;++_t){var Tn=aw[_t];!_t&&0<Kt&&(Tn+=1<<Kt),Wi<Tn&&(Wi=Tn)}var xv=s(Gr*Go,C),vw=Gr,yw=s(vw,X);if(yw==null)var Kh=null;else e(65536>=vw),Kh=yw;var Wd=o(Wi);if(Kh==null||Wd==null||xv==null){ii.a=1;break n}var Xh=xv;for(en=qn=0;en<Gr;++en){var uo=Kh[en],su=uo.G,au=uo.H,ww=0,Qh=1,bw=0;for(_t=0;5>_t;++_t){Tn=aw[_t],su[_t]=Xh,au[_t]=qn,!_t&&0<Kt&&(Tn+=1<<Kt);i:{var Jh,Sv=Tn,Zh=ii,Hd=Wd,$T=Xh,WT=qn,Nv=0,ka=Zh.m,HT=Q(ka,1);if(i(Hd,0,0,Sv),HT){var GT=Q(ka,1)+1,YT=Q(ka,1),_w=Q(ka,YT==0?1:8);Hd[_w]=1,GT==2&&(Hd[_w=Q(ka,8)]=1);var ep=1}else{var xw=o(19),Sw=Q(ka,4)+4;if(19<Sw){Zh.a=3;var tp=0;break i}for(Jh=0;Jh<Sw;++Jh)xw[_T[Jh]]=Q(ka,3);var Ev=void 0,Gd=void 0,Nw=Zh,KT=xw,np=Sv,Ew=Hd,Av=0,Ia=Nw.m,Aw=8,Cw=s(128,C);r:for(;T(Cw,0,7,KT,19);){if(Q(Ia,1)){var XT=2+2*Q(Ia,3);if((Ev=2+Q(Ia,XT))>np)break r}else Ev=np;for(Gd=0;Gd<np&&Ev--;){se(Ia);var Pw=Cw[0+(127&H(Ia))];ie(Ia,Ia.u+Pw.g);var lu=Pw.value;if(16>lu)Ew[Gd++]=lu,lu!=0&&(Aw=lu);else{var QT=lu==16,Tw=lu-16,JT=wT[Tw],kw=Q(Ia,yT[Tw])+JT;if(Gd+kw>np)break r;for(var ZT=QT?Aw:0;0<kw--;)Ew[Gd++]=ZT}}Av=1;break r}Av||(Nw.a=3),ep=Av}(ep=ep&&!ka.h)&&(Nv=T($T,WT,8,Hd,Sv)),ep&&Nv!=0?tp=Nv:(Zh.a=3,tp=0)}if(tp==0)break n;if(Qh&&bT[_t]==1&&(Qh=Xh[qn].g==0),ww+=Xh[qn].g,qn+=tp,3>=_t){var Yd,Cv=Wd[0];for(Yd=1;Yd<Tn;++Yd)Wd[Yd]>Cv&&(Cv=Wd[Yd]);bw+=Cv}}if(uo.nd=Qh,uo.Qb=0,Qh&&(uo.qb=(su[3][au[3]+0].value<<24|su[1][au[1]+0].value<<16|su[2][au[2]+0].value)>>>0,ww==0&&256>su[0][au[0]+0].value&&(uo.Qb=1,uo.qb+=su[0][au[0]+0].value<<8)),uo.jc=!uo.Qb&&6>bw,uo.jc){var rp,Ls=uo;for(rp=0;rp<fr;++rp){var La=rp,Ra=Ls.pd[La],ip=Ls.G[0][Ls.H[0]+La];256<=ip.value?(Ra.g=ip.g+256,Ra.value=ip.value):(Ra.g=0,Ra.value=0,La>>=Ot(ip,8,Ra),La>>=Ot(Ls.G[1][Ls.H[1]+La],16,Ra),La>>=Ot(Ls.G[2][Ls.H[2]+La],0,Ra),Ot(Ls.G[3][Ls.H[3]+La],24,Ra))}}}nr.vc=hr,nr.Wb=Gr,nr.Ya=Kh,nr.yc=xv,rn=1;break t}rn=0}if(!(U=rn)){k.a=3;break e}if(0<we){if(ee.ua=1<<we,!Ye(ee.Wa,we)){k.a=1,U=0;break e}}else ee.ua=0;var Pv=k,Iw=z,ek=W,Tv=Pv.s,kv=Tv.xc;if(Pv.c=Iw,Pv.i=ek,Tv.md=Ke(Iw,kv),Tv.wc=kv==0?-1:(1<<kv)-1,x){k.xb=IT;break e}if((ue=o(z*W))==null){k.a=1,U=0;break e}U=(U=zr(k,ue,0,z,W,W,null))&&!Y.h;break e}return U?(B!=null?B[0]=ue:(e(ue==null),e(x)),k.$=0,x||qr(ee)):qr(ee),U}function Do(u,m){var x=u.c*u.i,k=x+m+16*m;return e(u.c<=m),u.V=o(k),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+x+m,1)}function Mo(u,m){var x=u.C,k=m-x,B=u.V,U=u.Ba+u.c*x;for(e(m<=u.l.o);0<k;){var z=16<k?16:k,W=u.l.ma,Y=u.l.width,ee=Y*z,ue=W.ca,we=W.tb+Y*x,be=u.Ta,ve=u.Ua;Cn(u,z,B,U),Mn(be,ve,ue,we,ee),tr(W,x,x+z,ue,we,Y),k-=z,B+=z*u.c,x+=z}e(x==m),u.C=u.Ma=m}function jo(){this.ub=this.yd=this.td=this.Rb=0}function ms(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gs(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Vc(){this.Yb=function(){var u=[];return function m(x,k,B){for(var U=B[k],z=0;z<U&&(x.push(B.length>k+1?[]:0),!(B.length<k+1));z++)m(x[z],k+1,B)}(u,0,[3,11]),u}()}function sa(){this.jb=o(3),this.Wc=a([4,8],Vc),this.Xc=a([4,17],Vc)}function Bc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Fo(){this.ld=this.La=this.dd=this.tc=0}function Vo(){this.Na=this.la=0}function to(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function vs(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Id(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fo),this.Y=0,this.ya=Array(new vs),this.aa=0,this.l=new ys}function Ol(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Uc(){this.cb=this.a=0,this.sc="",this.m=new ce,this.Od=new jo,this.Kc=new ms,this.ed=new Bc,this.Qa=new gs,this.Ic=this.$c=this.Aa=0,this.D=new Id,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ce),this.ia=0,this.pb=s(4,to),this.Pa=new sa,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ol),this.Hd=0,this.rb=Array(new Vo),this.sb=0,this.wa=Array(new Fo),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new vs),this.L=this.aa=0,this.gd=a([4,2],Fo),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ys(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Dl(){var u=new Uc;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,qd||(qd=zc)),u}function mn(u,m,x){return u.a==0&&(u.a=m,u.sc=x,u.cb=0),0}function Ml(u,m,x){return 3<=x&&u[m+0]==157&&u[m+1]==1&&u[m+2]==42}function jl(u,m){if(u==null)return 0;if(u.a=0,u.sc="OK",m==null)return mn(u,2,"null VP8Io passed to VP8GetHeaders()");var x=m.data,k=m.w,B=m.ha;if(4>B)return mn(u,7,"Truncated header.");var U=x[k+0]|x[k+1]<<8|x[k+2]<<16,z=u.Od;if(z.Rb=!(1&U),z.td=U>>1&7,z.yd=U>>4&1,z.ub=U>>5,3<z.td)return mn(u,3,"Incorrect keyframe parameters.");if(!z.yd)return mn(u,4,"Frame not displayable.");k+=3,B-=3;var W=u.Kc;if(z.Rb){if(7>B)return mn(u,7,"cannot parse picture header");if(!Ml(x,k,B))return mn(u,3,"Bad code word");W.c=16383&(x[k+4]<<8|x[k+3]),W.Td=x[k+4]>>6,W.i=16383&(x[k+6]<<8|x[k+5]),W.Ud=x[k+6]>>6,k+=7,B-=7,u.za=W.c+15>>4,u.Ub=W.i+15>>4,m.width=W.c,m.height=W.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((U=u.Pa).jb,0,255,U.jb.length),e((U=u.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,i(U.Zb,0,0,U.Zb.length),i(U.Lb,0,0,U.Lb)}if(z.ub>B)return mn(u,7,"bad partition length");fe(U=u.m,x,k,z.ub),k+=z.ub,B-=z.ub,z.Rb&&(W.Ld=he(U),W.Kd=he(U)),W=u.Qa;var Y,ee=u.Pa;if(e(U!=null),e(W!=null),W.Cb=he(U),W.Cb){if(W.Bb=he(U),he(U)){for(W.Fb=he(U),Y=0;4>Y;++Y)W.Zb[Y]=he(U)?re(U,7):0;for(Y=0;4>Y;++Y)W.Lb[Y]=he(U)?re(U,6):0}if(W.Bb)for(Y=0;3>Y;++Y)ee.jb[Y]=he(U)?le(U,8):255}else W.Bb=0;if(U.Ka)return mn(u,3,"cannot parse segment header");if((W=u.ed).zd=he(U),W.Tb=le(U,6),W.wb=le(U,3),W.Pc=he(U),W.Pc&&he(U)){for(ee=0;4>ee;++ee)he(U)&&(W.vd[ee]=re(U,6));for(ee=0;4>ee;++ee)he(U)&&(W.od[ee]=re(U,6))}if(u.L=W.Tb==0?0:W.zd?1:2,U.Ka)return mn(u,3,"cannot parse filter header");var ue=B;if(B=Y=k,k=Y+ue,W=ue,u.Xb=(1<<le(u.m,2))-1,ue<3*(ee=u.Xb))x=7;else{for(Y+=3*ee,W-=3*ee,ue=0;ue<ee;++ue){var we=x[B+0]|x[B+1]<<8|x[B+2]<<16;we>W&&(we=W),fe(u.Jc[+ue],x,Y,we),Y+=we,W-=we,B+=3}fe(u.Jc[+ee],x,Y,W),x=Y<k?0:5}if(x!=0)return mn(u,x,"cannot parse partitions");for(x=le(Y=u.m,7),B=he(Y)?re(Y,4):0,k=he(Y)?re(Y,4):0,W=he(Y)?re(Y,4):0,ee=he(Y)?re(Y,4):0,Y=he(Y)?re(Y,4):0,ue=u.Qa,we=0;4>we;++we){if(ue.Cb){var be=ue.Zb[we];ue.Fb||(be+=x)}else{if(0<we){u.pb[we]=u.pb[0];continue}be=x}var ve=u.pb[we];ve.Sc[0]=wv[Wt(be+B,127)],ve.Sc[1]=bv[Wt(be+0,127)],ve.Eb[0]=2*wv[Wt(be+k,127)],ve.Eb[1]=101581*bv[Wt(be+W,127)]>>16,8>ve.Eb[1]&&(ve.Eb[1]=8),ve.Qc[0]=wv[Wt(be+ee,117)],ve.Qc[1]=bv[Wt(be+Y,127)],ve.lc=be+Y}if(!z.Rb)return mn(u,4,"Not a key frame.");for(he(U),z=u.Pa,x=0;4>x;++x){for(B=0;8>B;++B)for(k=0;3>k;++k)for(W=0;11>W;++W)ee=ye(U,TT[x][B][k][W])?le(U,8):CT[x][B][k][W],z.Wc[x][B].Yb[k][W]=ee;for(B=0;17>B;++B)z.Xc[x][B]=z.Wc[x][kT[B]]}return u.kc=he(U),u.kc&&(u.Bd=le(U,8)),u.cb=1}function zc(u,m,x,k,B,U,z){var W=m[B].Yb[x];for(x=0;16>B;++B){if(!ye(u,W[x+0]))return B;for(;!ye(u,W[x+1]);)if(W=m[++B].Yb[0],x=0,B==16)return 16;var Y=m[B+1].Yb;if(ye(u,W[x+2])){var ee=u,ue=0;if(ye(ee,(be=W)[(we=x)+3]))if(ye(ee,be[we+6])){for(W=0,we=2*(ue=ye(ee,be[we+8]))+(be=ye(ee,be[we+9+ue])),ue=0,be=ET[we];be[W];++W)ue+=ue+ye(ee,be[W]);ue+=3+(8<<we)}else ye(ee,be[we+7])?(ue=7+2*ye(ee,165),ue+=ye(ee,145)):ue=5+ye(ee,159);else ue=ye(ee,be[we+4])?3+ye(ee,be[we+5]):2;W=Y[2]}else ue=1,W=Y[1];Y=z+AT[B],0>(ee=u).b&&oe(ee);var we,be=ee.b,ve=(we=ee.Ca>>1)-(ee.I>>be)>>31;--ee.b,ee.Ca+=ve,ee.Ca|=1,ee.I-=(we+1&ve)<<be,U[Y]=((ue^ve)-ve)*k[(0<B)+0]}return 16}function Fl(u){var m=u.rb[u.sb-1];m.la=0,m.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function qc(u,m){if(u==null)return 0;if(m==null)return mn(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!jl(u,m))return 0;if(e(u.cb),m.ac==null||m.ac(m)){m.ob&&(u.L=0);var x=Yh[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=m.v-x>>4,u.zb=m.j-x>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=m.o+15+x>>4,u.Hb=m.va+15+x>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var k=u.ed;for(x=0;4>x;++x){var B;if(u.Qa.Cb){var U=u.Qa.Lb[x];u.Qa.Fb||(U+=k.Tb)}else U=k.Tb;for(B=0;1>=B;++B){var z=u.gd[x][B],W=U;if(k.Pc&&(W+=k.vd[0],B&&(W+=k.od[0])),0<(W=0>W?0:63<W?63:W)){var Y=W;0<k.wb&&(Y=4<k.wb?Y>>2:Y>>1)>9-k.wb&&(Y=9-k.wb),1>Y&&(Y=1),z.dd=Y,z.tc=2*W+Y,z.ld=40<=W?2:15<=W?1:0}else z.tc=0;z.La=B}}}x=0}else mn(u,6,"Frame setup failed"),x=u.a;if(x=x==0){if(x){u.$c=0,0<u.Aa||(u.Ic=qT);e:{x=u.Ic,k=4*(Y=u.za);var ee=32*Y,ue=Y+1,we=0<u.L?Y*(0<u.Aa?2:1):0,be=(u.Aa==2?2:1)*Y;if((z=k+832+(B=3*(16*x+Yh[u.L])/2*ee)+(U=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=z)x=0;else{if(z>u.Vb){if(u.Vb=0,u.Ec=o(z),u.Fc=0,u.Ec==null){x=mn(u,1,"no memory during frame initialization.");break e}u.Vb=z}z=u.Ec,W=u.Fc,u.Ac=z,u.Bc=W,W+=k,u.Gd=s(ee,Ol),u.Hd=0,u.rb=s(ue+1,Vo),u.sb=1,u.wa=we?s(we,Fo):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=Y),e(!0),u.oc=z,u.pc=W,W+=832,u.ya=s(be,vs),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=Y),u.R=16*Y,u.B=8*Y,Y=(ee=Yh[u.L])*u.R,ee=ee/2*u.B,u.sa=z,u.ta=W+Y,u.qa=u.sa,u.ra=u.ta+16*x*u.R+ee,u.Ha=u.qa,u.Ia=u.ra+8*x*u.B+ee,u.$c=0,W+=B,u.mb=U?z:null,u.nb=U?W:null,e(W+U<=u.Fc+u.Vb),Fl(u),i(u.Ac,u.Bc,0,k),x=1}}if(x){if(m.ka=0,m.y=u.sa,m.O=u.ta,m.f=u.qa,m.N=u.ra,m.ea=u.Ha,m.Vd=u.Ia,m.fa=u.R,m.Rc=u.B,m.F=null,m.J=0,!Vh){for(x=-255;255>=x;++x)Kn[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)Ts[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)zd[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)iu[255+x]=0>x?0:255<x?255:x;Vh=1}tu=_s,Ps=la,Vd=Vl,Hr=Gt,Bi=bs,Dn=ws,nu=ma,Fh=so,Bd=va,Kl=Gl,Xl=ga,Ea=Ss,Ql=ya,ru=qo,Jl=xs,Aa=xi,Ud=Yn,Ui=Yc,co[0]=Fi,co[1]=Ld,co[2]=Uo,co[3]=Od,co[4]=Hc,co[5]=da,co[6]=bi,co[7]=Ul,co[8]=ha,co[9]=fa,Ca[0]=Bo,Ca[1]=Rd,Ca[2]=ro,Ca[3]=ca,Ca[4]=gn,Ca[5]=Wc,Ca[6]=Bl,ks[0]=oo,ks[1]=$c,ks[2]=Gc,ks[3]=io,ks[4]=$t,ks[5]=zl,ks[6]=ql,x=1}else x=0}x&&(x=function(ve,Te){for(ve.M=0;ve.M<ve.Va;++ve.M){var Ne,de=ve.Jc[ve.M&ve.Xb],pe=ve.m,Ce=ve;for(Ne=0;Ne<Ce.za;++Ne){var Le=pe,Pe=Ce,Ge=Pe.Ac,Ue=Pe.Bc+4*Ne,ot=Pe.zc,We=Pe.ya[Pe.aa+Ne];if(Pe.Qa.Bb?We.$b=ye(Le,Pe.Pa.jb[0])?2+ye(Le,Pe.Pa.jb[2]):ye(Le,Pe.Pa.jb[1]):We.$b=0,Pe.kc&&(We.Ad=ye(Le,Pe.Bd)),We.Za=!ye(Le,145)+0,We.Za){var zt=We.Ob,Yt=0;for(Pe=0;4>Pe;++Pe){var Ft,It=ot[0+Pe];for(Ft=0;4>Ft;++Ft){It=PT[Ge[Ue+Ft]][It];for(var rn=lw[ye(Le,It[0])];0<rn;)rn=lw[2*rn+ye(Le,It[rn])];It=-rn,Ge[Ue+Ft]=It}r(zt,Yt,Ge,Ue,4),Yt+=4,ot[0+Pe]=It}}else It=ye(Le,156)?ye(Le,128)?1:3:ye(Le,163)?2:0,We.Ob[0]=It,i(Ge,Ue,It,4),i(ot,0,It,4);We.Dd=ye(Le,142)?ye(Le,114)?ye(Le,183)?1:3:2:0}if(Ce.m.Ka)return mn(ve,7,"Premature end-of-partition0 encountered.");for(;ve.ja<ve.za;++ve.ja){if(Ce=de,Le=(pe=ve).rb[pe.sb-1],Ge=pe.rb[pe.sb+pe.ja],Ne=pe.ya[pe.aa+pe.ja],Ue=pe.kc?Ne.Ad:0)Le.la=Ge.la=0,Ne.Za||(Le.Na=Ge.Na=0),Ne.Hc=0,Ne.Gc=0,Ne.ia=0;else{var en,_t;if(Le=Ge,Ge=Ce,Ue=pe.Pa.Xc,ot=pe.ya[pe.aa+pe.ja],We=pe.pb[ot.$b],Pe=ot.ad,zt=0,Yt=pe.rb[pe.sb-1],It=Ft=0,i(Pe,zt,0,384),ot.Za)var qn=0,ii=Ue[3];else{rn=o(16);var $n=Le.Na+Yt.Na;if($n=qd(Ge,Ue[1],$n,We.Eb,0,rn,0),Le.Na=Yt.Na=(0<$n)+0,1<$n)tu(rn,0,Pe,zt);else{var oi=rn[0]+3>>3;for(rn=0;256>rn;rn+=16)Pe[zt+rn]=oi}qn=1,ii=Ue[0]}var Kt=15&Le.la,Ni=15&Yt.la;for(rn=0;4>rn;++rn){var Ei=1&Ni;for(oi=_t=0;4>oi;++oi)Kt=Kt>>1|(Ei=($n=qd(Ge,ii,$n=Ei+(1&Kt),We.Sc,qn,Pe,zt))>qn)<<7,_t=_t<<2|(3<$n?3:1<$n?2:Pe[zt+0]!=0),zt+=16;Kt>>=4,Ni=Ni>>1|Ei<<7,Ft=(Ft<<8|_t)>>>0}for(ii=Kt,qn=Ni>>4,en=0;4>en;en+=2){for(_t=0,Kt=Le.la>>4+en,Ni=Yt.la>>4+en,rn=0;2>rn;++rn){for(Ei=1&Ni,oi=0;2>oi;++oi)$n=Ei+(1&Kt),Kt=Kt>>1|(Ei=0<($n=qd(Ge,Ue[2],$n,We.Qc,0,Pe,zt)))<<3,_t=_t<<2|(3<$n?3:1<$n?2:Pe[zt+0]!=0),zt+=16;Kt>>=2,Ni=Ni>>1|Ei<<5}It|=_t<<4*en,ii|=Kt<<4<<en,qn|=(240&Ni)<<en}Le.la=ii,Yt.la=qn,ot.Hc=Ft,ot.Gc=It,ot.ia=43690&It?0:We.ia,Ue=!(Ft|It)}if(0<pe.L&&(pe.wa[pe.Y+pe.ja]=pe.gd[Ne.$b][Ne.Za],pe.wa[pe.Y+pe.ja].La|=!Ue),Ce.Ka)return mn(ve,7,"Premature end-of-file encountered.")}if(Fl(ve),pe=Te,Ce=1,Ne=(de=ve).D,Le=0<de.L&&de.M>=de.zb&&de.M<=de.Va,de.Aa==0)e:{if(Ne.M=de.M,Ne.uc=Le,Wo(de,Ne),Ce=1,Ne=(_t=de.D).Nb,Le=(It=Yh[de.L])*de.R,Ge=It/2*de.B,rn=16*Ne*de.R,oi=8*Ne*de.B,Ue=de.sa,ot=de.ta-Le+rn,We=de.qa,Pe=de.ra-Ge+oi,zt=de.Ha,Yt=de.Ia-Ge+oi,Ni=(Kt=_t.M)==0,Ft=Kt>=de.Va-1,de.Aa==2&&Wo(de,_t),_t.uc)for(Ei=($n=de).D.M,e($n.D.uc),_t=$n.yb;_t<$n.Hb;++_t){qn=_t,ii=Ei;var nr=(hr=(Tn=$n).D).Nb;en=Tn.R;var hr=hr.wa[hr.Y+qn],Gr=Tn.sa,Wi=Tn.ta+16*nr*en+16*qn,Go=hr.dd,rr=hr.tc;if(rr!=0)if(e(3<=rr),Tn.L==1)0<qn&&Aa(Gr,Wi,en,rr+4),hr.La&&Ui(Gr,Wi,en,rr),0<ii&&Jl(Gr,Wi,en,rr+4),hr.La&&Ud(Gr,Wi,en,rr);else{var Is=Tn.B,Zl=Tn.qa,ou=Tn.ra+8*nr*Is+8*qn,Ta=Tn.Ha,Tn=Tn.Ia+8*nr*Is+8*qn;nr=hr.ld,0<qn&&(Fh(Gr,Wi,en,rr+4,Go,nr),Kl(Zl,ou,Ta,Tn,Is,rr+4,Go,nr)),hr.La&&(Ea(Gr,Wi,en,rr,Go,nr),ru(Zl,ou,Ta,Tn,Is,rr,Go,nr)),0<ii&&(nu(Gr,Wi,en,rr+4,Go,nr),Bd(Zl,ou,Ta,Tn,Is,rr+4,Go,nr)),hr.La&&(Xl(Gr,Wi,en,rr,Go,nr),Ql(Zl,ou,Ta,Tn,Is,rr,Go,nr))}}if(de.ia&&alert("todo:DitherRow"),pe.put!=null){if(_t=16*Kt,Kt=16*(Kt+1),Ni?(pe.y=de.sa,pe.O=de.ta+rn,pe.f=de.qa,pe.N=de.ra+oi,pe.ea=de.Ha,pe.W=de.Ia+oi):(_t-=It,pe.y=Ue,pe.O=ot,pe.f=We,pe.N=Pe,pe.ea=zt,pe.W=Yt),Ft||(Kt-=It),Kt>pe.o&&(Kt=pe.o),pe.F=null,pe.J=null,de.Fa!=null&&0<de.Fa.length&&_t<Kt&&(pe.J=xa(de,pe,_t,Kt-_t),pe.F=de.mb,pe.F==null&&pe.F.length==0)){Ce=mn(de,3,"Could not decode alpha data.");break e}_t<pe.j&&(It=pe.j-_t,_t=pe.j,e(!(1&It)),pe.O+=de.R*It,pe.N+=de.B*(It>>1),pe.W+=de.B*(It>>1),pe.F!=null&&(pe.J+=pe.width*It)),_t<Kt&&(pe.O+=pe.v,pe.N+=pe.v>>1,pe.W+=pe.v>>1,pe.F!=null&&(pe.J+=pe.v),pe.ka=_t-pe.j,pe.U=pe.va-pe.v,pe.T=Kt-_t,Ce=pe.put(pe))}Ne+1!=de.Ic||Ft||(r(de.sa,de.ta-Le,Ue,ot+16*de.R,Le),r(de.qa,de.ra-Ge,We,Pe+8*de.B,Ge),r(de.Ha,de.Ia-Ge,zt,Yt+8*de.B,Ge))}if(!Ce)return mn(ve,6,"Output aborted.")}return 1}(u,m)),m.bc!=null&&m.bc(m),x&=1}return x?(u.cb=0,x):0}function ti(u,m,x,k,B){B=u[m+x+32*k]+(B>>3),u[m+x+32*k]=-256&B?0>B?0:255:B}function aa(u,m,x,k,B,U){ti(u,m,0,x,k+B),ti(u,m,1,x,k+U),ti(u,m,2,x,k-U),ti(u,m,3,x,k-B)}function Pn(u){return(20091*u>>16)+u}function $r(u,m,x,k){var B,U=0,z=o(16);for(B=0;4>B;++B){var W=u[m+0]+u[m+8],Y=u[m+0]-u[m+8],ee=(35468*u[m+4]>>16)-Pn(u[m+12]),ue=Pn(u[m+4])+(35468*u[m+12]>>16);z[U+0]=W+ue,z[U+1]=Y+ee,z[U+2]=Y-ee,z[U+3]=W-ue,U+=4,m++}for(B=U=0;4>B;++B)W=(u=z[U+0]+4)+z[U+8],Y=u-z[U+8],ee=(35468*z[U+4]>>16)-Pn(z[U+12]),ti(x,k,0,0,W+(ue=Pn(z[U+4])+(35468*z[U+12]>>16))),ti(x,k,1,0,Y+ee),ti(x,k,2,0,Y-ee),ti(x,k,3,0,W-ue),U++,k+=32}function ws(u,m,x,k){var B=u[m+0]+4,U=35468*u[m+4]>>16,z=Pn(u[m+4]),W=35468*u[m+1]>>16;aa(x,k,0,B+z,u=Pn(u[m+1]),W),aa(x,k,1,B+U,u,W),aa(x,k,2,B-U,u,W),aa(x,k,3,B-z,u,W)}function la(u,m,x,k,B){$r(u,m,x,k),B&&$r(u,m+16,x,k+4)}function Vl(u,m,x,k){Ps(u,m+0,x,k,1),Ps(u,m+32,x,k+128,1)}function Gt(u,m,x,k){var B;for(u=u[m+0]+4,B=0;4>B;++B)for(m=0;4>m;++m)ti(x,k,m,B,u)}function bs(u,m,x,k){u[m+0]&&Hr(u,m+0,x,k),u[m+16]&&Hr(u,m+16,x,k+4),u[m+32]&&Hr(u,m+32,x,k+128),u[m+48]&&Hr(u,m+48,x,k+128+4)}function _s(u,m,x,k){var B,U=o(16);for(B=0;4>B;++B){var z=u[m+0+B]+u[m+12+B],W=u[m+4+B]+u[m+8+B],Y=u[m+4+B]-u[m+8+B],ee=u[m+0+B]-u[m+12+B];U[0+B]=z+W,U[8+B]=z-W,U[4+B]=ee+Y,U[12+B]=ee-Y}for(B=0;4>B;++B)z=(u=U[0+4*B]+3)+U[3+4*B],W=U[1+4*B]+U[2+4*B],Y=U[1+4*B]-U[2+4*B],ee=u-U[3+4*B],x[k+0]=z+W>>3,x[k+16]=ee+Y>>3,x[k+32]=z-W>>3,x[k+48]=ee-Y>>3,k+=64}function no(u,m,x){var k,B=m-32,U=Si,z=255-u[B-1];for(k=0;k<x;++k){var W,Y=U,ee=z+u[m-1];for(W=0;W<x;++W)u[m+W]=Y[ee+u[B+W]];m+=32}}function Ld(u,m){no(u,m,4)}function $c(u,m){no(u,m,8)}function Rd(u,m){no(u,m,16)}function ro(u,m){var x;for(x=0;16>x;++x)r(u,m+32*x,u,m-32,16)}function ca(u,m){var x;for(x=16;0<x;--x)i(u,m,u[m-1],16),m+=32}function ua(u,m,x){var k;for(k=0;16>k;++k)i(m,x+32*k,u,16)}function Bo(u,m){var x,k=16;for(x=0;16>x;++x)k+=u[m-1+32*x]+u[m+x-32];ua(k>>5,u,m)}function gn(u,m){var x,k=8;for(x=0;16>x;++x)k+=u[m-1+32*x];ua(k>>4,u,m)}function Wc(u,m){var x,k=8;for(x=0;16>x;++x)k+=u[m+x-32];ua(k>>4,u,m)}function Bl(u,m){ua(128,u,m)}function ct(u,m,x){return u+2*m+x+2>>2}function Uo(u,m){var x,k=m-32;for(k=new Uint8Array([ct(u[k-1],u[k+0],u[k+1]),ct(u[k+0],u[k+1],u[k+2]),ct(u[k+1],u[k+2],u[k+3]),ct(u[k+2],u[k+3],u[k+4])]),x=0;4>x;++x)r(u,m+32*x,k,0,k.length)}function Od(u,m){var x=u[m-1],k=u[m-1+32],B=u[m-1+64],U=u[m-1+96];Ae(u,m+0,16843009*ct(u[m-1-32],x,k)),Ae(u,m+32,16843009*ct(x,k,B)),Ae(u,m+64,16843009*ct(k,B,U)),Ae(u,m+96,16843009*ct(B,U,U))}function Fi(u,m){var x,k=4;for(x=0;4>x;++x)k+=u[m+x-32]+u[m-1+32*x];for(k>>=3,x=0;4>x;++x)i(u,m+32*x,k,4)}function Hc(u,m){var x=u[m-1+0],k=u[m-1+32],B=u[m-1+64],U=u[m-1-32],z=u[m+0-32],W=u[m+1-32],Y=u[m+2-32],ee=u[m+3-32];u[m+0+96]=ct(k,B,u[m-1+96]),u[m+1+96]=u[m+0+64]=ct(x,k,B),u[m+2+96]=u[m+1+64]=u[m+0+32]=ct(U,x,k),u[m+3+96]=u[m+2+64]=u[m+1+32]=u[m+0+0]=ct(z,U,x),u[m+3+64]=u[m+2+32]=u[m+1+0]=ct(W,z,U),u[m+3+32]=u[m+2+0]=ct(Y,W,z),u[m+3+0]=ct(ee,Y,W)}function bi(u,m){var x=u[m+1-32],k=u[m+2-32],B=u[m+3-32],U=u[m+4-32],z=u[m+5-32],W=u[m+6-32],Y=u[m+7-32];u[m+0+0]=ct(u[m+0-32],x,k),u[m+1+0]=u[m+0+32]=ct(x,k,B),u[m+2+0]=u[m+1+32]=u[m+0+64]=ct(k,B,U),u[m+3+0]=u[m+2+32]=u[m+1+64]=u[m+0+96]=ct(B,U,z),u[m+3+32]=u[m+2+64]=u[m+1+96]=ct(U,z,W),u[m+3+64]=u[m+2+96]=ct(z,W,Y),u[m+3+96]=ct(W,Y,Y)}function da(u,m){var x=u[m-1+0],k=u[m-1+32],B=u[m-1+64],U=u[m-1-32],z=u[m+0-32],W=u[m+1-32],Y=u[m+2-32],ee=u[m+3-32];u[m+0+0]=u[m+1+64]=U+z+1>>1,u[m+1+0]=u[m+2+64]=z+W+1>>1,u[m+2+0]=u[m+3+64]=W+Y+1>>1,u[m+3+0]=Y+ee+1>>1,u[m+0+96]=ct(B,k,x),u[m+0+64]=ct(k,x,U),u[m+0+32]=u[m+1+96]=ct(x,U,z),u[m+1+32]=u[m+2+96]=ct(U,z,W),u[m+2+32]=u[m+3+96]=ct(z,W,Y),u[m+3+32]=ct(W,Y,ee)}function Ul(u,m){var x=u[m+0-32],k=u[m+1-32],B=u[m+2-32],U=u[m+3-32],z=u[m+4-32],W=u[m+5-32],Y=u[m+6-32],ee=u[m+7-32];u[m+0+0]=x+k+1>>1,u[m+1+0]=u[m+0+64]=k+B+1>>1,u[m+2+0]=u[m+1+64]=B+U+1>>1,u[m+3+0]=u[m+2+64]=U+z+1>>1,u[m+0+32]=ct(x,k,B),u[m+1+32]=u[m+0+96]=ct(k,B,U),u[m+2+32]=u[m+1+96]=ct(B,U,z),u[m+3+32]=u[m+2+96]=ct(U,z,W),u[m+3+64]=ct(z,W,Y),u[m+3+96]=ct(W,Y,ee)}function fa(u,m){var x=u[m-1+0],k=u[m-1+32],B=u[m-1+64],U=u[m-1+96];u[m+0+0]=x+k+1>>1,u[m+2+0]=u[m+0+32]=k+B+1>>1,u[m+2+32]=u[m+0+64]=B+U+1>>1,u[m+1+0]=ct(x,k,B),u[m+3+0]=u[m+1+32]=ct(k,B,U),u[m+3+32]=u[m+1+64]=ct(B,U,U),u[m+3+64]=u[m+2+64]=u[m+0+96]=u[m+1+96]=u[m+2+96]=u[m+3+96]=U}function ha(u,m){var x=u[m-1+0],k=u[m-1+32],B=u[m-1+64],U=u[m-1+96],z=u[m-1-32],W=u[m+0-32],Y=u[m+1-32],ee=u[m+2-32];u[m+0+0]=u[m+2+32]=x+z+1>>1,u[m+0+32]=u[m+2+64]=k+x+1>>1,u[m+0+64]=u[m+2+96]=B+k+1>>1,u[m+0+96]=U+B+1>>1,u[m+3+0]=ct(W,Y,ee),u[m+2+0]=ct(z,W,Y),u[m+1+0]=u[m+3+32]=ct(x,z,W),u[m+1+32]=u[m+3+64]=ct(k,x,z),u[m+1+64]=u[m+3+96]=ct(B,k,x),u[m+1+96]=ct(U,B,k)}function Gc(u,m){var x;for(x=0;8>x;++x)r(u,m+32*x,u,m-32,8)}function io(u,m){var x;for(x=0;8>x;++x)i(u,m,u[m-1],8),m+=32}function _i(u,m,x){var k;for(k=0;8>k;++k)i(m,x+32*k,u,8)}function oo(u,m){var x,k=8;for(x=0;8>x;++x)k+=u[m+x-32]+u[m-1+32*x];_i(k>>4,u,m)}function zl(u,m){var x,k=4;for(x=0;8>x;++x)k+=u[m+x-32];_i(k>>3,u,m)}function $t(u,m){var x,k=4;for(x=0;8>x;++x)k+=u[m-1+32*x];_i(k>>3,u,m)}function ql(u,m){_i(128,u,m)}function pa(u,m,x){var k=u[m-x],B=u[m+0],U=3*(B-k)+pv[1020+u[m-2*x]-u[m+x]],z=Bh[112+(U+4>>3)];u[m-x]=Si[255+k+Bh[112+(U+3>>3)]],u[m+0]=Si[255+B-z]}function $l(u,m,x,k){var B=u[m+0],U=u[m+x];return qi[255+u[m-2*x]-u[m-x]]>k||qi[255+U-B]>k}function Wl(u,m,x,k){return 4*qi[255+u[m-x]-u[m+0]]+qi[255+u[m-2*x]-u[m+x]]<=k}function Hl(u,m,x,k,B){var U=u[m-3*x],z=u[m-2*x],W=u[m-x],Y=u[m+0],ee=u[m+x],ue=u[m+2*x],we=u[m+3*x];return 4*qi[255+W-Y]+qi[255+z-ee]>k?0:qi[255+u[m-4*x]-U]<=B&&qi[255+U-z]<=B&&qi[255+z-W]<=B&&qi[255+we-ue]<=B&&qi[255+ue-ee]<=B&&qi[255+ee-Y]<=B}function xs(u,m,x,k){var B=2*k+1;for(k=0;16>k;++k)Wl(u,m+k,x,B)&&pa(u,m+k,x)}function xi(u,m,x,k){var B=2*k+1;for(k=0;16>k;++k)Wl(u,m+k*x,1,B)&&pa(u,m+k*x,1)}function Yn(u,m,x,k){var B;for(B=3;0<B;--B)xs(u,m+=4*x,x,k)}function Yc(u,m,x,k){var B;for(B=3;0<B;--B)xi(u,m+=4,x,k)}function zo(u,m,x,k,B,U,z,W){for(U=2*U+1;0<B--;){if(Hl(u,m,x,U,z))if($l(u,m,x,W))pa(u,m,x);else{var Y=u,ee=m,ue=x,we=Y[ee-2*ue],be=Y[ee-ue],ve=Y[ee+0],Te=Y[ee+ue],Ne=Y[ee+2*ue],de=27*(Ce=pv[1020+3*(ve-be)+pv[1020+we-Te]])+63>>7,pe=18*Ce+63>>7,Ce=9*Ce+63>>7;Y[ee-3*ue]=Si[255+Y[ee-3*ue]+Ce],Y[ee-2*ue]=Si[255+we+pe],Y[ee-ue]=Si[255+be+de],Y[ee+0]=Si[255+ve-de],Y[ee+ue]=Si[255+Te-pe],Y[ee+2*ue]=Si[255+Ne-Ce]}m+=k}}function ur(u,m,x,k,B,U,z,W){for(U=2*U+1;0<B--;){if(Hl(u,m,x,U,z))if($l(u,m,x,W))pa(u,m,x);else{var Y=u,ee=m,ue=x,we=Y[ee-ue],be=Y[ee+0],ve=Y[ee+ue],Te=Bh[112+((Ne=3*(be-we))+4>>3)],Ne=Bh[112+(Ne+3>>3)],de=Te+1>>1;Y[ee-2*ue]=Si[255+Y[ee-2*ue]+de],Y[ee-ue]=Si[255+we+Ne],Y[ee+0]=Si[255+be-Te],Y[ee+ue]=Si[255+ve-de]}m+=k}}function ma(u,m,x,k,B,U){zo(u,m,x,1,16,k,B,U)}function so(u,m,x,k,B,U){zo(u,m,1,x,16,k,B,U)}function ga(u,m,x,k,B,U){var z;for(z=3;0<z;--z)ur(u,m+=4*x,x,1,16,k,B,U)}function Ss(u,m,x,k,B,U){var z;for(z=3;0<z;--z)ur(u,m+=4,1,x,16,k,B,U)}function va(u,m,x,k,B,U,z,W){zo(u,m,B,1,8,U,z,W),zo(x,k,B,1,8,U,z,W)}function Gl(u,m,x,k,B,U,z,W){zo(u,m,1,B,8,U,z,W),zo(x,k,1,B,8,U,z,W)}function ya(u,m,x,k,B,U,z,W){ur(u,m+4*B,B,1,8,U,z,W),ur(x,k+4*B,B,1,8,U,z,W)}function qo(u,m,x,k,B,U,z,W){ur(u,m+4,1,B,8,U,z,W),ur(x,k+4,1,B,8,U,z,W)}function Ns(){this.ba=new zn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wa(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Es(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function ba(){this.ua=0,this.Wa=new ne,this.vb=new ne,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new C}function Kc(){this.xb=this.a=0,this.l=new ys,this.ca=new zn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new ba,this.ab=0,this.gc=s(4,Es),this.Oc=0}function ao(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ys,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function $o(u,m,x,k,B,U,z){for(u=u==null?0:u[m+0],m=0;m<z;++m)B[U+m]=u+x[k+m]&255,u=B[U+m]}function _a(u,m,x,k,B,U,z){var W;if(u==null)$o(null,null,x,k,B,U,z);else for(W=0;W<z;++W)B[U+W]=u[m+W]+x[k+W]&255}function Nr(u,m,x,k,B,U,z){if(u==null)$o(null,null,x,k,B,U,z);else{var W,Y=u[m+0],ee=Y,ue=Y;for(W=0;W<z;++W)ee=ue+(Y=u[m+W])-ee,ue=x[k+W]+(-256&ee?0>ee?0:255:ee)&255,ee=Y,B[U+W]=ue}}function xa(u,m,x,k){var B=m.width,U=m.o;if(e(u!=null&&m!=null),0>x||0>=k||x+k>U)return null;if(!u.Cc){if(u.ga==null){var z;if(u.ga=new ao,(z=u.ga==null)||(z=m.width*m.o,e(u.Gb.length==0),u.Gb=o(z),u.Uc=0,u.Gb==null?z=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,z=1),z=!z),!z){z=u.ga;var W=u.Fa,Y=u.P,ee=u.qc,ue=u.mb,we=u.nb,be=Y+1,ve=ee-1,Te=z.l;if(e(W!=null&&ue!=null&&m!=null),Pa[0]=null,Pa[1]=$o,Pa[2]=_a,Pa[3]=Nr,z.ca=ue,z.tb=we,z.c=m.width,z.i=m.height,e(0<z.c&&0<z.i),1>=ee)m=0;else if(z.$a=W[Y+0]>>0&3,z.Z=W[Y+0]>>2&3,z.Lc=W[Y+0]>>4&3,Y=W[Y+0]>>6&3,0>z.$a||1<z.$a||4<=z.Z||1<z.Lc||Y)m=0;else if(Te.put=Jn,Te.ac=pn,Te.bc=Zn,Te.ma=z,Te.width=m.width,Te.height=m.height,Te.Da=m.Da,Te.v=m.v,Te.va=m.va,Te.j=m.j,Te.o=m.o,z.$a)e:{e(z.$a==1),m=On();t:for(;;){if(m==null){m=0;break e}if(e(z!=null),z.mc=m,m.c=z.c,m.i=z.i,m.l=z.l,m.l.ma=z,m.l.width=z.c,m.l.height=z.i,m.a=0,G(m.m,W,be,ve),!wi(z.c,z.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&yi(m.s)?(z.ic=1,W=m.c*m.i,m.Ta=null,m.Ua=0,m.V=o(W),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(z.ic=0,m=Do(m,z.c)),!m))break t;m=1;break e}z.mc=null,m=0}else m=ve>=z.c*z.i;z=!m}if(z)return null;u.ga.Lc!=1?u.Ga=0:k=U-x}e(u.ga!=null),e(x+k<=U);e:{if(m=(W=u.ga).c,U=W.l.o,W.$a==0){if(be=u.rc,ve=u.Vc,Te=u.Fa,Y=u.P+1+x*m,ee=u.mb,ue=u.nb+x*m,e(Y<=u.P+u.qc),W.Z!=0)for(e(Pa[W.Z]!=null),z=0;z<k;++z)Pa[W.Z](be,ve,Te,Y,ee,ue,m),be=ee,ve=ue,ue+=m,Y+=m;else for(z=0;z<k;++z)r(ee,ue,Te,Y,m),be=ee,ve=ue,ue+=m,Y+=m;u.rc=be,u.Vc=ve}else{if(e(W.mc!=null),m=x+k,e((z=W.mc)!=null),e(m<=z.i),z.C>=m)m=1;else if(W.ic||ge(),W.ic){W=z.V,be=z.Ba,ve=z.c;var Ne=z.i,de=(Te=1,Y=z.$/ve,ee=z.$%ve,ue=z.m,we=z.s,z.$),pe=ve*Ne,Ce=ve*m,Le=we.wc,Pe=de<Ce?sn(we,ee,Y):null;e(de<=pe),e(m<=Ne),e(yi(we));t:for(;;){for(;!ue.h&&de<Ce;){if(ee&Le||(Pe=sn(we,ee,Y)),e(Pe!=null),se(ue),256>(Ne=An(Pe.G[0],Pe.H[0],ue)))W[be+de]=Ne,++de,++ee>=ve&&(ee=0,++Y<=m&&!(Y%16)&&ei(z,Y));else{if(!(280>Ne)){Te=0;break t}Ne=Sr(Ne-256,ue);var Ge,Ue=An(Pe.G[4],Pe.H[4],ue);if(se(ue),!(de>=(Ue=er(ve,Ue=Sr(Ue,ue)))&&pe-de>=Ne)){Te=0;break t}for(Ge=0;Ge<Ne;++Ge)W[be+de+Ge]=W[be+de+Ge-Ue];for(de+=Ne,ee+=Ne;ee>=ve;)ee-=ve,++Y<=m&&!(Y%16)&&ei(z,Y);de<Ce&&ee&Le&&(Pe=sn(we,ee,Y))}e(ue.h==J(ue))}ei(z,Y>m?m:Y);break t}!Te||ue.h&&de<pe?(Te=0,z.a=ue.h?5:3):z.$=de,m=Te}else m=zr(z,z.V,z.Ba,z.c,z.i,m,Mo);if(!m){k=0;break e}}x+k>=U&&(u.Cc=1),k=1}if(!k)return null;if(u.Cc&&((k=u.ga)!=null&&(k.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+x*B}function y(u,m,x,k,B,U){for(;0<B--;){var z,W=u,Y=m+(x?1:0),ee=u,ue=m+(x?0:3);for(z=0;z<k;++z){var we=ee[ue+4*z];we!=255&&(we*=32897,W[Y+4*z+0]=W[Y+4*z+0]*we>>23,W[Y+4*z+1]=W[Y+4*z+1]*we>>23,W[Y+4*z+2]=W[Y+4*z+2]*we>>23)}m+=U}}function V(u,m,x,k,B){for(;0<k--;){var U;for(U=0;U<x;++U){var z=u[m+2*U+0],W=15&(ee=u[m+2*U+1]),Y=4369*W,ee=(240&ee|ee>>4)*Y>>16;u[m+2*U+0]=(240&z|z>>4)*Y>>16&240|(15&z|z<<4)*Y>>16>>4&15,u[m+2*U+1]=240&ee|W}m+=B}}function te(u,m,x,k,B,U,z,W){var Y,ee,ue=255;for(ee=0;ee<B;++ee){for(Y=0;Y<k;++Y){var we=u[m+Y];U[z+4*Y]=we,ue&=we}m+=x,z+=W}return ue!=255}function ae(u,m,x,k,B){var U;for(U=0;U<B;++U)x[k+U]=u[m+U]>>8}function ge(){zi=y,an=V,ln=te,Mn=ae}function Ee(u,m,x){P[u]=function(k,B,U,z,W,Y,ee,ue,we,be,ve,Te,Ne,de,pe,Ce,Le){var Pe,Ge=Le-1>>1,Ue=W[Y+0]|ee[ue+0]<<16,ot=we[be+0]|ve[Te+0]<<16;e(k!=null);var We=3*Ue+ot+131074>>2;for(m(k[B+0],255&We,We>>16,Ne,de),U!=null&&(We=3*ot+Ue+131074>>2,m(U[z+0],255&We,We>>16,pe,Ce)),Pe=1;Pe<=Ge;++Pe){var zt=W[Y+Pe]|ee[ue+Pe]<<16,Yt=we[be+Pe]|ve[Te+Pe]<<16,Ft=Ue+zt+ot+Yt+524296,It=Ft+2*(zt+ot)>>3;We=It+Ue>>1,Ue=(Ft=Ft+2*(Ue+Yt)>>3)+zt>>1,m(k[B+2*Pe-1],255&We,We>>16,Ne,de+(2*Pe-1)*x),m(k[B+2*Pe-0],255&Ue,Ue>>16,Ne,de+(2*Pe-0)*x),U!=null&&(We=Ft+ot>>1,Ue=It+Yt>>1,m(U[z+2*Pe-1],255&We,We>>16,pe,Ce+(2*Pe-1)*x),m(U[z+2*Pe+0],255&Ue,Ue>>16,pe,Ce+(2*Pe+0)*x)),Ue=zt,ot=Yt}1&Le||(We=3*Ue+ot+131074>>2,m(k[B+Le-1],255&We,We>>16,Ne,de+(Le-1)*x),U!=null&&(We=3*ot+Ue+131074>>2,m(U[z+Le-1],255&We,We>>16,pe,Ce+(Le-1)*x)))}}function Re(){$i[Uh]=LT,$i[zh]=uw,$i[ow]=RT,$i[qh]=dw,$i[$h]=fw,$i[mv]=hw,$i[sw]=OT,$i[gv]=uw,$i[vv]=dw,$i[Wh]=fw,$i[yv]=hw}function ze(u){return u&-16384?0>u?0:255:u>>DT}function d(u,m){return ze((19077*u>>8)+(26149*m>>8)-14234)}function N(u,m,x){return ze((19077*u>>8)-(6419*m>>8)-(13320*x>>8)+8708)}function I(u,m){return ze((19077*u>>8)+(33050*m>>8)-17685)}function $(u,m,x,k,B){k[B+0]=d(u,x),k[B+1]=N(u,m,x),k[B+2]=I(u,m)}function me(u,m,x,k,B){k[B+0]=I(u,m),k[B+1]=N(u,m,x),k[B+2]=d(u,x)}function _e(u,m,x,k,B){var U=N(u,m,x);m=U<<3&224|I(u,m)>>3,k[B+0]=248&d(u,x)|U>>5,k[B+1]=m}function De(u,m,x,k,B){var U=240&I(u,m)|15;k[B+0]=240&d(u,x)|N(u,m,x)>>4,k[B+1]=U}function mt(u,m,x,k,B){k[B+0]=255,$(u,m,x,k,B+1)}function kt(u,m,x,k,B){me(u,m,x,k,B),k[B+3]=255}function gt(u,m,x,k,B){$(u,m,x,k,B),k[B+3]=255}function Wt(u,m){return 0>u?0:u>m?m:u}function nn(u,m,x){P[u]=function(k,B,U,z,W,Y,ee,ue,we){for(var be=ue+(-2&we)*x;ue!=be;)m(k[B+0],U[z+0],W[Y+0],ee,ue),m(k[B+1],U[z+0],W[Y+0],ee,ue+x),B+=2,++z,++Y,ue+=2*x;1&we&&m(k[B+0],U[z+0],W[Y+0],ee,ue)}}function lo(u,m,x){return x==0?u==0?m==0?6:5:m==0?4:0:x}function dr(u,m,x,k,B){switch(u>>>30){case 3:Ps(m,x,k,B,0);break;case 2:Dn(m,x,k,B);break;case 1:Hr(m,x,k,B)}}function Wo(u,m){var x,k,B=m.M,U=m.Nb,z=u.oc,W=u.pc+40,Y=u.oc,ee=u.pc+584,ue=u.oc,we=u.pc+600;for(x=0;16>x;++x)z[W+32*x-1]=129;for(x=0;8>x;++x)Y[ee+32*x-1]=129,ue[we+32*x-1]=129;for(0<B?z[W-1-32]=Y[ee-1-32]=ue[we-1-32]=129:(i(z,W-32-1,127,21),i(Y,ee-32-1,127,9),i(ue,we-32-1,127,9)),k=0;k<u.za;++k){var be=m.ya[m.aa+k];if(0<k){for(x=-1;16>x;++x)r(z,W+32*x-4,z,W+32*x+12,4);for(x=-1;8>x;++x)r(Y,ee+32*x-4,Y,ee+32*x+4,4),r(ue,we+32*x-4,ue,we+32*x+4,4)}var ve=u.Gd,Te=u.Hd+k,Ne=be.ad,de=be.Hc;if(0<B&&(r(z,W-32,ve[Te].y,0,16),r(Y,ee-32,ve[Te].f,0,8),r(ue,we-32,ve[Te].ea,0,8)),be.Za){var pe=z,Ce=W-32+16;for(0<B&&(k>=u.za-1?i(pe,Ce,ve[Te].y[15],4):r(pe,Ce,ve[Te+1].y,0,4)),x=0;4>x;x++)pe[Ce+128+x]=pe[Ce+256+x]=pe[Ce+384+x]=pe[Ce+0+x];for(x=0;16>x;++x,de<<=2)pe=z,Ce=W+mw[x],co[be.Ob[x]](pe,Ce),dr(de,Ne,16*+x,pe,Ce)}else if(pe=lo(k,B,be.Ob[0]),Ca[pe](z,W),de!=0)for(x=0;16>x;++x,de<<=2)dr(de,Ne,16*+x,z,W+mw[x]);for(x=be.Gc,pe=lo(k,B,be.Dd),ks[pe](Y,ee),ks[pe](ue,we),de=Ne,pe=Y,Ce=ee,255&(be=x>>0)&&(170&be?Vd(de,256,pe,Ce):Bi(de,256,pe,Ce)),be=ue,de=we,255&(x>>=8)&&(170&x?Vd(Ne,320,be,de):Bi(Ne,320,be,de)),B<u.Ub-1&&(r(ve[Te].y,0,z,W+480,16),r(ve[Te].f,0,Y,ee+224,8),r(ve[Te].ea,0,ue,we+224,8)),x=8*U*u.B,ve=u.sa,Te=u.ta+16*k+16*U*u.R,Ne=u.qa,be=u.ra+8*k+x,de=u.Ha,pe=u.Ia+8*k+x,x=0;16>x;++x)r(ve,Te+x*u.R,z,W+32*x,16);for(x=0;8>x;++x)r(Ne,be+x*u.B,Y,ee+32*x,8),r(de,pe+x*u.B,ue,we+32*x,8)}}function Ho(u,m,x,k,B,U,z,W,Y){var ee=[0],ue=[0],we=0,be=Y!=null?Y.kd:0,ve=Y??new wa;if(u==null||12>x)return 7;ve.data=u,ve.w=m,ve.ha=x,m=[m],x=[x],ve.gb=[ve.gb];e:{var Te=m,Ne=x,de=ve.gb;if(e(u!=null),e(Ne!=null),e(de!=null),de[0]=0,12<=Ne[0]&&!n(u,Te[0],"RIFF")){if(n(u,Te[0]+8,"WEBP")){de=3;break e}var pe=Me(u,Te[0]+4);if(12>pe||4294967286<pe){de=3;break e}if(be&&pe>Ne[0]-8){de=7;break e}de[0]=pe,Te[0]+=12,Ne[0]-=12}de=0}if(de!=0)return de;for(pe=0<ve.gb[0],x=x[0];;){e:{var Ce=u;Ne=m,de=x;var Le=ee,Pe=ue,Ge=Te=[0];if((We=we=[we])[0]=0,8>de[0])de=7;else{if(!n(Ce,Ne[0],"VP8X")){if(Me(Ce,Ne[0]+4)!=10){de=3;break e}if(18>de[0]){de=7;break e}var Ue=Me(Ce,Ne[0]+8),ot=1+ke(Ce,Ne[0]+12);if(2147483648<=ot*(Ce=1+ke(Ce,Ne[0]+15))){de=3;break e}Ge!=null&&(Ge[0]=Ue),Le!=null&&(Le[0]=ot),Pe!=null&&(Pe[0]=Ce),Ne[0]+=18,de[0]-=18,We[0]=1}de=0}}if(we=we[0],Te=Te[0],de!=0)return de;if(Ne=!!(2&Te),!pe&&we)return 3;if(U!=null&&(U[0]=!!(16&Te)),z!=null&&(z[0]=Ne),W!=null&&(W[0]=0),z=ee[0],Te=ue[0],we&&Ne&&Y==null){de=0;break}if(4>x){de=7;break}if(pe&&we||!pe&&!we&&!n(u,m[0],"ALPH")){x=[x],ve.na=[ve.na],ve.P=[ve.P],ve.Sa=[ve.Sa];e:{Ue=u,de=m,pe=x;var We=ve.gb;Le=ve.na,Pe=ve.P,Ge=ve.Sa,ot=22,e(Ue!=null),e(pe!=null),Ce=de[0];var zt=pe[0];for(e(Le!=null),e(Ge!=null),Le[0]=null,Pe[0]=null,Ge[0]=0;;){if(de[0]=Ce,pe[0]=zt,8>zt){de=7;break e}var Yt=Me(Ue,Ce+4);if(4294967286<Yt){de=3;break e}var Ft=8+Yt+1&-2;if(ot+=Ft,0<We&&ot>We){de=3;break e}if(!n(Ue,Ce,"VP8 ")||!n(Ue,Ce,"VP8L")){de=0;break e}if(zt[0]<Ft){de=7;break e}n(Ue,Ce,"ALPH")||(Le[0]=Ue,Pe[0]=Ce+8,Ge[0]=Yt),Ce+=Ft,zt-=Ft}}if(x=x[0],ve.na=ve.na[0],ve.P=ve.P[0],ve.Sa=ve.Sa[0],de!=0)break}x=[x],ve.Ja=[ve.Ja],ve.xa=[ve.xa];e:if(We=u,de=m,pe=x,Le=ve.gb[0],Pe=ve.Ja,Ge=ve.xa,Ue=de[0],Ce=!n(We,Ue,"VP8 "),ot=!n(We,Ue,"VP8L"),e(We!=null),e(pe!=null),e(Pe!=null),e(Ge!=null),8>pe[0])de=7;else{if(Ce||ot){if(We=Me(We,Ue+4),12<=Le&&We>Le-12){de=3;break e}if(be&&We>pe[0]-8){de=7;break e}Pe[0]=We,de[0]+=8,pe[0]-=8,Ge[0]=ot}else Ge[0]=5<=pe[0]&&We[Ue+0]==47&&!(We[Ue+4]>>5),Pe[0]=pe[0];de=0}if(x=x[0],ve.Ja=ve.Ja[0],ve.xa=ve.xa[0],m=m[0],de!=0)break;if(4294967286<ve.Ja)return 3;if(W==null||Ne||(W[0]=ve.xa?2:1),z=[z],Te=[Te],ve.xa){if(5>x){de=7;break}W=z,be=Te,Ne=U,u==null||5>x?u=0:5<=x&&u[m+0]==47&&!(u[m+4]>>5)?(pe=[0],We=[0],Le=[0],G(Pe=new M,u,m,x),He(Pe,pe,We,Le)?(W!=null&&(W[0]=pe[0]),be!=null&&(be[0]=We[0]),Ne!=null&&(Ne[0]=Le[0]),u=1):u=0):u=0}else{if(10>x){de=7;break}W=Te,u==null||10>x||!Ml(u,m+3,x-3)?u=0:(be=u[m+0]|u[m+1]<<8|u[m+2]<<16,Ne=16383&(u[m+7]<<8|u[m+6]),u=16383&(u[m+9]<<8|u[m+8]),1&be||3<(be>>1&7)||!(be>>4&1)||be>>5>=ve.Ja||!Ne||!u?u=0:(z&&(z[0]=Ne),W&&(W[0]=u),u=1))}if(!u||(z=z[0],Te=Te[0],we&&(ee[0]!=z||ue[0]!=Te)))return 3;Y!=null&&(Y[0]=ve,Y.offset=m-Y.w,e(4294967286>m-Y.w),e(Y.offset==Y.ha-x));break}return de==0||de==7&&we&&Y==null?(U!=null&&(U[0]|=ve.na!=null&&0<ve.na.length),k!=null&&(k[0]=z),B!=null&&(B[0]=Te),0):de}function Dd(u,m,x){var k=m.width,B=m.height,U=0,z=0,W=k,Y=B;if(m.Da=u!=null&&0<u.Da,m.Da&&(W=u.cd,Y=u.bd,U=u.v,z=u.j,11>x||(U&=-2,z&=-2),0>U||0>z||0>=W||0>=Y||U+W>k||z+Y>B))return 0;if(m.v=U,m.j=z,m.va=U+W,m.o=z+Y,m.U=W,m.T=Y,m.da=u!=null&&0<u.da,m.da){if(!rt(W,Y,x=[u.ib],U=[u.hb]))return 0;m.ib=x[0],m.hb=U[0]}return m.ob=u!=null&&u.ob,m.Kb=u==null||!u.Sd,m.da&&(m.ob=m.ib<3*k/4&&m.hb<3*B/4,m.Kb=0),1}function Md(u){if(u==null)return 2;if(11>u.S){var m=u.f.RGBA;m.fb+=(u.height-1)*m.A,m.A=-m.A}else m=u.f.kb,u=u.height,m.O+=(u-1)*m.fa,m.fa=-m.fa,m.N+=(u-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(u-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(u-1)*m.lb,m.lb=-m.lb);return 0}function Xc(u,m,x,k){if(k==null||0>=u||0>=m)return 2;if(x!=null){if(x.Da){var B=x.cd,U=x.bd,z=-2&x.v,W=-2&x.j;if(0>z||0>W||0>=B||0>=U||z+B>u||W+U>m)return 2;u=B,m=U}if(x.da){if(!rt(u,m,B=[x.ib],U=[x.hb]))return 2;u=B[0],m=U[0]}}k.width=u,k.height=m;e:{var Y=k.width,ee=k.height;if(u=k.S,0>=Y||0>=ee||!(u>=Uh&&13>u))u=2;else{if(0>=k.Rd&&k.sd==null){z=U=B=m=0;var ue=(W=Y*gw[u])*ee;if(11>u||(U=(ee+1)/2*(m=(Y+1)/2),u==12&&(z=(B=Y)*ee)),(ee=o(ue+2*U+z))==null){u=1;break e}k.sd=ee,11>u?((Y=k.f.RGBA).eb=ee,Y.fb=0,Y.A=W,Y.size=ue):((Y=k.f.kb).y=ee,Y.O=0,Y.fa=W,Y.Fd=ue,Y.f=ee,Y.N=0+ue,Y.Ab=m,Y.Cd=U,Y.ea=ee,Y.W=0+ue+U,Y.Db=m,Y.Ed=U,u==12&&(Y.F=ee,Y.J=0+ue+2*U),Y.Tc=z,Y.lb=B)}if(m=1,B=k.S,U=k.width,z=k.height,B>=Uh&&13>B)if(11>B)u=k.f.RGBA,m&=(W=Math.abs(u.A))*(z-1)+U<=u.size,m&=W>=U*gw[B],m&=u.eb!=null;else{u=k.f.kb,W=(U+1)/2,ue=(z+1)/2,Y=Math.abs(u.fa),ee=Math.abs(u.Ab);var we=Math.abs(u.Db),be=Math.abs(u.lb),ve=be*(z-1)+U;m&=Y*(z-1)+U<=u.Fd,m&=ee*(ue-1)+W<=u.Cd,m=(m&=we*(ue-1)+W<=u.Ed)&Y>=U&ee>=W&we>=W,m&=u.y!=null,m&=u.f!=null,m&=u.ea!=null,B==12&&(m&=be>=U,m&=ve<=u.Tc,m&=u.F!=null)}else m=0;u=m?0:2}}return u!=0||x!=null&&x.fd&&(u=Md(k)),u}var fr=64,Qc=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Jc=24,Zc=32,jd=8,ni=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ve("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(u){return u},P.Predictor2=function(u,m,x){return m[x+0]},P.Predictor3=function(u,m,x){return m[x+1]},P.Predictor4=function(u,m,x){return m[x-1]},P.Predictor5=function(u,m,x){return Be(Be(u,m[x+1]),m[x+0])},P.Predictor6=function(u,m,x){return Be(u,m[x-1])},P.Predictor7=function(u,m,x){return Be(u,m[x+0])},P.Predictor8=function(u,m,x){return Be(m[x-1],m[x+0])},P.Predictor9=function(u,m,x){return Be(m[x+0],m[x+1])},P.Predictor10=function(u,m,x){return Be(Be(u,m[x-1]),Be(m[x+0],m[x+1]))},P.Predictor11=function(u,m,x){var k=m[x+0];return 0>=ft(k>>24&255,u>>24&255,(m=m[x-1])>>24&255)+ft(k>>16&255,u>>16&255,m>>16&255)+ft(k>>8&255,u>>8&255,m>>8&255)+ft(255&k,255&u,255&m)?k:u},P.Predictor12=function(u,m,x){var k=m[x+0];return(Je((u>>24&255)+(k>>24&255)-((m=m[x-1])>>24&255))<<24|Je((u>>16&255)+(k>>16&255)-(m>>16&255))<<16|Je((u>>8&255)+(k>>8&255)-(m>>8&255))<<8|Je((255&u)+(255&k)-(255&m)))>>>0},P.Predictor13=function(u,m,x){var k=m[x-1];return(at((u=Be(u,m[x+0]))>>24&255,k>>24&255)<<24|at(u>>16&255,k>>16&255)<<16|at(u>>8&255,k>>8&255)<<8|at(u>>0&255,k>>0&255))>>>0};var hv=P.PredictorAdd0;P.PredictorAdd1=et,Ve("Predictor2","PredictorAdd2"),Ve("Predictor3","PredictorAdd3"),Ve("Predictor4","PredictorAdd4"),Ve("Predictor5","PredictorAdd5"),Ve("Predictor6","PredictorAdd6"),Ve("Predictor7","PredictorAdd7"),Ve("Predictor8","PredictorAdd8"),Ve("Predictor9","PredictorAdd9"),Ve("Predictor10","PredictorAdd10"),Ve("Predictor11","PredictorAdd11"),Ve("Predictor12","PredictorAdd12"),Ve("Predictor13","PredictorAdd13");var Fd=P.PredictorAdd2;yt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),yt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Dh,Vi=P.ColorIndexInverseTransform,eu=P.MapARGB,Mh=P.VP8LColorIndexInverseTransformAlpha,jh=P.MapAlpha,Sa=P.VP8LPredictorsAdd=[];Sa.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var Yl,ri,Wr,Na,As,Cs,tu,Ps,Dn,Vd,Hr,Bi,nu,Fh,Bd,Kl,Xl,Ea,Ql,ru,Jl,Aa,Ud,Ui,zi,an,ln,Mn,Kn=o(511),Ts=o(2041),zd=o(225),iu=o(767),Vh=0,pv=Ts,Bh=zd,Si=iu,qi=Kn,Uh=0,zh=1,ow=2,qh=3,$h=4,mv=5,sw=6,gv=7,vv=8,Wh=9,yv=10,yT=[2,3,7],wT=[3,3,11],aw=[280,256,256,256,40],bT=[0,1,1,1,0],_T=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],xT=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ST=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],NT=8,wv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qd=null,ET=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],AT=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],lw=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],CT=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],PT=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],TT=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kT=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ca=[],co=[],ks=[],IT=1,cw=2,Pa=[],$i=[];Ee("UpsampleRgbLinePair",$,3),Ee("UpsampleBgrLinePair",me,3),Ee("UpsampleRgbaLinePair",gt,4),Ee("UpsampleBgraLinePair",kt,4),Ee("UpsampleArgbLinePair",mt,4),Ee("UpsampleRgba4444LinePair",De,2),Ee("UpsampleRgb565LinePair",_e,2);var LT=P.UpsampleRgbLinePair,RT=P.UpsampleBgrLinePair,uw=P.UpsampleRgbaLinePair,dw=P.UpsampleBgraLinePair,fw=P.UpsampleArgbLinePair,hw=P.UpsampleRgba4444LinePair,OT=P.UpsampleRgb565LinePair,Hh=16,Gh=1<<Hh-1,$d=-227,_v=482,DT=6,pw=0,MT=o(256),jT=o(256),FT=o(256),VT=o(256),BT=o(_v-$d),UT=o(_v-$d);nn("YuvToRgbRow",$,3),nn("YuvToBgrRow",me,3),nn("YuvToRgbaRow",gt,4),nn("YuvToBgraRow",kt,4),nn("YuvToArgbRow",mt,4),nn("YuvToRgba4444Row",De,2),nn("YuvToRgb565Row",_e,2);var mw=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Yh=[0,2,8],zT=[8,7,6,4,4,2,2,2,1,1,1,1],qT=1;this.WebPDecodeRGBA=function(u,m,x,k,B){var U=zh,z=new Ns,W=new zn;z.ba=W,W.S=U,W.width=[W.width],W.height=[W.height];var Y=W.width,ee=W.height,ue=new xr;if(ue==null||u==null)var we=2;else e(ue!=null),we=Ho(u,m,x,ue.width,ue.height,ue.Pd,ue.Qd,ue.format,null);if(we!=0?Y=0:(Y!=null&&(Y[0]=ue.width[0]),ee!=null&&(ee[0]=ue.height[0]),Y=1),Y){W.width=W.width[0],W.height=W.height[0],k!=null&&(k[0]=W.width),B!=null&&(B[0]=W.height);e:{if(k=new ys,(B=new wa).data=u,B.w=m,B.ha=x,B.kd=1,m=[0],e(B!=null),((u=Ho(B.data,B.w,B.ha,null,null,null,m,null,B))==0||u==7)&&m[0]&&(u=4),(m=u)==0){if(e(z!=null),k.data=B.data,k.w=B.w+B.offset,k.ha=B.ha-B.offset,k.put=Jn,k.ac=pn,k.bc=Zn,k.ma=z,B.xa){if((u=On())==null){z=1;break e}if(function(be,ve){var Te=[0],Ne=[0],de=[0];t:for(;;){if(be==null)return 0;if(ve==null)return be.a=2,0;if(be.l=ve,be.a=0,G(be.m,ve.data,ve.w,ve.ha),!He(be.m,Te,Ne,de)){be.a=3;break t}if(be.xb=cw,ve.width=Te[0],ve.height=Ne[0],!wi(Te[0],Ne[0],1,be,null))break t;return 1}return e(be.a!=0),0}(u,k)){if(k=(m=Xc(k.width,k.height,z.Oa,z.ba))==0){t:{k=u;n:for(;;){if(k==null){k=0;break t}if(e(k.s.yc!=null),e(k.s.Ya!=null),e(0<k.s.Wb),e((x=k.l)!=null),e((B=x.ma)!=null),k.xb!=0){if(k.ca=B.ba,k.tb=B.tb,e(k.ca!=null),!Dd(B.Oa,x,qh)){k.a=2;break n}if(!Do(k,x.width)||x.da)break n;if((x.da||wt(k.ca.S))&&ge(),11>k.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),k.ca.f.kb.F!=null&&ge()),k.Pb&&0<k.s.ua&&k.s.vb.X==null&&!Ye(k.s.vb,k.s.Wa.Xa)){k.a=1;break n}k.xb=0}if(!zr(k,k.V,k.Ba,k.c,k.i,x.o,Oo))break n;B.Dc=k.Ma,k=1;break t}e(k.a!=0),k=0}k=!k}k&&(m=u.a)}else m=u.a}else{if((u=new Dl)==null){z=1;break e}if(u.Fa=B.na,u.P=B.P,u.qc=B.Sa,jl(u,k)){if((m=Xc(k.width,k.height,z.Oa,z.ba))==0){if(u.Aa=0,x=z.Oa,e((B=u)!=null),x!=null){if(0<(Y=0>(Y=x.Md)?0:100<Y?255:255*Y/100)){for(ee=ue=0;4>ee;++ee)12>(we=B.pb[ee]).lc&&(we.ia=Y*zT[0>we.lc?0:we.lc]>>3),ue|=we.ia;ue&&(alert("todo:VP8InitRandom"),B.ia=1)}B.Ga=x.Id,100<B.Ga?B.Ga=100:0>B.Ga&&(B.Ga=0)}qc(u,k)||(m=u.a)}}else m=u.a}m==0&&z.Oa!=null&&z.Oa.fd&&(m=Md(z.ba))}z=m}U=z!=0?null:11>U?W.f.RGBA.eb:W.f.kb.y}else U=null;return U};var gw=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(P,D){for(var F="",T=0;T<4;T++)F+=String.fromCharCode(P[D++]);return F}function f(P,D){return(P[D+0]<<0|P[D+1]<<8|P[D+2]<<16)>>>0}function h(P,D){return(P[D+0]<<0|P[D+1]<<8|P[D+2]<<16|P[D+3]<<24)>>>0}new l;var g=[0],p=[0],S=[],b=new l,E=t,w=function(P,D){var F={},T=0,C=!1,L=0,X=0;if(F.frames=[],!function(H,J,ie,se){for(var oe=0;oe<se;oe++)if(H[J+oe]!=ie.charCodeAt(oe))return!0;return!1}(P,D,"RIFF",4)){var fe,le;for(h(P,D+=4),D+=8;D<P.length;){var re=c(P,D),G=h(P,D+=4);D+=4;var K=G+(1&G);switch(re){case"VP8 ":case"VP8L":F.frames[T]===void 0&&(F.frames[T]={}),(M=F.frames[T]).src_off=C?X:D-8,M.src_size=L+G+8,T++,C&&(C=!1,L=0,X=0);break;case"VP8X":(M=F.header={}).feature_flags=P[D];var Q=D+4;M.canvas_width=1+f(P,Q),Q+=3,M.canvas_height=1+f(P,Q),Q+=3;break;case"ALPH":C=!0,L=K+8,X=D-8;break;case"ANIM":(M=F.header).bgcolor=h(P,D),Q=D+4,M.loop_count=(fe=P)[(le=Q)+0]<<0|fe[le+1]<<8,Q+=2;break;case"ANMF":var ce,M;(M=F.frames[T]={}).offset_x=2*f(P,D),D+=3,M.offset_y=2*f(P,D),D+=3,M.width=1+f(P,D),D+=3,M.height=1+f(P,D),D+=3,M.duration=f(P,D),D+=3,ce=P[D++],M.dispose=1&ce,M.blend=ce>>1&1}re!="ANMF"&&(D+=K)}return F}}(E,0);w.response=E,w.rgbaoutput=!0,w.dataurl=!1;var _=w.header?w.header:null,A=w.frames?w.frames:null;if(_){_.loop_counter=_.loop_count,g=[_.canvas_height],p=[_.canvas_width];for(var j=0;j<A.length&&A[j].blend!=0;j++);}var q=A[0],Z=b.WebPDecodeRGBA(E,q.src_off,q.src_size,p,g);q.rgba=Z,q.imgwidth=p[0],q.imgheight=g[0];for(var R=0;R<p[0]*g[0]*4;R++)S[R]=Z[R];return this.width=p,this.height=g,this.data=S,this}(function(t){var e=function(){return typeof K0=="function"},n=function(g,p,S,b){var E=4,w=s;switch(b){case t.image_compression.FAST:E=1,w=o;break;case t.image_compression.MEDIUM:E=6,w=a;break;case t.image_compression.SLOW:E=9,w=l}g=r(g,p,S,w);var _=K0(g,{level:E});return t.__addimage__.arrayBufferToBinaryString(_)},r=function(g,p,S,b){for(var E,w,_,A=g.length/p,j=new Uint8Array(g.length+A),q=f(),Z=0;Z<A;Z+=1){if(_=Z*p,E=g.subarray(_,_+p),b)j.set(b(E,S,w),_+Z);else{for(var R,P=q.length,D=[];R<P;R+=1)D[R]=q[R](E,S,w);var F=h(D.concat());j.set(D[F],_+Z)}w=E}return j},i=function(g){var p=Array.apply([],g);return p.unshift(0),p},o=function(g,p){var S,b=[],E=g.length;b[0]=1;for(var w=0;w<E;w+=1)S=g[w-p]||0,b[w+1]=g[w]-S+256&255;return b},s=function(g,p,S){var b,E=[],w=g.length;E[0]=2;for(var _=0;_<w;_+=1)b=S&&S[_]||0,E[_+1]=g[_]-b+256&255;return E},a=function(g,p,S){var b,E,w=[],_=g.length;w[0]=3;for(var A=0;A<_;A+=1)b=g[A-p]||0,E=S&&S[A]||0,w[A+1]=g[A]+256-(b+E>>>1)&255;return w},l=function(g,p,S){var b,E,w,_,A=[],j=g.length;A[0]=4;for(var q=0;q<j;q+=1)b=g[q-p]||0,E=S&&S[q]||0,w=S&&S[q-p]||0,_=c(b,E,w),A[q+1]=g[q]-_+256&255;return A},c=function(g,p,S){if(g===p&&p===S)return g;var b=Math.abs(p-S),E=Math.abs(g-S),w=Math.abs(g+p-S-S);return b<=E&&b<=w?g:E<=w?p:S},f=function(){return[i,o,s,a,l]},h=function(g){var p=g.map(function(S){return S.reduce(function(b,E){return b+Math.abs(E)},0)});return p.indexOf(Math.min.apply(null,p))};t.processPNG=function(g,p,S,b){var E,w,_,A,j,q,Z,R,P,D,F,T,C,L,X,fe=this.decode.FLATE_DECODE,le="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(_=new hM(g)).imgData,w=_.bits,E=_.colorSpace,j=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){P=(R=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,F=new Uint8Array(P*_.colors),D=new Uint8Array(P);var re,G=_.pixelBitlength-_.bits;for(L=0,X=0;L<P;L++){for(C=R[L],re=0;re<G;)F[X++]=C>>>re&255,re+=_.bits;D[L]=C>>>re&255}}if(_.bits===16){P=(R=new Uint32Array(_.decodePixels().buffer)).length,F=new Uint8Array(P*(32/_.pixelBitlength)*_.colors),D=new Uint8Array(P*(32/_.pixelBitlength)),T=_.colors>1,L=0,X=0;for(var K=0;L<P;)C=R[L++],F[X++]=C>>>0&255,T&&(F[X++]=C>>>16&255,C=R[L++],F[X++]=C>>>0&255),D[K++]=C>>>16&255;w=8}b!==t.image_compression.NONE&&e()?(g=n(F,_.width*_.colors,_.colors,b),Z=n(D,_.width,1,b)):(g=F,Z=D,fe=void 0)}if(_.colorType===3&&(E=this.color_spaces.INDEXED,q=_.palette,_.transparency.indexed)){var Q=_.transparency.indexed,ce=0;for(L=0,P=Q.length;L<P;++L)ce+=Q[L];if((ce/=255)===P-1&&Q.indexOf(0)!==-1)A=[Q.indexOf(0)];else if(ce!==P){for(R=_.decodePixels(),D=new Uint8Array(R.length),L=0,P=R.length;L<P;L++)D[L]=Q[R[L]];Z=n(D,_.width,1)}}var M=function(H){var J;switch(H){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J}(b);return fe===this.decode.FLATE_DECODE&&(le="/Predictor "+M+" "),le+="/Colors "+j+" /BitsPerComponent "+w+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(Z&&this.__addimage__.isArrayBuffer(Z)||this.__addimage__.isArrayBufferView(Z))&&(Z=this.__addimage__.arrayBufferToBinaryString(Z)),{alias:S,data:g,index:p,filter:fe,decodeParameters:le,transparency:A,palette:q,sMask:Z,predictor:M,width:_.width,height:_.height,bitsPerComponent:w,colorSpace:E}}}})(st.API),function(t){t.processGIF89A=function(e,n,r,i){var o=new pM(e),s=o.width,a=o.height,l=[];o.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:a},f=new x1(100).encode(c,100);return t.processJPEG.call(this,f,n,r,i)},t.processGIF87A=t.processGIF89A}(st.API),po.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},po.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){on.log("bit decode error:"+n)}},po.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[o>>7-a&1];this.data[s+4*a]=l.blue,this.data[s+4*a+1]=l.green,this.data[s+4*a+2]=l.red,this.data[s+4*a+3]=255}n!==0&&(this.pos+=4-n)}},po.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var o=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*i*4,a=o>>4,l=15&o,c=this.palette[a];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},po.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+4*r;if(i<this.palette.length){var s=this.palette[i];this.data[o]=s.red,this.data[o+1]=s.green,this.data[o+2]=s.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},po.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(o&e)/e*255|0,a=(o>>5&e)/e*255|0,l=(o>>10&e)/e*255|0,c=o>>15?255:0,f=r*this.width*4+4*i;this.data[f]=l,this.data[f+1]=a,this.data[f+2]=s,this.data[f+3]=c}this.pos+=t}},po.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,l=(s>>5&n)/n*255|0,c=(s>>11)/e*255|0,f=i*this.width*4+4*o;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=a,this.data[f+3]=255}this.pos+=t}},po.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*n;this.data[s]=o,this.data[s+1]=i,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},po.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=o,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=s}},po.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var o=new po(e,!1),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new x1(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(st.API),I_.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var o=new I_(e),s=o.width,a=o.height,l={data:o.getData(),width:s,height:a},c=new x1(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(st.API),st.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,o=new Uint8Array(i/4*3),s=new Uint8Array(i/4),a=0,l=0,c=0;c<i;c+=4){var f=r[c],h=r[c+1],g=r[c+2],p=r[c+3];o[a++]=f,o[a++]=h,o[a++]=g,s[l++]=p}var S=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:S,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},st.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},fu=st.API,Ep=fu.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,f=c.fof?c.fof:1,h=e.doKerning!==!1,g=0,p=t.length,S=0,b=a[0]||l,E=[];for(n=0;n<p;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+s*(1e3/o)||0)/1e3):(g=h&&Jt(c[r])==="object"&&!isNaN(parseInt(c[r][S],10))?c[r][S]/f:0,E.push((a[r]||b)/l+g)),S=r;return E},C_=fu.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return fu.processArabic&&(t=fu.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Ep.apply(this,arguments).reduce(function(o,s){return o+s},0)},P_=function(t,e,n,r){for(var i=[],o=0,s=t.length,a=0;o!==s&&a+e[o]<n;)a+=e[o],o++;i.push(t.slice(0,o));var l=o;for(a=0;o!==s;)a+e[o]>r&&(i.push(t.slice(l,o)),a=0,l=o),a+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},T_=function(t,e,n){n||(n={});var r,i,o,s,a,l,c,f=[],h=[f],g=n.textIndent||0,p=0,S=0,b=t.split(" "),E=Ep.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?b[0].length+2:n.lineIndent||0){var w=Array(l).join(" "),_=[];b.map(function(j){(j=j.split(/\s*\n/)).length>1?_=_.concat(j.map(function(q,Z){return(Z&&q.length?`
`:"")+q})):_.push(j[0])}),b=_,l=C_.apply(this,[w,n])}for(o=0,s=b.length;o<s;o++){var A=0;if(r=b[o],l&&r[0]==`
`&&(r=r.substr(1),A=1),g+p+(S=(i=Ep.apply(this,[r,n])).reduce(function(j,q){return j+q},0))>e||A){if(S>e){for(a=P_.apply(this,[r,i,e-(g+p),e]),f.push(a.shift()),f=[a.pop()];a.length;)h.push([a.shift()]);S=i.slice(r.length-(f[0]?f[0].length:0)).reduce(function(j,q){return j+q},0)}else f=[r];h.push(f),g=S+l,p=E}else f.push(r),g+=p+S,p=E}return c=l?function(j,q){return(q?w:"")+j.join(" ")}:function(j){return j.join(" ")},h.map(c)},fu.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),o=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var h=this.internal.getFont(f.fontName,f.fontStyle);return h.metadata.Unicode?{widths:h.metadata.Unicode.widths||{0:1},kerning:h.metadata.Unicode.kerning||{}}:{font:h.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;o.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=n.lineIndent;var a,l,c=[];for(a=0,l=r.length;a<l;a++)c=c.concat(T_.apply(this,[r[a],s,o]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var o=function(h){return"0x"+parseInt(h,10).toString(16)},s=t.__fontmetrics__.compress=function(h){var g,p,S,b,E=["{"];for(var w in h){if(g=h[w],isNaN(parseInt(w,10))?p="'"+w+"'":(w=parseInt(w,10),p=(p=o(w).slice(2)).slice(0,-1)+r[p.slice(-1)]),typeof g=="number")g<0?(S=o(g).slice(3),b="-"):(S=o(g).slice(2),b=""),S=b+S.slice(0,-1)+r[S.slice(-1)];else{if(Jt(g)!=="object")throw new Error("Don't know what to do with value type "+Jt(g)+".");S=s(g)}E.push(p+S)}return E.push("}"),E.join("")},a=t.__fontmetrics__.uncompress=function(h){if(typeof h!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,p,S,b,E={},w=1,_=E,A=[],j="",q="",Z=h.length-1,R=1;R<Z;R+=1)(b=h[R])=="'"?g?(S=g.join(""),g=void 0):g=[]:g?g.push(b):b=="{"?(A.push([_,S]),_={},S=void 0):b=="}"?((p=A.pop())[0][p[1]]=_,S=void 0,_=p[0]):b=="-"?w=-1:S===void 0?n.hasOwnProperty(b)?(j+=n[b],S=parseInt(j,16)*w,w=1,j=""):j+=b:n.hasOwnProperty(b)?(q+=n[b],_[S]=parseInt(q,16)*w,w=1,S=void 0,q=""):q+=b;return E},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},f={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(h){var g=h.font,p=f.Unicode[g.postScriptName];p&&(g.metadata.Unicode={},g.metadata.Unicode.widths=p.widths,g.metadata.Unicode.kerning=p.kerning);var S=c.Unicode[g.postScriptName];S&&(g.metadata.Unicode.encoding=S,g.encoding=S.codePages[0])}])}(st.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=n.charCodeAt(o);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,o=n.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(s,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Pf(a)),s.metadata=t.API.TTFFont.open(a),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(i,r)}}])}(st),function(t){function e(){return(lt.canvg?Promise.resolve(lt.canvg):$0(()=>import("./index.es-omFTAbkp.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}st.API.addSvgAsImage=function(n,r,i,o,s,a,l,c){if(isNaN(r)||isNaN(i))throw on.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(s))throw on.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=o,f.height=s;var h=f.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return e().then(function(S){return S.fromString(h,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(S){return S.render(g)}).then(function(){p.addImage(f.toDataURL("image/jpeg",1),r,i,o,s,l,c)})}}(),st.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},st.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,o,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(s),l=[],c=0,f=0,h=0;function g(S,b){var E,w=!1;for(E=0;E<S.length;E+=1)S[E]===b&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=a.length;for(h=0;h<p;h+=1)n[a[h]].value=n[a[h]].defaultValue,n[a[h]].explicitSet=!1}if(Jt(t)==="object"){for(i in t)if(o=t[i],g(a,i)&&o!==void 0){if(n[i].type==="boolean"&&typeof o=="boolean")n[i].value=o;else if(n[i].type==="name"&&g(n[i].valueSet,o))n[i].value=o;else if(n[i].type==="integer"&&Number.isInteger(o))n[i].value=o;else if(n[i].type==="array"){for(c=0;c<o.length;c+=1)if(r=!0,o[c].length===1&&typeof o[c][0]=="number")l.push(String(o[c]-1));else if(o[c].length>1){for(f=0;f<o[c].length;f+=1)typeof o[c][f]!="number"&&(r=!1);r===!0&&l.push([o[c][0]-1,o[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,b=[];for(S in n)n[S].explicitSet===!0&&(n[S].type==="name"?b.push("/"+S+" /"+n[S].value):b.push("/"+S+" "+n[S].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=o.length+s.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+o+s+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(st.API),function(t){var e=t.API,n=e.pdfEscape16=function(o,s){for(var a,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],f=[""],h=0,g=o.length;h<g;++h){if(a=s.metadata.characterToGlyph(o.charCodeAt(h)),s.metadata.glyIdsUsed.push(a),s.metadata.toUnicode[a]=o.charCodeAt(h),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(s.metadata.widthOfGlyph(a),10)])),a=="0")return f.join("");a=a.toString(16),f.push(c[4-a.length],a)}return f.join("")},r=function(o){var s,a,l,c,f,h,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],h=0,g=(a=Object.keys(o).sort(function(p,S){return p-S})).length;h<g;h++)s=a[h],l.length>=100&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),o[s]!==void 0&&o[s]!==null&&typeof o[s].toString=="function"&&(c=("0000"+o[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(f+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,f=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var h=a.metadata.Unicode.widths,g=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),p="",S=0;S<g.length;S++)p+=String.fromCharCode(g[S]);var b=c();f({data:p,addLength1:!0,objectId:b}),l("endobj");var E=c();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:E}),l("endobj");var w=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+vu(a.fontName)),l("/FontFile2 "+b+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var _=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+vu(a.fontName)),l("/FontDescriptor "+w+" 0 R"),l("/W "+t.API.PDFObject.convert(h)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+E+" 0 R"),l("/BaseFont /"+vu(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+_+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(s){var a=s.font,l=s.out,c=s.newObject,f=s.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var h=a.metadata.rawData,g="",p=0;p<h.length;p++)g+=String.fromCharCode(h[p]);var S=c();f({data:g,addLength1:!0,objectId:S}),l("endobj");var b=c();f({data:r(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var E=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+S+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+vu(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var w=0;w<a.metadata.hmtx.widths.length;w++)a.metadata.hmtx.widths[w]=parseInt(a.metadata.hmtx.widths[w]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+vu(a.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(o)}]);var i=function(o){var s,a=o.text||"",l=o.x,c=o.y,f=o.options||{},h=o.mutex||{},g=h.pdfEscape,p=h.activeFontKey,S=h.fonts,b=p,E="",w=0,_="",A=S[b].encoding;if(S[b].encoding!=="Identity-H")return{text:a,x:l,y:c,options:f,mutex:h};for(_=a,b=p,Array.isArray(a)&&(_=a[0]),w=0;w<_.length;w+=1)S[b].metadata.hasOwnProperty("cmap")&&(s=S[b].metadata.cmap.unicode.codeMap[_[w].charCodeAt(0)]),s||_[w].charCodeAt(0)<256&&S[b].metadata.hasOwnProperty("Unicode")?E+=_[w]:E+="";var j="";return parseInt(b.slice(1))<14||A==="WinAnsiEncoding"?j=g(E,b).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(j=n(E,S[b])),h.isHex=!0,{text:j,x:l,y:c,options:f,mutex:h}};e.events.push(["postProcessText",function(o){var s=o.text||"",a=[],l={text:s,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?a.push([i(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):a.push(i(Object.assign({},l,{text:s[c]})).text);o.text=a}else o.text=i(Object.assign({},l,{text:s})).text}])}(st),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(st.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,o,s,a,l,c,f,h=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,A=0;this.__bidiEngine__={};var j=function(T){var C=T.charCodeAt(),L=C>>8,X=b[L];return X!==void 0?h[256*X+(255&C)]:L===252||L===253?"AL":w.test(L)?"L":L===8?"R":"N"},q=function(T){for(var C,L=0;L<T.length;L++){if((C=j(T.charAt(L)))==="L")return!1;if(C==="R")return!0}return!1},Z=function(T,C,L,X){var fe,le,re,G,K=C[X];switch(K){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(K="AN");break;case"AL":_=!0,K="R";break;case"WS":K="N";break;case"CS":X<1||X+1>=C.length||(fe=L[X-1])!=="EN"&&fe!=="AN"||(le=C[X+1])!=="EN"&&le!=="AN"?K="N":_&&(le="AN"),K=le===fe?le:"N";break;case"ES":K=(fe=X>0?L[X-1]:"B")==="EN"&&X+1<C.length&&C[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&L[X-1]==="EN"){K="EN";break}if(_){K="N";break}for(re=X+1,G=C.length;re<G&&C[re]==="ET";)re++;K=re<G&&C[re]==="EN"?"EN":"N";break;case"NSM":if(s&&!a){for(G=C.length,re=X+1;re<G&&C[re]==="NSM";)re++;if(re<G){var Q=T[X],ce=Q>=1425&&Q<=2303||Q===64286;if(fe=C[re],ce&&(fe==="R"||fe==="AL")){K="R";break}}}K=X<1||(fe=C[X-1])==="B"?"N":L[X-1];break;case"B":_=!1,i=!0,K=A;break;case"S":o=!0,K="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":K="N"}return K},R=function(T,C,L){var X=T.split("");return L&&P(X,L,{hiLevel:A}),X.reverse(),C&&C.reverse(),X.join("")},P=function(T,C,L){var X,fe,le,re,G,K=-1,Q=T.length,ce=0,M=[],H=A?p:g,J=[];for(_=!1,i=!1,o=!1,fe=0;fe<Q;fe++)J[fe]=j(T[fe]);for(le=0;le<Q;le++){if(G=ce,M[le]=Z(T,J,M,le),X=240&(ce=H[G][S[M[le]]]),ce&=15,C[le]=re=H[ce][5],X>0)if(X===16){for(fe=K;fe<le;fe++)C[fe]=1;K=-1}else K=-1;if(H[ce][6])K===-1&&(K=le);else if(K>-1){for(fe=K;fe<le;fe++)C[fe]=re;K=-1}J[le]==="B"&&(C[le]=0),L.hiLevel|=re}o&&function(ie,se,oe){for(var he=0;he<oe;he++)if(ie[he]==="S"){se[he]=A;for(var ye=he-1;ye>=0&&ie[ye]==="WS";ye--)se[ye]=A}}(J,C,Q)},D=function(T,C,L,X,fe){if(!(fe.hiLevel<T)){if(T===1&&A===1&&!i)return C.reverse(),void(L&&L.reverse());for(var le,re,G,K,Q=C.length,ce=0;ce<Q;){if(X[ce]>=T){for(G=ce+1;G<Q&&X[G]>=T;)G++;for(K=ce,re=G-1;K<re;K++,re--)le=C[K],C[K]=C[re],C[re]=le,L&&(le=L[K],L[K]=L[re],L[re]=le);ce=G}ce++}}},F=function(T,C,L){var X=T.split(""),fe={hiLevel:A};return L||(L=[]),P(X,L,fe),function(le,re,G){if(G.hiLevel!==0&&f)for(var K,Q=0;Q<le.length;Q++)re[Q]===1&&(K=E.indexOf(le[Q]))>=0&&(le[Q]=E[K+1])}(X,L,fe),D(2,X,C,L,fe),D(1,X,C,L,fe),X.join("")};return this.__bidiEngine__.doBidiReorder=function(T,C,L){if(function(fe,le){if(le)for(var re=0;re<fe.length;re++)le[re]=re;a===void 0&&(a=q(fe)),c===void 0&&(c=q(fe))}(T,C),s||!l||c)if(s&&l&&a^c)A=a?1:0,T=R(T,C,L);else if(!s&&l&&c)A=a?1:0,T=F(T,C,L),T=R(T,C);else if(!s||a||l||c){if(s&&!l&&a^c)T=R(T,C),a?(A=0,T=F(T,C,L)):(A=1,T=F(T,C,L),T=R(T,C));else if(s&&a&&!l&&c)A=1,T=F(T,C,L),T=R(T,C);else if(!s&&!l&&a^c){var X=f;a?(A=1,T=F(T,C,L),A=0,f=!1,T=F(T,C,L),f=X):(A=0,T=F(T,C,L),T=R(T,C),A=1,f=!1,T=F(T,C,L),f=X,T=R(T,C))}}else A=0,T=F(T,C,L);else A=a?1:0,T=F(T,C,L);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,l=T.isOutputVisual,a=T.isInputRtl,c=T.isOutputRtl,f=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,o=(r.x,r.y,r.options||{}),s=(r.mutex,o.lang,[]);if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,n.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(s=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?s.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):s.push([n.doBidiReorder(i[a])]);r.text=s}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(st),st.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new yl(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new TM(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new mM(this.contents),this.head=new vM(this),this.name=new xM(this),this.cmap=new XN(this),this.toUnicode={},this.hhea=new yM(this),this.maxp=new SM(this),this.hmtx=new NM(this),this.post=new bM(this),this.os2=new wM(this),this.loca=new PM(this),this.glyf=new EM(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,a,l,c;for(c=[],s=0,a=(l=this.bbox).length;s<a;s++)e=l[s],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,o,s,a;for(s=0,o=0,a=(e=""+e).length;0<=a?o<a:o>a;o=0<=a?++o:--o)i=e.charCodeAt(o),s+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return s*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Lo,yl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,o,s,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),s=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^s)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*o+65536*s+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)n=e[r],o.push(this.writeByte(n));return o},t}(),mM=function(){var t;function e(n){var r,i,o;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,o,s,a,l,c,f,h,g,p,S,b;for(b in p=Object.keys(n).length,l=Math.log(2),h=16*Math.floor(Math.log(p)/l),s=Math.floor(h/l),f=16*p-h,(i=new yl).writeInt(this.scalarType),i.writeShort(p),i.writeShort(h),i.writeShort(s),i.writeShort(f),o=16*p,c=i.pos+o,a=null,S=[],n)for(g=n[b],i.writeString(b),i.writeInt(t(g)),i.writeInt(c),i.writeInt(g.length),S=S.concat(g),b==="head"&&(a=c),c+=g.length;c%4;)S.push(0),c++;return i.write(S),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,o,s;for(n=QN.call(n);n.length%4;)n.push(0);for(o=new yl(n),i=0,r=0,s=n.length;r<s;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),gM={}.hasOwnProperty,fs=function(t,e){for(var n in e)gM.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Lo=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var vM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,Lo),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new yl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),L_=function(){function t(e,n){var r,i,o,s,a,l,c,f,h,g,p,S,b,E,w,_,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),h=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,o=function(){var j,q;for(q=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)q.push(e.readUInt16());return q}(),e.pos+=2,b=function(){var j,q;for(q=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)q.push(e.readUInt16());return q}(),c=function(){var j,q;for(q=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)q.push(e.readUInt16());return q}(),f=function(){var j,q;for(q=[],l=j=0;0<=g?j<g:j>g;l=0<=g?++j:--j)q.push(e.readUInt16());return q}(),i=(this.length-e.pos+this.offset)/2,a=function(){var j,q;for(q=[],l=j=0;0<=i?j<i:j>i;l=0<=i?++j:--j)q.push(e.readUInt16());return q}(),l=w=0,A=o.length;w<A;l=++w)for(E=o[l],r=_=S=b[l];S<=E?_<=E:_>=E;r=S<=E?++_:--_)f[l]===0?s=r+c[l]:(s=a[f[l]/2+(r-S)-(g-l)]||0)!==0&&(s+=c[l]),this.codeMap[r]=65535&s}e.pos=h}return t.encode=function(e,n){var r,i,o,s,a,l,c,f,h,g,p,S,b,E,w,_,A,j,q,Z,R,P,D,F,T,C,L,X,fe,le,re,G,K,Q,ce,M,H,J,ie,se,oe,he,ye,Ae,Se,ke;switch(X=new yl,s=Object.keys(e).sort(function(Me,Ye){return Me-Ye}),n){case"macroman":for(b=0,E=function(){var Me=[];for(S=0;S<256;++S)Me.push(0);return Me}(),_={0:0},o={},fe=0,K=s.length;fe<K;fe++)_[ye=e[i=s[fe]]]==null&&(_[ye]=++b),o[i]={old:e[i],new:_[e[i]]},E[i]=_[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(E),{charMap:o,subtable:X.data,maxGlyphID:b+1};case"unicode":for(C=[],h=[],A=0,_={},r={},w=c=null,le=0,Q=s.length;le<Q;le++)_[q=e[i=s[le]]]==null&&(_[q]=++A),r[i]={old:q,new:_[q]},a=_[q]-i,w!=null&&a===c||(w&&h.push(w),C.push(i),c=a),w=i;for(w&&h.push(w),h.push(65535),C.push(65535),F=2*(D=C.length),P=2*Math.pow(Math.log(D)/Math.LN2,2),g=Math.log(P/2)/Math.LN2,R=2*D-P,l=[],Z=[],p=[],S=re=0,ce=C.length;re<ce;S=++re){if(T=C[S],f=h[S],T===65535){l.push(0),Z.push(0);break}if(T-(L=r[T].new)>=32768)for(l.push(0),Z.push(2*(p.length+D-S)),i=G=T;T<=f?G<=f:G>=f;i=T<=f?++G:--G)p.push(r[i].new);else l.push(L-T),Z.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*D+2*p.length),X.writeUInt16(0),X.writeUInt16(F),X.writeUInt16(P),X.writeUInt16(g),X.writeUInt16(R),oe=0,M=h.length;oe<M;oe++)i=h[oe],X.writeUInt16(i);for(X.writeUInt16(0),he=0,H=C.length;he<H;he++)i=C[he],X.writeUInt16(i);for(Ae=0,J=l.length;Ae<J;Ae++)a=l[Ae],X.writeUInt16(a);for(Se=0,ie=Z.length;Se<ie;Se++)j=Z[Se],X.writeUInt16(j);for(ke=0,se=p.length;ke<se;ke++)b=p[ke],X.writeUInt16(b);return{charMap:r,subtable:X.data,maxGlyphID:A+1}}},t}(),XN=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,Lo),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,o;for(n.pos=this.offset,this.version=n.readUInt16(),o=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new L_(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,o;return r==null&&(r="macroman"),i=L_.encode(n,r),(o=new yl).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e}(),yM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,Lo),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),wM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,Lo),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),bM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,Lo),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,o;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var s;for(i=n.readUInt16(),this.glyphNameIndex=[],s=0;0<=i?s<i:s>i;s=0<=i?++s:--s)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],o=[];n.pos<this.offset+this.length;)r=n.readByte(),o.push(this.names.push(n.readString(r)));return o;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,c;for(c=[],s=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;s=0<=l?++a:--a)c.push(n.readUInt32());return c}).call(this)}},e}(),_M=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,Lo),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,o,s,a,l,c,f,h,g,p;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},s=h=0,g=i.length;h<g;s=++h)o=i[s],n.pos=o.offset,f=n.readString(o.length),a=new _M(f,o),c[p=o.nameID]==null&&(c[p]=[]),c[o.nameID].push(a);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),SM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,Lo),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),NM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,Lo),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,o,s,a,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,h;for(h=[],r=f=0;0<=o?f<o:f>o;r=0<=o?++f:--f)h.push(n.readInt16());return h}(),this.widths=(function(){var f,h,g,p;for(p=[],f=0,h=(g=this.metrics).length;f<h;f++)s=g[f],p.push(s.advance);return p}).call(this),i=this.widths[this.widths.length-1],c=[],r=a=0;0<=o?a<o:a>o;r=0<=o?++a:--a)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),QN=[].slice,EM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,Lo),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,o,s,a,l,c,f,h,g;return n in this.cache?this.cache[n]:(s=this.file.loca,r=this.file.contents,i=s.indexOf(n),(o=s.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new yl(r.read(o))).readShort(),f=l.readShort(),g=l.readShort(),c=l.readShort(),h=l.readShort(),this.cache[n]=a===-1?new CM(l,f,g,c,h):new AM(l,a,f,g,c,h),this.cache[n]))},e.prototype.encode=function(n,r,i){var o,s,a,l,c;for(a=[],s=[],l=0,c=r.length;l<c;l++)o=n[r[l]],s.push(a.length),o&&(a=a.concat(o.encode(i)));return s.push(a.length),{table:a,offsets:s}},e}(),AM=function(){function t(e,n,r,i,o,s){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),CM=function(){function t(e,n,r,i,o){var s,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;a=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&a;)s.pos+=1&a?4:2,128&a?s.pos+=8:64&a?s.pos+=4:8&a&&(s.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new yl(QN.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),PM=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return fs(e,Lo),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=2)s.push(2*n.readUInt16());return s}).call(this):(function(){var o,s;for(s=[],i=0,o=this.length;i<o;i+=4)s.push(n.readUInt32());return s}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),o=0,s=0,a=0;a<i.length;++a)if(i[a]=o,s<r.length&&r[s]==a){++s,i[a]=o;var l=this.offsets[a],c=this.offsets[a+1]-l;c>0&&(o+=c)}for(var f=new Array(4*i.length),h=0;h<i.length;++h)f[4*h+3]=255&i[h],f[4*h+2]=(65280&i[h])>>8,f[4*h+1]=(16711680&i[h])>>16,f[4*h]=(4278190080&i[h])>>24;return f},e}(),TM=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,o;for(n in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,o,s,a,l;for(i={},s=0,a=e.length;s<a;s++)i[o=e[s]]=this.font.glyf.glyphFor(o);for(o in n=[],i)(r=i[o])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(o in l=this.glyphsFor(n))r=l[o],i[o]=r;return i},t.prototype.encode=function(e,n){var r,i,o,s,a,l,c,f,h,g,p,S,b,E,w;for(i in r=XN.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),p={0:0},w=r.charMap)p[(l=w[i]).old]=l.new;for(S in g=r.maxGlyphID,s)S in p||(p[S]=g++);return f=function(_){var A,j;for(A in j={},_)j[_[A]]=A;return j}(p),h=Object.keys(f).sort(function(_,A){return _-A}),b=function(){var _,A,j;for(j=[],_=0,A=h.length;_<A;_++)a=h[_],j.push(f[a]);return j}(),o=this.font.glyf.encode(s,b,p),c=this.font.loca.encode(o.offsets,b),E={cmap:this.font.cmap.raw(),glyf:o.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t}();st.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,o,s;if(Array.isArray(n))return"["+function(){var a,l,c;for(c=[],a=0,l=n.length;a<l;a++)r=n[a],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in o=["<<"],n)s=n[i],o.push("/"+i+" "+e.convert(s));return o.push(">>"),o.join(`
`)}return""+n},e}();var R_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},kM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},ZN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,f=o>>2,h=(o&3)<<4|a>>4;let g=(a&15)<<2|c>>6,p=c&63;l||(p=64,s||(g=64)),r.push(n[f],n[h],n[g],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JN(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||h==null)throw new IM;const g=o<<2|a>>4;if(r.push(g),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const S=c<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class IM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LM=function(t){const e=JN(t);return ZN.encodeByteArray(e,!0)},Wm=function(t){return LM(t).replace(/\./g,"")},eE=function(t){try{return ZN.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=()=>RM().__FIREBASE_DEFAULTS__,DM=()=>{if(typeof process>"u"||typeof R_>"u")return;const t=R_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},MM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eE(t[1]);return e&&JSON.parse(e)},qg=()=>{try{return OM()||DM()||MM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tE=t=>{var e,n;return(n=(e=qg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jM=t=>{const e=tE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nE=()=>{var t;return(t=qg())===null||t===void 0?void 0:t.config},rE=t=>{var e;return(e=qg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wm(JSON.stringify(n)),Wm(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vr())}function UM(){var t;const e=(t=qg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function $M(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function WM(){const t=Vr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function HM(){return!UM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GM(){try{return typeof indexedDB=="object"}catch{return!1}}function YM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KM="FirebaseError";class ia extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=KM,Object.setPrototypeOf(this,ia.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xh.prototype.create)}}class xh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?XM(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ia(i,a,r)}}function XM(t,e){return t.replace(QM,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const QM=/\{\$([^}]+)}/g;function JM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hm(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(O_(o)&&O_(s)){if(!Hm(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function O_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ZM(t,e){const n=new e7(t,e);return n.subscribe.bind(n)}class e7{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");t7(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=S1),i.error===void 0&&(i.error=S1),i.complete===void 0&&(i.complete=S1);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function t7(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function S1(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zi(t){return t&&t._delegate?t._delegate:t}class xc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new FM;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(i7(e))try{this.getOrInitializeService({instanceIdentifier:ic})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ic){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ic){return this.instances.has(e)}getOptions(e=ic){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:r7(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ic){return this.component?this.component.multipleInstances?e:ic:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function r7(t){return t===ic?void 0:t}function i7(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o7{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new n7(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Lt||(Lt={}));const s7={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},a7=Lt.INFO,l7={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},c7=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=l7[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class K2{constructor(e){this.name=e,this._logLevel=a7,this._logHandler=c7,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?s7[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const u7=(t,e)=>e.some(n=>t instanceof n);let D_,M_;function d7(){return D_||(D_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function f7(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const iE=new WeakMap,ny=new WeakMap,oE=new WeakMap,N1=new WeakMap,X2=new WeakMap;function h7(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(cl(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&iE.set(n,t)}).catch(()=>{}),X2.set(e,t),e}function p7(t){if(ny.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});ny.set(t,e)}let ry={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ny.get(t);if(e==="objectStoreNames")return t.objectStoreNames||oE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function m7(t){ry=t(ry)}function g7(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(E1(this),e,...n);return oE.set(r,e.sort?e.sort():[e]),cl(r)}:f7().includes(t)?function(...e){return t.apply(E1(this),e),cl(iE.get(this))}:function(...e){return cl(t.apply(E1(this),e))}}function v7(t){return typeof t=="function"?g7(t):(t instanceof IDBTransaction&&p7(t),u7(t,d7())?new Proxy(t,ry):t)}function cl(t){if(t instanceof IDBRequest)return h7(t);if(N1.has(t))return N1.get(t);const e=v7(t);return e!==t&&(N1.set(t,e),X2.set(e,t)),e}const E1=t=>X2.get(t);function y7(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=cl(s);return r&&s.addEventListener("upgradeneeded",l=>{r(cl(s.result),l.oldVersion,l.newVersion,cl(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const w7=["get","getKey","getAll","getAllKeys","count"],b7=["put","add","delete","clear"],A1=new Map;function j_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(A1.get(e))return A1.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=b7.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||w7.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return A1.set(e,o),o}m7(t=>({...t,get:(e,n,r)=>j_(e,n)||t.get(e,n,r),has:(e,n)=>!!j_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x7(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function x7(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const iy="@firebase/app",F_="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new K2("@firebase/app"),S7="@firebase/app-compat",N7="@firebase/analytics-compat",E7="@firebase/analytics",A7="@firebase/app-check-compat",C7="@firebase/app-check",P7="@firebase/auth",T7="@firebase/auth-compat",k7="@firebase/database",I7="@firebase/data-connect",L7="@firebase/database-compat",R7="@firebase/functions",O7="@firebase/functions-compat",D7="@firebase/installations",M7="@firebase/installations-compat",j7="@firebase/messaging",F7="@firebase/messaging-compat",V7="@firebase/performance",B7="@firebase/performance-compat",U7="@firebase/remote-config",z7="@firebase/remote-config-compat",q7="@firebase/storage",$7="@firebase/storage-compat",W7="@firebase/firestore",H7="@firebase/vertexai",G7="@firebase/firestore-compat",Y7="firebase",K7="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="[DEFAULT]",X7={[iy]:"fire-core",[S7]:"fire-core-compat",[E7]:"fire-analytics",[N7]:"fire-analytics-compat",[C7]:"fire-app-check",[A7]:"fire-app-check-compat",[P7]:"fire-auth",[T7]:"fire-auth-compat",[k7]:"fire-rtdb",[I7]:"fire-data-connect",[L7]:"fire-rtdb-compat",[R7]:"fire-fn",[O7]:"fire-fn-compat",[D7]:"fire-iid",[M7]:"fire-iid-compat",[j7]:"fire-fcm",[F7]:"fire-fcm-compat",[V7]:"fire-perf",[B7]:"fire-perf-compat",[U7]:"fire-rc",[z7]:"fire-rc-compat",[q7]:"fire-gcs",[$7]:"fire-gcs-compat",[W7]:"fire-fst",[G7]:"fire-fst-compat",[H7]:"fire-vertex","fire-js":"fire-js",[Y7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=new Map,Q7=new Map,sy=new Map;function V_(t,e){try{t.container.addComponent(e)}catch(n){Qs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ad(t){const e=t.name;if(sy.has(e))return Qs.debug(`There were multiple attempts to register component ${e}.`),!1;sy.set(e,t);for(const n of Gm.values())V_(n,t);for(const n of Q7.values())V_(n,t);return!0}function Q2(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function _o(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ul=new xh("app","Firebase",J7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new xc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ul.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=K7;function sE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:oy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ul.create("bad-app-name",{appName:String(i)});if(n||(n=nE()),!n)throw ul.create("no-options");const o=Gm.get(i);if(o){if(Hm(n,o.options)&&Hm(r,o.config))return o;throw ul.create("duplicate-app",{appName:i})}const s=new o7(i);for(const l of sy.values())s.addComponent(l);const a=new Z7(n,r,s);return Gm.set(i,a),a}function aE(t=oy){const e=Gm.get(t);if(!e&&t===oy&&nE())return sE();if(!e)throw ul.create("no-app",{appName:t});return e}function dl(t,e,n){var r;let i=(r=X7[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qs.warn(a.join(" "));return}ad(new xc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej="firebase-heartbeat-database",tj=1,nh="firebase-heartbeat-store";let C1=null;function lE(){return C1||(C1=y7(ej,tj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(nh)}catch(n){console.warn(n)}}}}).catch(t=>{throw ul.create("idb-open",{originalErrorMessage:t.message})})),C1}async function nj(t){try{const n=(await lE()).transaction(nh),r=await n.objectStore(nh).get(cE(t));return await n.done,r}catch(e){if(e instanceof ia)Qs.warn(e.message);else{const n=ul.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qs.warn(n.message)}}}async function B_(t,e){try{const r=(await lE()).transaction(nh,"readwrite");await r.objectStore(nh).put(e,cE(t)),await r.done}catch(n){if(n instanceof ia)Qs.warn(n.message);else{const r=ul.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qs.warn(r.message)}}}function cE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=1024,ij=30;class oj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new aj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=U_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>ij){const s=lj(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Qs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=U_(),{heartbeatsToSend:r,unsentEntries:i}=sj(this._heartbeatsCache.heartbeats),o=Wm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Qs.warn(n),""}}}function U_(){return new Date().toISOString().substring(0,10)}function sj(t,e=rj){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),z_(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),z_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class aj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GM()?YM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await nj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return B_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function z_(t){return Wm(JSON.stringify({version:2,heartbeats:t})).length}function lj(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cj(t){ad(new xc("platform-logger",e=>new _7(e),"PRIVATE")),ad(new xc("heartbeat",e=>new oj(e),"PRIVATE")),dl(iy,F_,t),dl(iy,F_,"esm2017"),dl("fire-js","")}cj("");var uj="firebase",dj="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dl(uj,dj,"app");var q_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J2;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,P){function D(){}D.prototype=P.prototype,R.D=P.prototype,R.prototype=new D,R.prototype.constructor=R,R.C=function(F,T,C){for(var L=Array(arguments.length-2),X=2;X<arguments.length;X++)L[X-2]=arguments[X];return P.prototype[T].apply(F,L)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,P,D){D||(D=0);var F=Array(16);if(typeof P=="string")for(var T=0;16>T;++T)F[T]=P.charCodeAt(D++)|P.charCodeAt(D++)<<8|P.charCodeAt(D++)<<16|P.charCodeAt(D++)<<24;else for(T=0;16>T;++T)F[T]=P[D++]|P[D++]<<8|P[D++]<<16|P[D++]<<24;P=R.g[0],D=R.g[1],T=R.g[2];var C=R.g[3],L=P+(C^D&(T^C))+F[0]+3614090360&4294967295;P=D+(L<<7&4294967295|L>>>25),L=C+(T^P&(D^T))+F[1]+3905402710&4294967295,C=P+(L<<12&4294967295|L>>>20),L=T+(D^C&(P^D))+F[2]+606105819&4294967295,T=C+(L<<17&4294967295|L>>>15),L=D+(P^T&(C^P))+F[3]+3250441966&4294967295,D=T+(L<<22&4294967295|L>>>10),L=P+(C^D&(T^C))+F[4]+4118548399&4294967295,P=D+(L<<7&4294967295|L>>>25),L=C+(T^P&(D^T))+F[5]+1200080426&4294967295,C=P+(L<<12&4294967295|L>>>20),L=T+(D^C&(P^D))+F[6]+2821735955&4294967295,T=C+(L<<17&4294967295|L>>>15),L=D+(P^T&(C^P))+F[7]+4249261313&4294967295,D=T+(L<<22&4294967295|L>>>10),L=P+(C^D&(T^C))+F[8]+1770035416&4294967295,P=D+(L<<7&4294967295|L>>>25),L=C+(T^P&(D^T))+F[9]+2336552879&4294967295,C=P+(L<<12&4294967295|L>>>20),L=T+(D^C&(P^D))+F[10]+4294925233&4294967295,T=C+(L<<17&4294967295|L>>>15),L=D+(P^T&(C^P))+F[11]+2304563134&4294967295,D=T+(L<<22&4294967295|L>>>10),L=P+(C^D&(T^C))+F[12]+1804603682&4294967295,P=D+(L<<7&4294967295|L>>>25),L=C+(T^P&(D^T))+F[13]+4254626195&4294967295,C=P+(L<<12&4294967295|L>>>20),L=T+(D^C&(P^D))+F[14]+2792965006&4294967295,T=C+(L<<17&4294967295|L>>>15),L=D+(P^T&(C^P))+F[15]+1236535329&4294967295,D=T+(L<<22&4294967295|L>>>10),L=P+(T^C&(D^T))+F[1]+4129170786&4294967295,P=D+(L<<5&4294967295|L>>>27),L=C+(D^T&(P^D))+F[6]+3225465664&4294967295,C=P+(L<<9&4294967295|L>>>23),L=T+(P^D&(C^P))+F[11]+643717713&4294967295,T=C+(L<<14&4294967295|L>>>18),L=D+(C^P&(T^C))+F[0]+3921069994&4294967295,D=T+(L<<20&4294967295|L>>>12),L=P+(T^C&(D^T))+F[5]+3593408605&4294967295,P=D+(L<<5&4294967295|L>>>27),L=C+(D^T&(P^D))+F[10]+38016083&4294967295,C=P+(L<<9&4294967295|L>>>23),L=T+(P^D&(C^P))+F[15]+3634488961&4294967295,T=C+(L<<14&4294967295|L>>>18),L=D+(C^P&(T^C))+F[4]+3889429448&4294967295,D=T+(L<<20&4294967295|L>>>12),L=P+(T^C&(D^T))+F[9]+568446438&4294967295,P=D+(L<<5&4294967295|L>>>27),L=C+(D^T&(P^D))+F[14]+3275163606&4294967295,C=P+(L<<9&4294967295|L>>>23),L=T+(P^D&(C^P))+F[3]+4107603335&4294967295,T=C+(L<<14&4294967295|L>>>18),L=D+(C^P&(T^C))+F[8]+1163531501&4294967295,D=T+(L<<20&4294967295|L>>>12),L=P+(T^C&(D^T))+F[13]+2850285829&4294967295,P=D+(L<<5&4294967295|L>>>27),L=C+(D^T&(P^D))+F[2]+4243563512&4294967295,C=P+(L<<9&4294967295|L>>>23),L=T+(P^D&(C^P))+F[7]+1735328473&4294967295,T=C+(L<<14&4294967295|L>>>18),L=D+(C^P&(T^C))+F[12]+2368359562&4294967295,D=T+(L<<20&4294967295|L>>>12),L=P+(D^T^C)+F[5]+4294588738&4294967295,P=D+(L<<4&4294967295|L>>>28),L=C+(P^D^T)+F[8]+2272392833&4294967295,C=P+(L<<11&4294967295|L>>>21),L=T+(C^P^D)+F[11]+1839030562&4294967295,T=C+(L<<16&4294967295|L>>>16),L=D+(T^C^P)+F[14]+4259657740&4294967295,D=T+(L<<23&4294967295|L>>>9),L=P+(D^T^C)+F[1]+2763975236&4294967295,P=D+(L<<4&4294967295|L>>>28),L=C+(P^D^T)+F[4]+1272893353&4294967295,C=P+(L<<11&4294967295|L>>>21),L=T+(C^P^D)+F[7]+4139469664&4294967295,T=C+(L<<16&4294967295|L>>>16),L=D+(T^C^P)+F[10]+3200236656&4294967295,D=T+(L<<23&4294967295|L>>>9),L=P+(D^T^C)+F[13]+681279174&4294967295,P=D+(L<<4&4294967295|L>>>28),L=C+(P^D^T)+F[0]+3936430074&4294967295,C=P+(L<<11&4294967295|L>>>21),L=T+(C^P^D)+F[3]+3572445317&4294967295,T=C+(L<<16&4294967295|L>>>16),L=D+(T^C^P)+F[6]+76029189&4294967295,D=T+(L<<23&4294967295|L>>>9),L=P+(D^T^C)+F[9]+3654602809&4294967295,P=D+(L<<4&4294967295|L>>>28),L=C+(P^D^T)+F[12]+3873151461&4294967295,C=P+(L<<11&4294967295|L>>>21),L=T+(C^P^D)+F[15]+530742520&4294967295,T=C+(L<<16&4294967295|L>>>16),L=D+(T^C^P)+F[2]+3299628645&4294967295,D=T+(L<<23&4294967295|L>>>9),L=P+(T^(D|~C))+F[0]+4096336452&4294967295,P=D+(L<<6&4294967295|L>>>26),L=C+(D^(P|~T))+F[7]+1126891415&4294967295,C=P+(L<<10&4294967295|L>>>22),L=T+(P^(C|~D))+F[14]+2878612391&4294967295,T=C+(L<<15&4294967295|L>>>17),L=D+(C^(T|~P))+F[5]+4237533241&4294967295,D=T+(L<<21&4294967295|L>>>11),L=P+(T^(D|~C))+F[12]+1700485571&4294967295,P=D+(L<<6&4294967295|L>>>26),L=C+(D^(P|~T))+F[3]+2399980690&4294967295,C=P+(L<<10&4294967295|L>>>22),L=T+(P^(C|~D))+F[10]+4293915773&4294967295,T=C+(L<<15&4294967295|L>>>17),L=D+(C^(T|~P))+F[1]+2240044497&4294967295,D=T+(L<<21&4294967295|L>>>11),L=P+(T^(D|~C))+F[8]+1873313359&4294967295,P=D+(L<<6&4294967295|L>>>26),L=C+(D^(P|~T))+F[15]+4264355552&4294967295,C=P+(L<<10&4294967295|L>>>22),L=T+(P^(C|~D))+F[6]+2734768916&4294967295,T=C+(L<<15&4294967295|L>>>17),L=D+(C^(T|~P))+F[13]+1309151649&4294967295,D=T+(L<<21&4294967295|L>>>11),L=P+(T^(D|~C))+F[4]+4149444226&4294967295,P=D+(L<<6&4294967295|L>>>26),L=C+(D^(P|~T))+F[11]+3174756917&4294967295,C=P+(L<<10&4294967295|L>>>22),L=T+(P^(C|~D))+F[2]+718787259&4294967295,T=C+(L<<15&4294967295|L>>>17),L=D+(C^(T|~P))+F[9]+3951481745&4294967295,R.g[0]=R.g[0]+P&4294967295,R.g[1]=R.g[1]+(T+(L<<21&4294967295|L>>>11))&4294967295,R.g[2]=R.g[2]+T&4294967295,R.g[3]=R.g[3]+C&4294967295}r.prototype.u=function(R,P){P===void 0&&(P=R.length);for(var D=P-this.blockSize,F=this.B,T=this.h,C=0;C<P;){if(T==0)for(;C<=D;)i(this,R,C),C+=this.blockSize;if(typeof R=="string"){for(;C<P;)if(F[T++]=R.charCodeAt(C++),T==this.blockSize){i(this,F),T=0;break}}else for(;C<P;)if(F[T++]=R[C++],T==this.blockSize){i(this,F),T=0;break}}this.h=T,this.o+=P},r.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var P=1;P<R.length-8;++P)R[P]=0;var D=8*this.o;for(P=R.length-8;P<R.length;++P)R[P]=D&255,D/=256;for(this.u(R),R=Array(16),P=D=0;4>P;++P)for(var F=0;32>F;F+=8)R[D++]=this.g[P]>>>F&255;return R};function o(R,P){var D=a;return Object.prototype.hasOwnProperty.call(D,R)?D[R]:D[R]=P(R)}function s(R,P){this.h=P;for(var D=[],F=!0,T=R.length-1;0<=T;T--){var C=R[T]|0;F&&C==P||(D[T]=C,F=!1)}this.g=D}var a={};function l(R){return-128<=R&&128>R?o(R,function(P){return new s([P|0],0>P?-1:0)}):new s([R|0],0>R?-1:0)}function c(R){if(isNaN(R)||!isFinite(R))return h;if(0>R)return E(c(-R));for(var P=[],D=1,F=0;R>=D;F++)P[F]=R/D|0,D*=4294967296;return new s(P,0)}function f(R,P){if(R.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(R.charAt(0)=="-")return E(f(R.substring(1),P));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=c(Math.pow(P,8)),F=h,T=0;T<R.length;T+=8){var C=Math.min(8,R.length-T),L=parseInt(R.substring(T,T+C),P);8>C?(C=c(Math.pow(P,C)),F=F.j(C).add(c(L))):(F=F.j(D),F=F.add(c(L)))}return F}var h=l(0),g=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(b(this))return-E(this).m();for(var R=0,P=1,D=0;D<this.g.length;D++){var F=this.i(D);R+=(0<=F?F:4294967296+F)*P,P*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(S(this))return"0";if(b(this))return"-"+E(this).toString(R);for(var P=c(Math.pow(R,6)),D=this,F="";;){var T=j(D,P).g;D=w(D,T.j(P));var C=((0<D.g.length?D.g[0]:D.h)>>>0).toString(R);if(D=T,S(D))return C+F;for(;6>C.length;)C="0"+C;F=C+F}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function S(R){if(R.h!=0)return!1;for(var P=0;P<R.g.length;P++)if(R.g[P]!=0)return!1;return!0}function b(R){return R.h==-1}t.l=function(R){return R=w(this,R),b(R)?-1:S(R)?0:1};function E(R){for(var P=R.g.length,D=[],F=0;F<P;F++)D[F]=~R.g[F];return new s(D,~R.h).add(g)}t.abs=function(){return b(this)?E(this):this},t.add=function(R){for(var P=Math.max(this.g.length,R.g.length),D=[],F=0,T=0;T<=P;T++){var C=F+(this.i(T)&65535)+(R.i(T)&65535),L=(C>>>16)+(this.i(T)>>>16)+(R.i(T)>>>16);F=L>>>16,C&=65535,L&=65535,D[T]=L<<16|C}return new s(D,D[D.length-1]&-2147483648?-1:0)};function w(R,P){return R.add(E(P))}t.j=function(R){if(S(this)||S(R))return h;if(b(this))return b(R)?E(this).j(E(R)):E(E(this).j(R));if(b(R))return E(this.j(E(R)));if(0>this.l(p)&&0>R.l(p))return c(this.m()*R.m());for(var P=this.g.length+R.g.length,D=[],F=0;F<2*P;F++)D[F]=0;for(F=0;F<this.g.length;F++)for(var T=0;T<R.g.length;T++){var C=this.i(F)>>>16,L=this.i(F)&65535,X=R.i(T)>>>16,fe=R.i(T)&65535;D[2*F+2*T]+=L*fe,_(D,2*F+2*T),D[2*F+2*T+1]+=C*fe,_(D,2*F+2*T+1),D[2*F+2*T+1]+=L*X,_(D,2*F+2*T+1),D[2*F+2*T+2]+=C*X,_(D,2*F+2*T+2)}for(F=0;F<P;F++)D[F]=D[2*F+1]<<16|D[2*F];for(F=P;F<2*P;F++)D[F]=0;return new s(D,0)};function _(R,P){for(;(R[P]&65535)!=R[P];)R[P+1]+=R[P]>>>16,R[P]&=65535,P++}function A(R,P){this.g=R,this.h=P}function j(R,P){if(S(P))throw Error("division by zero");if(S(R))return new A(h,h);if(b(R))return P=j(E(R),P),new A(E(P.g),E(P.h));if(b(P))return P=j(R,E(P)),new A(E(P.g),P.h);if(30<R.g.length){if(b(R)||b(P))throw Error("slowDivide_ only works with positive integers.");for(var D=g,F=P;0>=F.l(R);)D=q(D),F=q(F);var T=Z(D,1),C=Z(F,1);for(F=Z(F,2),D=Z(D,2);!S(F);){var L=C.add(F);0>=L.l(R)&&(T=T.add(D),C=L),F=Z(F,1),D=Z(D,1)}return P=w(R,T.j(P)),new A(T,P)}for(T=h;0<=R.l(P);){for(D=Math.max(1,Math.floor(R.m()/P.m())),F=Math.ceil(Math.log(D)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),C=c(D),L=C.j(P);b(L)||0<L.l(R);)D-=F,C=c(D),L=C.j(P);S(C)&&(C=g),T=T.add(C),R=w(R,L)}return new A(T,R)}t.A=function(R){return j(this,R).h},t.and=function(R){for(var P=Math.max(this.g.length,R.g.length),D=[],F=0;F<P;F++)D[F]=this.i(F)&R.i(F);return new s(D,this.h&R.h)},t.or=function(R){for(var P=Math.max(this.g.length,R.g.length),D=[],F=0;F<P;F++)D[F]=this.i(F)|R.i(F);return new s(D,this.h|R.h)},t.xor=function(R){for(var P=Math.max(this.g.length,R.g.length),D=[],F=0;F<P;F++)D[F]=this.i(F)^R.i(F);return new s(D,this.h^R.h)};function q(R){for(var P=R.g.length+1,D=[],F=0;F<P;F++)D[F]=R.i(F)<<1|R.i(F-1)>>>31;return new s(D,R.h)}function Z(R,P){var D=P>>5;P%=32;for(var F=R.g.length-D,T=[],C=0;C<F;C++)T[C]=0<P?R.i(C+D)>>>P|R.i(C+D+1)<<32-P:R.i(C+D);return new s(T,R.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,J2=s}).apply(typeof q_<"u"?q_:typeof self<"u"?self:typeof window<"u"?window:{});var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uE,mf,dE,im,ay,fE,hE,pE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,N,I){return d==Array.prototype||d==Object.prototype||(d[N]=I.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ap=="object"&&Ap];for(var N=0;N<d.length;++N){var I=d[N];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function i(d,N){if(N)e:{var I=r;d=d.split(".");for(var $=0;$<d.length-1;$++){var me=d[$];if(!(me in I))break e;I=I[me]}d=d[d.length-1],$=I[d],N=N($),N!=$&&N!=null&&e(I,d,{configurable:!0,writable:!0,value:N})}}function o(d,N){d instanceof String&&(d+="");var I=0,$=!1,me={next:function(){if(!$&&I<d.length){var _e=I++;return{value:N(_e,d[_e]),done:!1}}return $=!0,{done:!0,value:void 0}}};return me[Symbol.iterator]=function(){return me},me}i("Array.prototype.values",function(d){return d||function(){return o(this,function(N,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(d){var N=typeof d;return N=N!="object"?N:d?Array.isArray(d)?"array":N:"null",N=="array"||N=="object"&&typeof d.length=="number"}function c(d){var N=typeof d;return N=="object"&&d!=null||N=="function"}function f(d,N,I){return d.call.apply(d.bind,arguments)}function h(d,N,I){if(!d)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var me=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(me,$),d.apply(N,me)}}return function(){return d.apply(N,arguments)}}function g(d,N,I){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:h,g.apply(null,arguments)}function p(d,N){var I=Array.prototype.slice.call(arguments,1);return function(){var $=I.slice();return $.push.apply($,arguments),d.apply(this,$)}}function S(d,N){function I(){}I.prototype=N.prototype,d.aa=N.prototype,d.prototype=new I,d.prototype.constructor=d,d.Qb=function($,me,_e){for(var De=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)De[mt-2]=arguments[mt];return N.prototype[me].apply($,De)}}function b(d){const N=d.length;if(0<N){const I=Array(N);for(let $=0;$<N;$++)I[$]=d[$];return I}return[]}function E(d,N){for(let I=1;I<arguments.length;I++){const $=arguments[I];if(l($)){const me=d.length||0,_e=$.length||0;d.length=me+_e;for(let De=0;De<_e;De++)d[me+De]=$[De]}else d.push($)}}class w{constructor(N,I){this.i=N,this.j=I,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}function _(d){return/^[\s\xa0]*$/.test(d)}function A(){var d=a.navigator;return d&&(d=d.userAgent)?d:""}function j(d){return j[" "](d),d}j[" "]=function(){};var q=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function Z(d,N,I){for(const $ in d)N.call(I,d[$],$,d)}function R(d,N){for(const I in d)N.call(void 0,d[I],I,d)}function P(d){const N={};for(const I in d)N[I]=d[I];return N}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(d,N){let I,$;for(let me=1;me<arguments.length;me++){$=arguments[me];for(I in $)d[I]=$[I];for(let _e=0;_e<D.length;_e++)I=D[_e],Object.prototype.hasOwnProperty.call($,I)&&(d[I]=$[I])}}function T(d){var N=1;d=d.split(":");const I=[];for(;0<N&&d.length;)I.push(d.shift()),N--;return d.length&&I.push(d.join(":")),I}function C(d){a.setTimeout(()=>{throw d},0)}function L(){var d=K;let N=null;return d.g&&(N=d.g,d.g=d.g.next,d.g||(d.h=null),N.next=null),N}class X{constructor(){this.h=this.g=null}add(N,I){const $=fe.get();$.set(N,I),this.h?this.h.next=$:this.g=$,this.h=$}}var fe=new w(()=>new le,d=>d.reset());class le{constructor(){this.next=this.g=this.h=null}set(N,I){this.h=N,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let re,G=!1,K=new X,Q=()=>{const d=a.Promise.resolve(void 0);re=()=>{d.then(ce)}};var ce=()=>{for(var d;d=L();){try{d.h.call(d.g)}catch(I){C(I)}var N=fe;N.j(d),100>N.h&&(N.h++,d.next=N.g,N.g=d)}G=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function H(d,N){this.type=d,this.g=this.target=N,this.defaultPrevented=!1}H.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var d=!1,N=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const I=()=>{};a.addEventListener("test",I,N),a.removeEventListener("test",I,N)}catch{}return d}();function ie(d,N){if(H.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var I=this.type=d.type,$=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=N,N=d.relatedTarget){if(q){e:{try{j(N.nodeName);var me=!0;break e}catch{}me=!1}me||(N=null)}}else I=="mouseover"?N=d.fromElement:I=="mouseout"&&(N=d.toElement);this.relatedTarget=N,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:se[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ie.aa.h.call(this)}}S(ie,H);var se={2:"touch",3:"pen",4:"mouse"};ie.prototype.h=function(){ie.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),he=0;function ye(d,N,I,$,me){this.listener=d,this.proxy=null,this.src=N,this.type=I,this.capture=!!$,this.ha=me,this.key=++he,this.da=this.fa=!1}function Ae(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Se(d){this.src=d,this.g={},this.h=0}Se.prototype.add=function(d,N,I,$,me){var _e=d.toString();d=this.g[_e],d||(d=this.g[_e]=[],this.h++);var De=Me(d,N,$,me);return-1<De?(N=d[De],I||(N.fa=!1)):(N=new ye(N,this.src,_e,!!$,me),N.fa=I,d.push(N)),N};function ke(d,N){var I=N.type;if(I in d.g){var $=d.g[I],me=Array.prototype.indexOf.call($,N,void 0),_e;(_e=0<=me)&&Array.prototype.splice.call($,me,1),_e&&(Ae(N),d.g[I].length==0&&(delete d.g[I],d.h--))}}function Me(d,N,I,$){for(var me=0;me<d.length;++me){var _e=d[me];if(!_e.da&&_e.listener==N&&_e.capture==!!I&&_e.ha==$)return me}return-1}var Ye="closure_lm_"+(1e6*Math.random()|0),xe={};function ne(d,N,I,$,me){if(Array.isArray(N)){for(var _e=0;_e<N.length;_e++)ne(d,N[_e],I,$,me);return null}return I=ft(I),d&&d[oe]?d.K(N,I,c($)?!!$.capture:!1,me):rt(d,N,I,!1,$,me)}function rt(d,N,I,$,me,_e){if(!N)throw Error("Invalid event type");var De=c(me)?!!me.capture:!!me,mt=Je(d);if(mt||(d[Ye]=mt=new Se(d)),I=mt.add(N,I,$,De,_e),I.proxy)return I;if($=Ke(),I.proxy=$,$.src=d,$.listener=I,d.addEventListener)J||(me=De),me===void 0&&(me=!1),d.addEventListener(N.toString(),$,me);else if(d.attachEvent)d.attachEvent(qe(N.toString()),$);else if(d.addListener&&d.removeListener)d.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Ke(){function d(I){return N.call(d.src,d.listener,I)}const N=Be;return d}function Oe(d,N,I,$,me){if(Array.isArray(N))for(var _e=0;_e<N.length;_e++)Oe(d,N[_e],I,$,me);else $=c($)?!!$.capture:!!$,I=ft(I),d&&d[oe]?(d=d.i,N=String(N).toString(),N in d.g&&(_e=d.g[N],I=Me(_e,I,$,me),-1<I&&(Ae(_e[I]),Array.prototype.splice.call(_e,I,1),_e.length==0&&(delete d.g[N],d.h--)))):d&&(d=Je(d))&&(N=d.g[N.toString()],d=-1,N&&(d=Me(N,I,$,me)),(I=-1<d?N[d]:null)&&Ve(I))}function Ve(d){if(typeof d!="number"&&d&&!d.da){var N=d.src;if(N&&N[oe])ke(N.i,d);else{var I=d.type,$=d.proxy;N.removeEventListener?N.removeEventListener(I,$,d.capture):N.detachEvent?N.detachEvent(qe(I),$):N.addListener&&N.removeListener&&N.removeListener($),(I=Je(N))?(ke(I,d),I.h==0&&(I.src=null,N[Ye]=null)):Ae(d)}}}function qe(d){return d in xe?xe[d]:xe[d]="on"+d}function Be(d,N){if(d.da)d=!0;else{N=new ie(N,this);var I=d.listener,$=d.ha||d.src;d.fa&&Ve(d),d=I.call($,N)}return d}function Je(d){return d=d[Ye],d instanceof Se?d:null}var at="__closure_events_fn_"+(1e9*Math.random()>>>0);function ft(d){return typeof d=="function"?d:(d[at]||(d[at]=function(N){return d.handleEvent(N)}),d[at])}function et(){M.call(this),this.i=new Se(this),this.M=this,this.F=null}S(et,M),et.prototype[oe]=!0,et.prototype.removeEventListener=function(d,N,I,$){Oe(this,d,N,I,$)};function tt(d,N){var I,$=d.F;if($)for(I=[];$;$=$.F)I.push($);if(d=d.M,$=N.type||N,typeof N=="string")N=new H(N,d);else if(N instanceof H)N.target=N.target||d;else{var me=N;N=new H($,d),F(N,me)}if(me=!0,I)for(var _e=I.length-1;0<=_e;_e--){var De=N.g=I[_e];me=Rt(De,$,!0,N)&&me}if(De=N.g=d,me=Rt(De,$,!0,N)&&me,me=Rt(De,$,!1,N)&&me,I)for(_e=0;_e<I.length;_e++)De=N.g=I[_e],me=Rt(De,$,!1,N)&&me}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var d=this.i,N;for(N in d.g){for(var I=d.g[N],$=0;$<I.length;$++)Ae(I[$]);delete d.g[N],d.h--}}this.F=null},et.prototype.K=function(d,N,I,$){return this.i.add(String(d),N,!1,I,$)},et.prototype.L=function(d,N,I,$){return this.i.add(String(d),N,!0,I,$)};function Rt(d,N,I,$){if(N=d.i.g[String(N)],!N)return!0;N=N.concat();for(var me=!0,_e=0;_e<N.length;++_e){var De=N[_e];if(De&&!De.da&&De.capture==I){var mt=De.listener,kt=De.ha||De.src;De.fa&&ke(d.i,De),me=mt.call(kt,$)!==!1&&me}}return me&&!$.defaultPrevented}function it(d,N,I){if(typeof d=="function")I&&(d=g(d,I));else if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(N)?-1:a.setTimeout(d,N||0)}function yt(d){d.g=it(()=>{d.g=null,d.i&&(d.i=!1,yt(d))},d.l);const N=d.h;d.h=null,d.m.apply(null,N)}class $e extends M{constructor(N,I){super(),this.m=N,this.l=I,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:yt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fn(d){M.call(this),this.h=d,this.g={}}S(fn,M);var Nt=[];function hn(d){Z(d.g,function(N,I){this.g.hasOwnProperty(I)&&Ve(N)},d),d.g={}}fn.prototype.N=function(){fn.aa.N.call(this),hn(this)},fn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ht=a.JSON.stringify,Et=a.JSON.parse,Un=class{stringify(d){return a.JSON.stringify(d,void 0)}parse(d){return a.JSON.parse(d,void 0)}};function wt(){}wt.prototype.h=null;function _r(d){return d.h||(d.h=d.i())}function qt(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xr(){H.call(this,"d")}S(xr,H);function Ht(){H.call(this,"c")}S(Ht,H);var nt={},Tt=null;function Zr(){return Tt=Tt||new et}nt.La="serverreachability";function pn(d){H.call(this,nt.La,d)}S(pn,H);function Jn(d){const N=Zr();tt(N,new pn(N))}nt.STAT_EVENT="statevent";function Zn(d,N){H.call(this,nt.STAT_EVENT,d),this.stat=N}S(Zn,H);function He(d){const N=Zr();tt(N,new Zn(N,d))}nt.Ma="timingevent";function Sr(d,N){H.call(this,nt.Ma,d),this.size=N}S(Sr,H);function er(d,N){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){d()},N)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function Ot(d,N,I,$,me,_e){d.info(function(){if(d.g)if(_e)for(var De="",mt=_e.split("&"),kt=0;kt<mt.length;kt++){var gt=mt[kt].split("=");if(1<gt.length){var Wt=gt[0];gt=gt[1];var nn=Wt.split("_");De=2<=nn.length&&nn[1]=="type"?De+(Wt+"="+gt+"&"):De+(Wt+"=redacted&")}}else De=null;else De=_e;return"XMLHTTP REQ ("+$+") [attempt "+me+"]: "+N+`
`+I+`
`+De})}function sn(d,N,I,$,me,_e,De){d.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+me+"]: "+N+`
`+I+`
`+_e+" "+De})}function Cn(d,N,I,$){d.info(function(){return"XMLHTTP TEXT ("+N+"): "+yi(d,I)+($?" "+$:"")})}function Oo(d,N){d.info(function(){return"TIMEOUT: "+N})}An.prototype.info=function(){};function yi(d,N){if(!d.g)return N;if(!N)return null;try{var I=JSON.parse(N);if(I){for(d=0;d<I.length;d++)if(Array.isArray(I[d])){var $=I[d];if(!(2>$.length)){var me=$[1];if(Array.isArray(me)&&!(1>me.length)){var _e=me[0];if(_e!="noop"&&_e!="stop"&&_e!="close")for(var De=1;De<me.length;De++)me[De]=""}}}}return ht(I)}catch{return N}}var tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zr;function qr(){}S(qr,wt),qr.prototype.g=function(){return new XMLHttpRequest},qr.prototype.i=function(){return{}},zr=new qr;function On(d,N,I,$){this.j=d,this.i=N,this.l=I,this.R=$||1,this.U=new fn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wi}function wi(){this.i=null,this.g="",this.h=!1}var Do={},Mo={};function jo(d,N,I){d.L=1,d.v=bs($r(N)),d.m=I,d.P=!0,ms(d,null)}function ms(d,N){d.F=Date.now(),sa(d),d.A=$r(d.v);var I=d.A,$=d.R;Array.isArray($)||($=[String($)]),ct(I.i,"t",$),d.C=0,I=d.j.J,d.h=new wi,d.g=V(d.j,I?N:null,!d.m),0<d.O&&(d.M=new $e(g(d.Y,d,d.g),d.O)),N=d.U,I=d.g,$=d.ca;var me="readystatechange";Array.isArray(me)||(me&&(Nt[0]=me.toString()),me=Nt);for(var _e=0;_e<me.length;_e++){var De=ne(I,me[_e],$||N.handleEvent,!1,N.h||N);if(!De)break;N.g[De.key]=De}N=d.H?P(d.H):{},d.m?(d.u||(d.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,N)):(d.u="GET",d.g.ea(d.A,d.u,null,N)),Jn(),Ot(d.i,d.u,d.A,d.l,d.R,d.m)}On.prototype.ca=function(d){d=d.target;const N=this.M;N&&Yn(d)==3?N.j():this.Y(d)},On.prototype.Y=function(d){try{if(d==this.g)e:{const nn=Yn(this.g);var N=this.g.Ba();const lo=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||Yc(this.g)))){this.J||nn!=4||N==7||(N==8||0>=lo?Jn(3):Jn(2)),Fo(this);var I=this.g.Z();this.X=I;t:if(gs(this)){var $=Yc(this.g);d="";var me=$.length,_e=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){to(this),Vo(this);var De="";break t}this.h.i=new a.TextDecoder}for(N=0;N<me;N++)this.h.h=!0,d+=this.h.i.decode($[N],{stream:!(_e&&N==me-1)});$.length=0,this.h.g+=d,this.C=0,De=this.h.g}else De=this.g.oa();if(this.o=I==200,sn(this.i,this.u,this.A,this.l,this.R,nn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,kt=this.g;if((mt=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(mt)){var gt=mt;break t}}gt=null}if(I=gt)Cn(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vs(this,I);else{this.o=!1,this.s=3,He(12),to(this),Vo(this);break e}}if(this.P){I=!0;let dr;for(;!this.J&&this.C<De.length;)if(dr=Vc(this,De),dr==Mo){nn==4&&(this.s=4,He(14),I=!1),Cn(this.i,this.l,null,"[Incomplete Response]");break}else if(dr==Do){this.s=4,He(15),Cn(this.i,this.l,De,"[Invalid Chunk]"),I=!1;break}else Cn(this.i,this.l,dr,null),vs(this,dr);if(gs(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||De.length!=0||this.h.h||(this.s=1,He(16),I=!1),this.o=this.o&&I,!I)Cn(this.i,this.l,De,"[Invalid Chunked Response]"),to(this),Vo(this);else if(0<De.length&&!this.W){this.W=!0;var Wt=this.j;Wt.g==this&&Wt.ba&&!Wt.M&&(Wt.j.info("Great, no buffering proxy detected. Bytes received: "+De.length),ba(Wt),Wt.M=!0,He(11))}}else Cn(this.i,this.l,De,null),vs(this,De);nn==4&&to(this),this.o&&!this.J&&(nn==4?$o(this.j,this):(this.o=!1,sa(this)))}else zo(this.g),I==400&&0<De.indexOf("Unknown SID")?(this.s=3,He(12)):(this.s=0,He(13)),to(this),Vo(this)}}}catch{}finally{}};function gs(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Vc(d,N){var I=d.C,$=N.indexOf(`
`,I);return $==-1?Mo:(I=Number(N.substring(I,$)),isNaN(I)?Do:($+=1,$+I>N.length?Mo:(N=N.slice($,$+I),d.C=$+I,N)))}On.prototype.cancel=function(){this.J=!0,to(this)};function sa(d){d.S=Date.now()+d.I,Bc(d,d.I)}function Bc(d,N){if(d.B!=null)throw Error("WatchDog timer not null");d.B=er(g(d.ba,d),N)}function Fo(d){d.B&&(a.clearTimeout(d.B),d.B=null)}On.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Oo(this.i,this.A),this.L!=2&&(Jn(),He(17)),to(this),this.s=2,Vo(this)):Bc(this,this.S-d)};function Vo(d){d.j.G==0||d.J||$o(d.j,d)}function to(d){Fo(d);var N=d.M;N&&typeof N.ma=="function"&&N.ma(),d.M=null,hn(d.U),d.g&&(N=d.g,d.g=null,N.abort(),N.ma())}function vs(d,N){try{var I=d.j;if(I.G!=0&&(I.g==d||Dl(I.h,d))){if(!d.K&&Dl(I.h,d)&&I.G==3){try{var $=I.Da.g.parse(N)}catch{$=null}if(Array.isArray($)&&$.length==3){var me=$;if(me[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<d.F)ao(I),ga(I);else break e;Es(I),He(18)}}else I.za=me[1],0<I.za-I.T&&37500>me[2]&&I.F&&I.v==0&&!I.C&&(I.C=er(g(I.Za,I),6e3));if(1>=ys(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else Nr(I,11)}else if((d.K||I.g==d)&&ao(I),!_(N))for(me=I.Da.g.parse(N),N=0;N<me.length;N++){let gt=me[N];if(I.T=gt[0],gt=gt[1],I.G==2)if(gt[0]=="c"){I.K=gt[1],I.ia=gt[2];const Wt=gt[3];Wt!=null&&(I.la=Wt,I.j.info("VER="+I.la));const nn=gt[4];nn!=null&&(I.Aa=nn,I.j.info("SVER="+I.Aa));const lo=gt[5];lo!=null&&typeof lo=="number"&&0<lo&&($=1.5*lo,I.L=$,I.j.info("backChannelRequestTimeoutMs_="+$)),$=I;const dr=d.g;if(dr){const Wo=dr.g?dr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wo){var _e=$.h;_e.g||Wo.indexOf("spdy")==-1&&Wo.indexOf("quic")==-1&&Wo.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(mn(_e,_e.h),_e.h=null))}if($.D){const Ho=dr.g?dr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&($.ya=Ho,Gt($.I,$.D,Ho))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-d.F,I.j.info("Handshake RTT: "+I.R+"ms")),$=I;var De=d;if($.qa=y($,$.J?$.ia:null,$.W),De.K){Ml($.h,De);var mt=De,kt=$.L;kt&&(mt.I=kt),mt.B&&(Fo(mt),sa(mt)),$.g=De}else wa($);0<I.i.length&&va(I)}else gt[0]!="stop"&&gt[0]!="close"||Nr(I,7);else I.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?Nr(I,7):so(I):gt[0]!="noop"&&I.l&&I.l.ta(gt),I.v=0)}}Jn(4)}catch{}}var Id=class{constructor(d,N){this.g=d,this.map=N}};function Ol(d){this.l=d||10,a.PerformanceNavigationTiming?(d=a.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uc(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function ys(d){return d.h?1:d.g?d.g.size:0}function Dl(d,N){return d.h?d.h==N:d.g?d.g.has(N):!1}function mn(d,N){d.g?d.g.add(N):d.h=N}function Ml(d,N){d.h&&d.h==N?d.h=null:d.g&&d.g.has(N)&&d.g.delete(N)}Ol.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function jl(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let N=d.i;for(const I of d.g.values())N=N.concat(I.D);return N}return b(d.i)}function zc(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var N=[],I=d.length,$=0;$<I;$++)N.push(d[$]);return N}N=[],I=0;for($ in d)N[I++]=d[$];return N}function Fl(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var N=[];d=d.length;for(var I=0;I<d;I++)N.push(I);return N}N=[],I=0;for(const $ in d)N[I++]=$;return N}}}function qc(d,N){if(d.forEach&&typeof d.forEach=="function")d.forEach(N,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,N,void 0);else for(var I=Fl(d),$=zc(d),me=$.length,_e=0;_e<me;_e++)N.call(void 0,$[_e],I&&I[_e],d)}var ti=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function aa(d,N){if(d){d=d.split("&");for(var I=0;I<d.length;I++){var $=d[I].indexOf("="),me=null;if(0<=$){var _e=d[I].substring(0,$);me=d[I].substring($+1)}else _e=d[I];N(_e,me?decodeURIComponent(me.replace(/\+/g," ")):"")}}}function Pn(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Pn){this.h=d.h,ws(this,d.j),this.o=d.o,this.g=d.g,la(this,d.s),this.l=d.l;var N=d.i,I=new Bo;I.i=N.i,N.g&&(I.g=new Map(N.g),I.h=N.h),Vl(this,I),this.m=d.m}else d&&(N=String(d).match(ti))?(this.h=!1,ws(this,N[1]||"",!0),this.o=_s(N[2]||""),this.g=_s(N[3]||"",!0),la(this,N[4]),this.l=_s(N[5]||"",!0),Vl(this,N[6]||"",!0),this.m=_s(N[7]||"")):(this.h=!1,this.i=new Bo(null,this.h))}Pn.prototype.toString=function(){var d=[],N=this.j;N&&d.push(no(N,$c,!0),":");var I=this.g;return(I||N=="file")&&(d.push("//"),(N=this.o)&&d.push(no(N,$c,!0),"@"),d.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&d.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&d.push("/"),d.push(no(I,I.charAt(0)=="/"?ro:Rd,!0))),(I=this.i.toString())&&d.push("?",I),(I=this.m)&&d.push("#",no(I,ua)),d.join("")};function $r(d){return new Pn(d)}function ws(d,N,I){d.j=I?_s(N,!0):N,d.j&&(d.j=d.j.replace(/:$/,""))}function la(d,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);d.s=N}else d.s=null}function Vl(d,N,I){N instanceof Bo?(d.i=N,Od(d.i,d.h)):(I||(N=no(N,ca)),d.i=new Bo(N,d.h))}function Gt(d,N,I){d.i.set(N,I)}function bs(d){return Gt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function _s(d,N){return d?N?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function no(d,N,I){return typeof d=="string"?(d=encodeURI(d).replace(N,Ld),I&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ld(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var $c=/[#\/\?@]/g,Rd=/[#\?:]/g,ro=/[#\?]/g,ca=/[#\?@]/g,ua=/#/g;function Bo(d,N){this.h=this.g=null,this.i=d||null,this.j=!!N}function gn(d){d.g||(d.g=new Map,d.h=0,d.i&&aa(d.i,function(N,I){d.add(decodeURIComponent(N.replace(/\+/g," ")),I)}))}t=Bo.prototype,t.add=function(d,N){gn(this),this.i=null,d=Uo(this,d);var I=this.g.get(d);return I||this.g.set(d,I=[]),I.push(N),this.h+=1,this};function Wc(d,N){gn(d),N=Uo(d,N),d.g.has(N)&&(d.i=null,d.h-=d.g.get(N).length,d.g.delete(N))}function Bl(d,N){return gn(d),N=Uo(d,N),d.g.has(N)}t.forEach=function(d,N){gn(this),this.g.forEach(function(I,$){I.forEach(function(me){d.call(N,me,$,this)},this)},this)},t.na=function(){gn(this);const d=Array.from(this.g.values()),N=Array.from(this.g.keys()),I=[];for(let $=0;$<N.length;$++){const me=d[$];for(let _e=0;_e<me.length;_e++)I.push(N[$])}return I},t.V=function(d){gn(this);let N=[];if(typeof d=="string")Bl(this,d)&&(N=N.concat(this.g.get(Uo(this,d))));else{d=Array.from(this.g.values());for(let I=0;I<d.length;I++)N=N.concat(d[I])}return N},t.set=function(d,N){return gn(this),this.i=null,d=Uo(this,d),Bl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[N]),this.h+=1,this},t.get=function(d,N){return d?(d=this.V(d),0<d.length?String(d[0]):N):N};function ct(d,N,I){Wc(d,N),0<I.length&&(d.i=null,d.g.set(Uo(d,N),b(I)),d.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],N=Array.from(this.g.keys());for(var I=0;I<N.length;I++){var $=N[I];const _e=encodeURIComponent(String($)),De=this.V($);for($=0;$<De.length;$++){var me=_e;De[$]!==""&&(me+="="+encodeURIComponent(String(De[$]))),d.push(me)}}return this.i=d.join("&")};function Uo(d,N){return N=String(N),d.j&&(N=N.toLowerCase()),N}function Od(d,N){N&&!d.j&&(gn(d),d.i=null,d.g.forEach(function(I,$){var me=$.toLowerCase();$!=me&&(Wc(this,$),ct(this,me,I))},d)),d.j=N}function Fi(d,N){const I=new An;if(a.Image){const $=new Image;$.onload=p(bi,I,"TestLoadImage: loaded",!0,N,$),$.onerror=p(bi,I,"TestLoadImage: error",!1,N,$),$.onabort=p(bi,I,"TestLoadImage: abort",!1,N,$),$.ontimeout=p(bi,I,"TestLoadImage: timeout",!1,N,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=d}else N(!1)}function Hc(d,N){const I=new An,$=new AbortController,me=setTimeout(()=>{$.abort(),bi(I,"TestPingServer: timeout",!1,N)},1e4);fetch(d,{signal:$.signal}).then(_e=>{clearTimeout(me),_e.ok?bi(I,"TestPingServer: ok",!0,N):bi(I,"TestPingServer: server error",!1,N)}).catch(()=>{clearTimeout(me),bi(I,"TestPingServer: error",!1,N)})}function bi(d,N,I,$,me){try{me&&(me.onload=null,me.onerror=null,me.onabort=null,me.ontimeout=null),$(I)}catch{}}function da(){this.g=new Un}function Ul(d,N,I){const $=I||"";try{qc(d,function(me,_e){let De=me;c(me)&&(De=ht(me)),N.push($+_e+"="+encodeURIComponent(De))})}catch(me){throw N.push($+"type="+encodeURIComponent("_badmap")),me}}function fa(d){this.l=d.Ub||null,this.j=d.eb||!1}S(fa,wt),fa.prototype.g=function(){return new ha(this.l,this.j)},fa.prototype.i=function(d){return function(){return d}}({});function ha(d,N){et.call(this),this.D=d,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(ha,et),t=ha.prototype,t.open=function(d,N){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=N,this.readyState=1,_i(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(N.body=d),(this.D||a).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,io(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,_i(this)),this.g&&(this.readyState=3,_i(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var N=d.value?d.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!d.done}))&&(this.response=this.responseText+=N)}d.done?io(this):_i(this),this.readyState==3&&Gc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,io(this))},t.Qa=function(d){this.g&&(this.response=d,io(this))},t.ga=function(){this.g&&io(this)};function io(d){d.readyState=4,d.l=null,d.j=null,d.v=null,_i(d)}t.setRequestHeader=function(d,N){this.u.append(d,N)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],N=this.h.entries();for(var I=N.next();!I.done;)I=I.value,d.push(I[0]+": "+I[1]),I=N.next();return d.join(`\r
`)};function _i(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function oo(d){let N="";return Z(d,function(I,$){N+=$,N+=":",N+=I,N+=`\r
`}),N}function zl(d,N,I){e:{for($ in I){var $=!1;break e}$=!0}$||(I=oo(I),typeof d=="string"?I!=null&&encodeURIComponent(String(I)):Gt(d,N,I))}function $t(d){et.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S($t,et);var ql=/^https?$/i,pa=["POST","PUT"];t=$t.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,N,I,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);N=N?N.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zr.g(),this.v=this.o?_r(this.o):_r(zr),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(N,String(d),!0),this.B=!1}catch(_e){$l(this,_e);return}if(d=I||"",I=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var me in $)I.set(me,$[me]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const _e of $.keys())I.set(_e,$.get(_e));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(I.keys()).find(_e=>_e.toLowerCase()=="content-type"),me=a.FormData&&d instanceof a.FormData,!(0<=Array.prototype.indexOf.call(pa,N,void 0))||$||me||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,De]of I)this.g.setRequestHeader(_e,De);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xi(this),this.u=!0,this.g.send(d),this.u=!1}catch(_e){$l(this,_e)}};function $l(d,N){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=N,d.m=5,Wl(d),xs(d)}function Wl(d){d.A||(d.A=!0,tt(d,"complete"),tt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,tt(this,"complete"),tt(this,"abort"),xs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xs(this,!0)),$t.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Hl(this):this.bb())},t.bb=function(){Hl(this)};function Hl(d){if(d.h&&typeof s<"u"&&(!d.v[1]||Yn(d)!=4||d.Z()!=2)){if(d.u&&Yn(d)==4)it(d.Ea,0,d);else if(tt(d,"readystatechange"),Yn(d)==4){d.h=!1;try{const De=d.Z();e:switch(De){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var I;if(!(I=N)){var $;if($=De===0){var me=String(d.D).match(ti)[1]||null;!me&&a.self&&a.self.location&&(me=a.self.location.protocol.slice(0,-1)),$=!ql.test(me?me.toLowerCase():"")}I=$}if(I)tt(d,"complete"),tt(d,"success");else{d.m=6;try{var _e=2<Yn(d)?d.g.statusText:""}catch{_e=""}d.l=_e+" ["+d.Z()+"]",Wl(d)}}finally{xs(d)}}}}function xs(d,N){if(d.g){xi(d);const I=d.g,$=d.v[0]?()=>{}:null;d.g=null,d.v=null,N||tt(d,"ready");try{I.onreadystatechange=$}catch{}}}function xi(d){d.I&&(a.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function Yn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var N=this.g.responseText;return d&&N.indexOf(d)==0&&(N=N.substring(d.length)),Et(N)}};function Yc(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function zo(d){const N={};d=(d.g&&2<=Yn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<d.length;$++){if(_(d[$]))continue;var I=T(d[$]);const me=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const _e=N[me]||[];N[me]=_e,_e.push(I)}R(N,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ur(d,N,I){return I&&I.internalChannelParams&&I.internalChannelParams[d]||N}function ma(d){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ur("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ur("baseRetryDelayMs",5e3,d),this.cb=ur("retryDelaySeedMs",1e4,d),this.Wa=ur("forwardChannelMaxRetries",2,d),this.wa=ur("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Ol(d&&d.concurrentRequestLimit),this.Da=new da,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ma.prototype,t.la=8,t.G=1,t.connect=function(d,N,I,$){He(0),this.W=d,this.H=N||{},I&&$!==void 0&&(this.H.OSID=I,this.H.OAID=$),this.F=this.X,this.I=y(this,null,this.W),va(this)};function so(d){if(Ss(d),d.G==3){var N=d.U++,I=$r(d.I);if(Gt(I,"SID",d.K),Gt(I,"RID",N),Gt(I,"TYPE","terminate"),qo(d,I),N=new On(d,d.j,N),N.L=2,N.v=bs($r(I)),I=!1,a.navigator&&a.navigator.sendBeacon)try{I=a.navigator.sendBeacon(N.v.toString(),"")}catch{}!I&&a.Image&&(new Image().src=N.v,I=!0),I||(N.g=V(N.j,null),N.g.ea(N.v)),N.F=Date.now(),sa(N)}xa(d)}function ga(d){d.g&&(ba(d),d.g.cancel(),d.g=null)}function Ss(d){ga(d),d.u&&(a.clearTimeout(d.u),d.u=null),ao(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&a.clearTimeout(d.s),d.s=null)}function va(d){if(!Uc(d.h)&&!d.s){d.s=!0;var N=d.Ga;re||Q(),G||(re(),G=!0),K.add(N,d),d.B=0}}function Gl(d,N){return ys(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=N.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=er(g(d.Ga,d,N),_a(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const me=new On(this,this.j,d);let _e=this.o;if(this.S&&(_e?(_e=P(_e),F(_e,this.S)):_e=this.S),this.m!==null||this.O||(me.H=_e,_e=null),this.P)e:{for(var N=0,I=0;I<this.i.length;I++){t:{var $=this.i[I];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(N+=$,4096<N){N=I;break e}if(N===4096||I===this.i.length-1){N=I+1;break e}}N=1e3}else N=1e3;N=Ns(this,me,N),I=$r(this.I),Gt(I,"RID",d),Gt(I,"CVER",22),this.D&&Gt(I,"X-HTTP-Session-Id",this.D),qo(this,I),_e&&(this.O?N="headers="+encodeURIComponent(String(oo(_e)))+"&"+N:this.m&&zl(I,this.m,_e)),mn(this.h,me),this.Ua&&Gt(I,"TYPE","init"),this.P?(Gt(I,"$req",N),Gt(I,"SID","null"),me.T=!0,jo(me,I,null)):jo(me,I,N),this.G=2}}else this.G==3&&(d?ya(this,d):this.i.length==0||Uc(this.h)||ya(this))};function ya(d,N){var I;N?I=N.l:I=d.U++;const $=$r(d.I);Gt($,"SID",d.K),Gt($,"RID",I),Gt($,"AID",d.T),qo(d,$),d.m&&d.o&&zl($,d.m,d.o),I=new On(d,d.j,I,d.B+1),d.m===null&&(I.H=d.o),N&&(d.i=N.D.concat(d.i)),N=Ns(d,I,1e3),I.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),mn(d.h,I),jo(I,$,N)}function qo(d,N){d.H&&Z(d.H,function(I,$){Gt(N,$,I)}),d.l&&qc({},function(I,$){Gt(N,$,I)})}function Ns(d,N,I){I=Math.min(d.i.length,I);var $=d.l?g(d.l.Na,d.l,d):null;e:{var me=d.i;let _e=-1;for(;;){const De=["count="+I];_e==-1?0<I?(_e=me[0].g,De.push("ofs="+_e)):_e=0:De.push("ofs="+_e);let mt=!0;for(let kt=0;kt<I;kt++){let gt=me[kt].g;const Wt=me[kt].map;if(gt-=_e,0>gt)_e=Math.max(0,me[kt].g-100),mt=!1;else try{Ul(Wt,De,"req"+gt+"_")}catch{$&&$(Wt)}}if(mt){$=De.join("&");break e}}}return d=d.i.splice(0,I),N.D=d,$}function wa(d){if(!d.g&&!d.u){d.Y=1;var N=d.Fa;re||Q(),G||(re(),G=!0),K.add(N,d),d.v=0}}function Es(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=er(g(d.Fa,d),_a(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,Kc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=er(g(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,He(10),ga(this),Kc(this))};function ba(d){d.A!=null&&(a.clearTimeout(d.A),d.A=null)}function Kc(d){d.g=new On(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var N=$r(d.qa);Gt(N,"RID","rpc"),Gt(N,"SID",d.K),Gt(N,"AID",d.T),Gt(N,"CI",d.F?"0":"1"),!d.F&&d.ja&&Gt(N,"TO",d.ja),Gt(N,"TYPE","xmlhttp"),qo(d,N),d.m&&d.o&&zl(N,d.m,d.o),d.L&&(d.g.I=d.L);var I=d.g;d=d.ia,I.L=1,I.v=bs($r(N)),I.m=null,I.P=!0,ms(I,d)}t.Za=function(){this.C!=null&&(this.C=null,ga(this),Es(this),He(19))};function ao(d){d.C!=null&&(a.clearTimeout(d.C),d.C=null)}function $o(d,N){var I=null;if(d.g==N){ao(d),ba(d),d.g=null;var $=2}else if(Dl(d.h,N))I=N.D,Ml(d.h,N),$=1;else return;if(d.G!=0){if(N.o)if($==1){I=N.m?N.m.length:0,N=Date.now()-N.F;var me=d.B;$=Zr(),tt($,new Sr($,I)),va(d)}else wa(d);else if(me=N.s,me==3||me==0&&0<N.X||!($==1&&Gl(d,N)||$==2&&Es(d)))switch(I&&0<I.length&&(N=d.h,N.i=N.i.concat(I)),me){case 1:Nr(d,5);break;case 4:Nr(d,10);break;case 3:Nr(d,6);break;default:Nr(d,2)}}}function _a(d,N){let I=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(I*=2),I*N}function Nr(d,N){if(d.j.info("Error code "+N),N==2){var I=g(d.fb,d),$=d.Xa;const me=!$;$=new Pn($||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ws($,"https"),bs($),me?Fi($.toString(),I):Hc($.toString(),I)}else He(2);d.G=0,d.l&&d.l.sa(N),xa(d),Ss(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),He(2)):(this.j.info("Failed to ping google.com"),He(1))};function xa(d){if(d.G=0,d.ka=[],d.l){const N=jl(d.h);(N.length!=0||d.i.length!=0)&&(E(d.ka,N),E(d.ka,d.i),d.h.i.length=0,b(d.i),d.i.length=0),d.l.ra()}}function y(d,N,I){var $=I instanceof Pn?$r(I):new Pn(I);if($.g!="")N&&($.g=N+"."+$.g),la($,$.s);else{var me=a.location;$=me.protocol,N=N?N+"."+me.hostname:me.hostname,me=+me.port;var _e=new Pn(null);$&&ws(_e,$),N&&(_e.g=N),me&&la(_e,me),I&&(_e.l=I),$=_e}return I=d.D,N=d.ya,I&&N&&Gt($,I,N),Gt($,"VER",d.la),qo(d,$),$}function V(d,N,I){if(N&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return N=d.Ca&&!d.pa?new $t(new fa({eb:I})):new $t(d.pa),N.Ha(d.J),N}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function te(){}t=te.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ae(){}ae.prototype.g=function(d,N){return new ge(d,N)};function ge(d,N){et.call(this),this.g=new ma(N),this.l=d,this.h=N&&N.messageUrlParams||null,d=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(d?d["X-WebChannel-Content-Type"]=N.messageContentType:d={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(d?d["X-WebChannel-Client-Profile"]=N.va:d={"X-WebChannel-Client-Profile":N.va}),this.g.S=d,(d=N&&N.Sb)&&!_(d)&&(this.g.m=d),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!_(N)&&(this.g.D=N,d=this.h,d!==null&&N in d&&(d=this.h,N in d&&delete d[N])),this.j=new ze(this)}S(ge,et),ge.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ge.prototype.close=function(){so(this.g)},ge.prototype.o=function(d){var N=this.g;if(typeof d=="string"){var I={};I.__data__=d,d=I}else this.u&&(I={},I.__data__=ht(d),d=I);N.i.push(new Id(N.Ya++,d)),N.G==3&&va(N)},ge.prototype.N=function(){this.g.l=null,delete this.j,so(this.g),delete this.g,ge.aa.N.call(this)};function Ee(d){xr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var N=d.__sm__;if(N){e:{for(const I in N){d=I;break e}d=void 0}(this.i=d)&&(d=this.i,N=N!==null&&d in N?N[d]:void 0),this.data=N}else this.data=d}S(Ee,xr);function Re(){Ht.call(this),this.status=1}S(Re,Ht);function ze(d){this.g=d}S(ze,te),ze.prototype.ua=function(){tt(this.g,"a")},ze.prototype.ta=function(d){tt(this.g,new Ee(d))},ze.prototype.sa=function(d){tt(this.g,new Re)},ze.prototype.ra=function(){tt(this.g,"b")},ae.prototype.createWebChannel=ae.prototype.g,ge.prototype.send=ge.prototype.o,ge.prototype.open=ge.prototype.m,ge.prototype.close=ge.prototype.close,pE=function(){return new ae},hE=function(){return Zr()},fE=nt,ay={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,im=tr,ei.COMPLETE="complete",dE=ei,qt.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",et.prototype.listen=et.prototype.K,mf=qt,$t.prototype.listenOnce=$t.prototype.L,$t.prototype.getLastError=$t.prototype.Ka,$t.prototype.getLastErrorCode=$t.prototype.Ba,$t.prototype.getStatus=$t.prototype.Z,$t.prototype.getResponseJson=$t.prototype.Oa,$t.prototype.getResponseText=$t.prototype.oa,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Ha,uE=$t}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});const $_="@firebase/firestore",W_="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nd="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=new K2("@firebase/firestore");function yu(){return wl.logLevel}function fj(t){wl.setLogLevel(t)}function Ze(t,...e){if(wl.logLevel<=Lt.DEBUG){const n=e.map(Z2);wl.debug(`Firestore (${Nd}): ${t}`,...n)}}function Sc(t,...e){if(wl.logLevel<=Lt.ERROR){const n=e.map(Z2);wl.error(`Firestore (${Nd}): ${t}`,...n)}}function $g(t,...e){if(wl.logLevel<=Lt.WARN){const n=e.map(Z2);wl.warn(`Firestore (${Nd}): ${t}`,...n)}}function Z2(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(t="Unexpected state"){const e=`FIRESTORE (${Nd}) INTERNAL ASSERTION FAILED: `+t;throw Sc(e),new Error(e)}function Rn(t,e){t||At()}function un(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends ia{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rr.UNAUTHENTICATED))}shutdown(){}}class pj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mj{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Rn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new hc;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hc,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hc)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Rn(typeof r.accessToken=="string"),new mE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Rn(e===null||typeof e=="string"),new Rr(e)}}class gj{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class vj{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new gj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yj{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,_o(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Rn(this.o===void 0);const r=o=>{o.error!=null&&Ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Ze("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new H_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Rn(typeof n.token=="string"),this.R=n.token,new H_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=wj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Qt(t,e){return t<e?-1:t>e?1:0}function ld(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_=-62135596800,Y_=1e6;class cr{static now(){return cr.fromMillis(Date.now())}static fromDate(e){return cr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Y_);return new cr(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new dt(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new dt(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<G_)throw new dt(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Y_}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-G_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{static fromTimestamp(e){return new _n(e)}static min(){return new _n(new cr(0,0))}static max(){return new _n(new cr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="__name__";class Qo{constructor(e,n,r){n===void 0?n=0:n>e.length&&At(),r===void 0?r=e.length-n:r>e.length-n&&At(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Qo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Qo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=Qo.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Math.sign(e.length-n.length)}static compareSegments(e,n){const r=Qo.isNumericId(e),i=Qo.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Qo.extractNumericId(e).compare(Qo.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return J2.fromString(e.substring(4,e.length-2))}}class Ln extends Qo{construct(e,n,r){return new Ln(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new dt(Fe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ln(n)}static emptyPath(){return new Ln([])}}const bj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vr extends Qo{construct(e,n,r){return new vr(e,n,r)}static isValidIdentifier(e){return bj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K_}static keyField(){return new vr([K_])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new dt(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new dt(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new dt(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new dt(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vr(n)}static emptyPath(){return new vr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.path=e}static fromPath(e){return new St(Ln.fromString(e))}static fromName(e){return new St(Ln.fromString(e).popFirst(5))}static empty(){return new St(Ln.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ln.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ln.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new St(new Ln(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=-1;function _j(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_n.fromTimestamp(r===1e9?new cr(n+1,0):new cr(n,r));return new bl(i,St.empty(),e)}function xj(t){return new bl(t.readTime,t.key,rh)}class bl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new bl(_n.min(),St.empty(),rh)}static max(){return new bl(_n.max(),St.empty(),rh)}}function Sj(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=St.comparator(t.documentKey,e.documentKey),n!==0?n:Qt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ej{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e5(t){if(t.code!==Fe.FAILED_PRECONDITION||t.message!==Nj)throw t;Ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&At(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ie((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ie?n:Ie.resolve(n)}catch(n){return Ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.reject(n)}static resolve(e){return new Ie((n,r)=>{n(e)})}static reject(e){return new Ie((n,r)=>{r(e)})}static waitFor(e){return new Ie((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Ie.resolve(!1);for(const r of e)n=n.next(i=>i?Ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Ie((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(f=>{s[c]=f,++a,a===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new Ie((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function Aj(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Nh(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}t5.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5=-1;function r5(t){return t==null}function Ym(t){return t===0&&1/t==-1/0}function Cj(t){return typeof t=="number"&&Number.isInteger(t)&&!Ym(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="";function Pj(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=X_(e)),e=Tj(t.get(n),e);return X_(e)}function Tj(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case vE:n+="";break;default:n+=o}}return n}function X_(t){return t+vE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ed(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new gi(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new gi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cp(this.root,e,this.comparator,!0)}}class Cp{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class mr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??mr.RED,this.left=i??mr.EMPTY,this.right=o??mr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new mr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return mr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return mr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,mr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,mr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw At();const e=this.left.check();if(e!==this.right.check())throw At();return e+(this.isRed()?0:1)}}mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw At()}get value(){throw At()}get color(){throw At()}get left(){throw At()}get right(){throw At()}copy(e,n,r,i,o){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.comparator=e,this.data=new gi(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new J_(this.data.getIterator())}getIteratorFrom(e){return new J_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof wr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new wr(this.comparator);return n.data=e,n}}class J_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.fields=e,e.sort(vr.comparator)}static empty(){return new So([])}unionWith(e){let n=new wr(vr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new So(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ld(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new kj("Invalid base64 string: "+o):o}}(e);return new cs(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new cs(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cs.EMPTY_BYTE_STRING=new cs("");const Ij=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nc(t){if(Rn(!!t),typeof t=="string"){let e=0;const n=Ij.exec(t);if(Rn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gr(t.seconds),nanos:gr(t.nanos)}}function gr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cd(t){return typeof t=="string"?cs.fromBase64String(t):cs.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="server_timestamp",bE="__type__",_E="__previous_value__",xE="__local_write_time__";function i5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[bE])===null||n===void 0?void 0:n.stringValue)===wE}function o5(t){const e=t.mapValue.fields[_E];return i5(e)?o5(e):e}function Km(t){const e=Nc(t.mapValue.fields[xE].timestampValue);return new cr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}const Xm="(default)";class Qm{constructor(e,n){this.projectId=e,this.database=n||Xm}static empty(){return new Qm("","")}get isDefaultDatabase(){return this.database===Xm}isEqual(e){return e instanceof Qm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="__type__",Rj="__max__",Pp={mapValue:{}},NE="__vector__",ly="value";function Ec(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?i5(t)?4:Dj(t)?9007199254740991:Oj(t)?10:11:At()}function us(t,e){if(t===e)return!0;const n=Ec(t);if(n!==Ec(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Km(t).isEqual(Km(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Nc(i.timestampValue),a=Nc(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return cd(i.bytesValue).isEqual(cd(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return gr(i.geoPointValue.latitude)===gr(o.geoPointValue.latitude)&&gr(i.geoPointValue.longitude)===gr(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return gr(i.integerValue)===gr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=gr(i.doubleValue),a=gr(o.doubleValue);return s===a?Ym(s)===Ym(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ld(t.arrayValue.values||[],e.arrayValue.values||[],us);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(Q_(s)!==Q_(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!us(s[l],a[l])))return!1;return!0}(t,e);default:return At()}}function ih(t,e){return(t.values||[]).find(n=>us(n,e))!==void 0}function ud(t,e){if(t===e)return 0;const n=Ec(t),r=Ec(e);if(n!==r)return Qt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=gr(o.integerValue||o.doubleValue),l=gr(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Z_(t.timestampValue,e.timestampValue);case 4:return Z_(Km(t),Km(e));case 5:return Qt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=cd(o),l=cd(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const f=Qt(a[c],l[c]);if(f!==0)return f}return Qt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Qt(gr(o.latitude),gr(s.latitude));return a!==0?a:Qt(gr(o.longitude),gr(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ex(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,f;const h=o.fields||{},g=s.fields||{},p=(a=h[ly])===null||a===void 0?void 0:a.arrayValue,S=(l=g[ly])===null||l===void 0?void 0:l.arrayValue,b=Qt(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((f=S==null?void 0:S.values)===null||f===void 0?void 0:f.length)||0);return b!==0?b:ex(p,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Pp.mapValue&&s===Pp.mapValue)return 0;if(o===Pp.mapValue)return 1;if(s===Pp.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},f=Object.keys(c);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const g=Qt(l[h],f[h]);if(g!==0)return g;const p=ud(a[l[h]],c[f[h]]);if(p!==0)return p}return Qt(l.length,f.length)}(t.mapValue,e.mapValue);default:throw At()}}function Z_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qt(t,e);const n=Nc(t),r=Nc(e),i=Qt(n.seconds,r.seconds);return i!==0?i:Qt(n.nanos,r.nanos)}function ex(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=ud(n[i],r[i]);if(o)return o}return Qt(n.length,r.length)}function dd(t){return cy(t)}function cy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Nc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cd(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return St.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=cy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${cy(n.fields[s])}`;return i+"}"}(t.mapValue):At()}function om(t){switch(Ec(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=o5(t);return e?16+om(e):16;case 5:return 2*t.stringValue.length;case 6:return cd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+om(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ed(r.fields,(o,s)=>{i+=o.length+om(s)}),i}(t.mapValue);default:throw At()}}function uy(t){return!!t&&"integerValue"in t}function s5(t){return!!t&&"arrayValue"in t}function sm(t){return!!t&&"mapValue"in t}function Oj(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[SE])===null||n===void 0?void 0:n.stringValue)===NE}function Tf(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ed(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Tf(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Tf(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Dj(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Rj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.value=e}static empty(){return new xo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sm(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tf(n)}setAll(e){let n=vr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Tf(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());sm(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];sm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ed(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new xo(Tf(this.value))}}function EE(t){const e=[];return Ed(t.fields,(n,r)=>{const i=new vr([n]);if(sm(r)){const o=EE(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new So(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new bo(e,0,_n.min(),_n.min(),_n.min(),xo.empty(),0)}static newFoundDocument(e,n,r,i){return new bo(e,1,n,_n.min(),r,i,0)}static newNoDocument(e,n){return new bo(e,2,n,_n.min(),_n.min(),xo.empty(),0)}static newUnknownDocument(e,n){return new bo(e,3,n,_n.min(),_n.min(),xo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_n.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_n.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof bo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new bo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n){this.position=e,this.inclusive=n}}function tx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=St.comparator(St.fromName(s.referenceValue),n.key):r=ud(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!us(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n="asc"){this.field=e,this.dir=n}}function Mj(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{}class ar extends AE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Fj(e,n,r):n==="array-contains"?new Uj(e,r):n==="in"?new zj(e,r):n==="not-in"?new qj(e,r):n==="array-contains-any"?new $j(e,r):new ar(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Vj(e,r):new Bj(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ud(n,this.value)):n!==null&&Ec(this.value)===Ec(n)&&this.matchesComparison(ud(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class _l extends AE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new _l(e,n)}matches(e){return CE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function CE(t){return t.op==="and"}function PE(t){return jj(t)&&CE(t)}function jj(t){for(const e of t.filters)if(e instanceof _l)return!1;return!0}function dy(t){if(t instanceof ar)return t.field.canonicalString()+t.op.toString()+dd(t.value);if(PE(t))return t.filters.map(e=>dy(e)).join(",");{const e=t.filters.map(n=>dy(n)).join(",");return`${t.op}(${e})`}}function TE(t,e){return t instanceof ar?function(r,i){return i instanceof ar&&r.op===i.op&&r.field.isEqual(i.field)&&us(r.value,i.value)}(t,e):t instanceof _l?function(r,i){return i instanceof _l&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&TE(s,i.filters[a]),!0):!1}(t,e):void At()}function kE(t){return t instanceof ar?function(n){return`${n.field.canonicalString()} ${n.op} ${dd(n.value)}`}(t):t instanceof _l?function(n){return n.op.toString()+" {"+n.getFilters().map(kE).join(" ,")+"}"}(t):"Filter"}class Fj extends ar{constructor(e,n,r){super(e,n,r),this.key=St.fromName(r.referenceValue)}matches(e){const n=St.comparator(e.key,this.key);return this.matchesComparison(n)}}class Vj extends ar{constructor(e,n){super(e,"in",n),this.keys=IE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Bj extends ar{constructor(e,n){super(e,"not-in",n),this.keys=IE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function IE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>St.fromName(r.referenceValue))}class Uj extends ar{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return s5(n)&&ih(n.arrayValue,this.value)}}class zj extends ar{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ih(this.value.arrayValue,n)}}class qj extends ar{constructor(e,n){super(e,"not-in",n)}matches(e){if(ih(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ih(this.value.arrayValue,n)}}class $j extends ar{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!s5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ih(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.le=null}}function rx(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Wj(t,e,n,r,i,o,s)}function a5(t){const e=un(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>dy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),r5(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>dd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>dd(r)).join(",")),e.le=n}return e.le}function l5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Mj(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nx(t.startAt,e.startAt)&&nx(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Hj(t,e,n,r,i,o,s,a){return new Wg(t,e,n,r,i,o,s,a)}function Gj(t){return new Wg(t)}function ix(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Yj(t){return t.collectionGroup!==null}function kf(t){const e=un(t);if(e.he===null){e.he=[];const n=new Set;for(const o of e.explicitOrderBy)e.he.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new wr(vr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.he.push(new Zm(o,r))}),n.has(vr.keyField().canonicalString())||e.he.push(new Zm(vr.keyField(),r))}return e.he}function pc(t){const e=un(t);return e.Pe||(e.Pe=Kj(e,kf(t))),e.Pe}function Kj(t,e){if(t.limitType==="F")return rx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Zm(i.field,o)});const n=t.endAt?new Jm(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jm(t.startAt.position,t.startAt.inclusive):null;return rx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function fy(t,e,n){return new Wg(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function LE(t,e){return l5(pc(t),pc(e))&&t.limitType===e.limitType}function RE(t){return`${a5(pc(t))}|lt:${t.limitType}`}function uf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>kE(i)).join(", ")}]`),r5(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>dd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>dd(i)).join(",")),`Target(${r})`}(pc(t))}; limitType=${t.limitType})`}function c5(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):St.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of kf(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=tx(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,kf(r),i)||r.endAt&&!function(s,a,l){const c=tx(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,kf(r),i))}(t,e)}function Xj(t){return(e,n)=>{let r=!1;for(const i of kf(t)){const o=Qj(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Qj(t,e,n){const r=t.field.isKeyField()?St.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?ud(l,c):At()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return At()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ed(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return yE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=new gi(St.comparator);function eg(){return Jj}const OE=new gi(St.comparator);function Tp(...t){let e=OE;for(const n of t)e=e.insert(n.key,n);return e}function DE(t){let e=OE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cc(){return If()}function ME(){return If()}function If(){return new jc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Zj=new gi(St.comparator),e9=new wr(St.comparator);function Dr(...t){let e=e9;for(const n of t)e=e.add(n);return e}const t9=new wr(Qt);function n9(){return t9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ym(e)?"-0":e}}function jE(t){return{integerValue:""+t}}function r9(t,e){return Cj(e)?jE(e):u5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this._=void 0}}function i9(t,e,n){return t instanceof oh?function(i,o){const s={fields:{[bE]:{stringValue:wE},[xE]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&i5(o)&&(o=o5(o)),o&&(s.fields[_E]=o),{mapValue:s}}(n,e):t instanceof sh?VE(t,e):t instanceof ah?BE(t,e):function(i,o){const s=FE(i,o),a=ox(s)+ox(i.Ie);return uy(s)&&uy(i.Ie)?jE(a):u5(i.serializer,a)}(t,e)}function o9(t,e,n){return t instanceof sh?VE(t,e):t instanceof ah?BE(t,e):n}function FE(t,e){return t instanceof tg?function(r){return uy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class oh extends Hg{}class sh extends Hg{constructor(e){super(),this.elements=e}}function VE(t,e){const n=UE(e);for(const r of t.elements)n.some(i=>us(i,r))||n.push(r);return{arrayValue:{values:n}}}class ah extends Hg{constructor(e){super(),this.elements=e}}function BE(t,e){let n=UE(e);for(const r of t.elements)n=n.filter(i=>!us(i,r));return{arrayValue:{values:n}}}class tg extends Hg{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ox(t){return gr(t.integerValue||t.doubleValue)}function UE(t){return s5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s9{constructor(e,n){this.field=e,this.transform=n}}function a9(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof sh&&i instanceof sh||r instanceof ah&&i instanceof ah?ld(r.elements,i.elements,us):r instanceof tg&&i instanceof tg?us(r.Ie,i.Ie):r instanceof oh&&i instanceof oh}(t.transform,e.transform)}class l9{constructor(e,n){this.version=e,this.transformResults=n}}class Ws{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ws}static exists(e){return new Ws(void 0,e)}static updateTime(e){return new Ws(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function am(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Gg{}function zE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $E(t.key,Ws.none()):new Eh(t.key,t.data,Ws.none());{const n=t.data,r=xo.empty();let i=new wr(vr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fc(t.key,r,new So(i.toArray()),Ws.none())}}function c9(t,e,n){t instanceof Eh?function(i,o,s){const a=i.value.clone(),l=ax(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Fc?function(i,o,s){if(!am(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=ax(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(qE(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Lf(t,e,n,r){return t instanceof Eh?function(o,s,a,l){if(!am(o.precondition,s))return a;const c=o.value.clone(),f=lx(o.fieldTransforms,l,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fc?function(o,s,a,l){if(!am(o.precondition,s))return a;const c=lx(o.fieldTransforms,l,s),f=s.data;return f.setAll(qE(o)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return am(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function u9(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=FE(r.transform,i||null);o!=null&&(n===null&&(n=xo.empty()),n.set(r.field,o))}return n||null}function sx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ld(r,i,(o,s)=>a9(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eh extends Gg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fc extends Gg{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function qE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function ax(t,e,n){const r=new Map;Rn(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,o9(s,a,n[i]))}return r}function lx(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,i9(o,s,e))}return r}class $E extends Gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d9 extends Gg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&c9(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lf(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lf(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ME();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=zE(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(_n.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Dr())}isEqual(e){return this.batchId===e.batchId&&ld(this.mutations,e.mutations,(n,r)=>sx(n,r))&&ld(this.baseMutations,e.baseMutations,(n,r)=>sx(n,r))}}class d5{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Rn(e.mutations.length===r.length);let i=function(){return Zj}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new d5(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h9=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wn,Dt;function p9(t){switch(t){case Fe.OK:return At();case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0;default:return At()}}function m9(t){if(t===void 0)return Sc("GRPC error has no .code"),Fe.UNKNOWN;switch(t){case Wn.OK:return Fe.OK;case Wn.CANCELLED:return Fe.CANCELLED;case Wn.UNKNOWN:return Fe.UNKNOWN;case Wn.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case Wn.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case Wn.INTERNAL:return Fe.INTERNAL;case Wn.UNAVAILABLE:return Fe.UNAVAILABLE;case Wn.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case Wn.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case Wn.NOT_FOUND:return Fe.NOT_FOUND;case Wn.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case Wn.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case Wn.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case Wn.ABORTED:return Fe.ABORTED;case Wn.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case Wn.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case Wn.DATA_LOSS:return Fe.DATA_LOSS;default:return At()}}(Dt=Wn||(Wn={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new J2([4294967295,4294967295],0);class g9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v9(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function y9(t,e){return hy(t,e.toTimestamp())}function Hu(t){return Rn(!!t),_n.fromTimestamp(function(n){const r=Nc(n);return new cr(r.seconds,r.nanos)}(t))}function WE(t,e){return py(t,e).canonicalString()}function py(t,e){const n=function(i){return new Ln(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function w9(t){const e=Ln.fromString(t);return Rn(C9(e)),e}function my(t,e){return WE(t.databaseId,e.path)}function b9(t){const e=w9(t);return e.length===4?Ln.emptyPath():x9(e)}function _9(t){return new Ln(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function x9(t){return Rn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function cx(t,e,n){return{name:my(t,e),fields:n.value.mapValue.fields}}function S9(t,e){let n;if(e instanceof Eh)n={update:cx(t,e.key,e.value)};else if(e instanceof $E)n={delete:my(t,e.key)};else if(e instanceof Fc)n={update:cx(t,e.key,e.data),updateMask:A9(e.fieldMask)};else{if(!(e instanceof d9))return At();n={verify:my(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof oh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sh)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ah)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tg)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw At()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:y9(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:At()}(t,e.precondition)),n}function N9(t,e){return t&&t.length>0?(Rn(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Hu(i.updateTime):Hu(o);return s.isEqual(_n.min())&&(s=Hu(o)),new l9(s,i.transformResults||[])}(n,e))):[]}function E9(t){let e=b9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rn(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(h){const g=HE(h);return g instanceof _l&&PE(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(g=>function(S){return new Zm(wu(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(h){let g;return g=typeof h=="object"?h.value:h,r5(g)?null:g}(n.limit));let l=null;n.startAt&&(l=function(h){const g=!!h.before,p=h.values||[];return new Jm(p,g)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const g=!h.before,p=h.values||[];return new Jm(p,g)}(n.endAt)),Hj(e,i,s,o,a,"F",l,c)}function HE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wu(n.unaryFilter.field);return ar.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wu(n.unaryFilter.field);return ar.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wu(n.unaryFilter.field);return ar.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=wu(n.unaryFilter.field);return ar.create(s,"!=",{nullValue:"NULL_VALUE"});default:return At()}}(t):t.fieldFilter!==void 0?function(n){return ar.create(wu(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return At()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _l.create(n.compositeFilter.filters.map(r=>HE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return At()}}(n.compositeFilter.op))}(t):At()}function wu(t){return vr.fromServerFormat(t.fieldPath)}function A9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function C9(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{constructor(e){this.Tt=e}}function T9(t){const e=E9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?fy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{constructor(){this.Tn=new I9}addToCollectionParentIndex(e,n){return this.Tn.add(n),Ie.resolve()}getCollectionParents(e,n){return Ie.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Ie.resolve()}deleteFieldIndex(e,n){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,n){return Ie.resolve()}getDocumentsMatchingTarget(e,n){return Ie.resolve(null)}getIndexType(e,n){return Ie.resolve(0)}getFieldIndexes(e,n){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,n){return Ie.resolve(bl.min())}getMinOffsetFromCollectionGroup(e,n){return Ie.resolve(bl.min())}updateCollectionGroup(e,n,r){return Ie.resolve()}updateIndexEntries(e,n){return Ie.resolve()}}class I9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wr(Ln.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wr(Ln.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=41943040;class si{static withCacheSize(e){return new si(e,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si.DEFAULT_COLLECTION_PERCENTILE=10,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,si.DEFAULT=new si(GE,si.DEFAULT_COLLECTION_PERCENTILE,si.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),si.DISABLED=new si(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new fd(0)}static Un(){return new fd(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="LruGarbageCollector",L9=1048576;function fx([t,e],[n,r]){const i=Qt(t,n);return i===0?Qt(e,r):i}class R9{constructor(e){this.Hn=e,this.buffer=new wr(fx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();fx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class O9{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){Ze(dx,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Nh(n)?Ze(dx,"Ignoring IndexedDB error during garbage collection: ",n):await e5(n)}await this.er(3e5)})}}class D9{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ie.resolve(t5.ae);const r=new R9(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ze("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(ux)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ux):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,o,s,a,l,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(Ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,s=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(o=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),yu()<=Lt.DEBUG&&Ze("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-f}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:h})))}}function M9(t,e){return new D9(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(){this.changes=new jc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,bo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V9{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lf(r.mutation,i,So.empty(),cr.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Dr()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Dr()){const i=cc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Tp();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=cc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Dr()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=eg();const s=If(),a=function(){return If()}();return n.forEach((l,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Fc)?o=o.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),Lf(f.mutation,c,f.mutation.getFieldMask(),cr.now())):s.set(c.key,So.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>{var h;return a.set(c,new F9(f,(h=s.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=If();let i=new gi((s,a)=>s-a),o=Dr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let f=r.get(l)||So.empty();f=a.applyToLocalView(c,f),r.set(l,f);const h=(i.get(a.batchId)||Dr()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,f=l.value,h=ME();f.forEach(g=>{if(!o.has(g)){const p=zE(n.get(g),r.get(g));p!==null&&h.set(g,p),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return Ie.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return St.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Yj(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ie.resolve(cc());let a=rh,l=o;return s.next(c=>Ie.forEach(c,(f,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(f)?Ie.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{l=l.insert(f,g)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,Dr())).next(f=>({batchId:a,changes:DE(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new St(n)).next(r=>{let i=Tp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Tp();return this.indexManager.getCollectionParents(e,o).next(a=>Ie.forEach(a,l=>{const c=function(h,g){return new Wg(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((h,g)=>{s=s.insert(h,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,bo.newInvalidDocument(f)))});let a=Tp();return s.forEach((l,c)=>{const f=o.get(l);f!==void 0&&Lf(f.mutation,c,So.empty(),cr.now()),c5(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B9{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Ie.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Hu(i.createTime)}}(n)),Ie.resolve()}getNamedQuery(e,n){return Ie.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:T9(i.bundledQuery),readTime:Hu(i.readTime)}}(n)),Ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(){this.overlays=new gi(St.comparator),this.Rr=new Map}getOverlay(e,n){return Ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=cc();return Ie.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Et(e,n,o)}),Ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Rr.delete(r)),Ie.resolve()}getOverlaysForCollection(e,n,r){const i=cc(),o=n.length+1,s=new St(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new gi((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=o.get(c.largestBatchId);f===null&&(f=cc(),o=o.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const a=cc(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,f)=>a.set(c,f)),!(a.size()>=i)););return Ie.resolve(a)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new h9(n,r));let o=this.Rr.get(n);o===void 0&&(o=Dr(),this.Rr.set(n,o)),this.Rr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{constructor(){this.sessionToken=cs.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(){this.Vr=new wr(ir.mr),this.gr=new wr(ir.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new ir(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new ir(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new St(new Ln([])),r=new ir(n,e),i=new ir(n,e+1),o=[];return this.gr.forEachInRange([r,i],s=>{this.wr(s),o.push(s.key)}),o}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new St(new Ln([])),r=new ir(n,e),i=new ir(n,e+1);let o=Dr();return this.gr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ir(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ir{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return St.comparator(e.key,n.key)||Qt(e.Cr,n.Cr)}static pr(e,n){return Qt(e.Cr,n.Cr)||St.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new wr(ir.mr)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new f9(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.Mr=this.Mr.add(new ir(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ie.resolve(s)}lookupMutationBatch(e,n){return Ie.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),o=i<0?0:i;return Ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?n5:this.Fr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ir(n,0),i=new ir(n,Number.POSITIVE_INFINITY),o=[];return this.Mr.forEachInRange([r,i],s=>{const a=this.Or(s.Cr);o.push(a)}),Ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wr(Qt);return n.forEach(i=>{const o=new ir(i,0),s=new ir(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([o,s],a=>{r=r.add(a.Cr)})}),Ie.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;St.isDocumentKey(o)||(o=o.child(""));const s=new ir(new St(o),0);let a=new wr(Qt);return this.Mr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Cr)),!0)},s),Ie.resolve(this.Br(a))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Rn(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Ie.forEach(n.mutations,i=>{const o=new ir(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new ir(n,0),i=this.Mr.firstAfterOrEqual(r);return Ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{constructor(e){this.kr=e,this.docs=function(){return new gi(St.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ie.resolve(r?r.document.mutableCopy():bo.newInvalidDocument(n))}getEntries(e,n){let r=eg();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():bo.newInvalidDocument(i))}),Ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=eg();const s=n.path,a=new St(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:f}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Sj(xj(f),r)<=0||(i.has(f.key)||c5(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return Ie.resolve(o)}getAllFromCollectionGroup(e,n,r,i){At()}qr(e,n){return Ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new W9(this)}getSize(e){return Ie.resolve(this.size)}}class W9 extends j9{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),Ie.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H9{constructor(e){this.persistence=e,this.Qr=new jc(n=>a5(n),l5),this.lastRemoteSnapshotVersion=_n.min(),this.highestTargetId=0,this.$r=0,this.Kr=new f5,this.targetCount=0,this.Ur=fd.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),Ie.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new fd(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Ie.resolve()}updateTargetData(e,n){return this.zn(n),Ie.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Qr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ie.waitFor(o).next(()=>i)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return Ie.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),Ie.resolve()}removeMatchingKeys(e,n,r){this.Kr.Sr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Ie.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),Ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Kr.vr(n);return Ie.resolve(r)}containsKey(e,n){return Ie.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new t5(0),this.zr=!1,this.zr=!0,this.jr=new z9,this.referenceDelegate=e(this),this.Hr=new H9(this),this.indexManager=new k9,this.remoteDocumentCache=function(i){return new $9(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new P9(n),this.Yr=new B9(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new U9,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new q9(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){Ze("MemoryPersistence","Starting transaction:",e);const i=new G9(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(o=>this.referenceDelegate.Xr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}ei(e,n){return Ie.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class G9 extends Ej{constructor(e){super(),this.currentSequenceNumber=e}}class h5{constructor(e){this.persistence=e,this.ti=new f5,this.ni=null}static ri(e){return new h5(e)}get ii(){if(this.ni)return this.ni;throw At()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),Ie.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Ie.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ii.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.ii,r=>{const i=St.fromPath(r);return this.si(e,i).next(o=>{o||n.removeEntry(i,_n.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Ie.or([()=>Ie.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ng{constructor(e,n){this.persistence=e,this.oi=new jc(r=>Pj(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=M9(this,n)}static ri(e,n){return new ng(e,n)}Zr(){}Xr(e){return Ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return Ie.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(o=>o?Ie.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.qr(e,s=>this.ar(e,s,n).next(a=>{a||(r++,o.removeEntry(s,_n.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Ie.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Ie.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=om(e.data.value)),n}ar(e,n,r){return Ie.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return Ie.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Dr(),i=Dr();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new p5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K9{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return HM()?8:Aj(Vr())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.rs(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ss(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Y9;return this._s(e,n,s).next(a=>{if(o.result=a,this.Xi)return this.us(e,n,s,a.size)})}).next(()=>o.result)}us(e,n,r,i){return r.documentReadCount<this.es?(yu()<=Lt.DEBUG&&Ze("QueryEngine","SDK will not create cache indexes for query:",uf(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ie.resolve()):(yu()<=Lt.DEBUG&&Ze("QueryEngine","Query:",uf(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(yu()<=Lt.DEBUG&&Ze("QueryEngine","The SDK decides to create cache indexes for query:",uf(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pc(n))):Ie.resolve())}rs(e,n){if(ix(n))return Ie.resolve(null);let r=pc(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=fy(n,null,"F"),r=pc(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Dr(...o);return this.ns.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.cs(n,a);return this.ls(n,c,s,l.readTime)?this.rs(e,fy(n,null,"F")):this.hs(e,c,n,l)}))})))}ss(e,n,r,i){return ix(n)||i.isEqual(_n.min())?Ie.resolve(null):this.ns.getDocuments(e,r).next(o=>{const s=this.cs(n,o);return this.ls(n,s,r,i)?Ie.resolve(null):(yu()<=Lt.DEBUG&&Ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),uf(n)),this.hs(e,s,n,_j(i,rh)).next(a=>a))})}cs(e,n){let r=new wr(Xj(e));return n.forEach((i,o)=>{c5(e,o)&&(r=r.add(o))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}_s(e,n,r){return yu()<=Lt.DEBUG&&Ze("QueryEngine","Using full collection scan to execute query:",uf(n)),this.ns.getDocumentsMatchingQuery(e,n,bl.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="LocalStore";class Q9{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new gi(Qt),this.Is=new jc(o=>a5(o),l5),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new V9(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function J9(t,e,n,r){return new Q9(t,e,n,r)}async function KE(t,e){const n=un(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=Dr();for(const c of i){s.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}for(const c of o){a.push(c.batchId);for(const f of c.mutations)l=l.add(f.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Rs:c,removedBatchIds:s,addedBatchIds:a}))})})}function Z9(t,e){const n=un(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,c,f){const h=c.batch,g=h.keys();let p=Ie.resolve();return g.forEach(S=>{p=p.next(()=>f.getEntry(l,S)).next(b=>{const E=c.docVersions.get(S);Rn(E!==null),b.version.compareTo(E)<0&&(h.applyToRemoteDocument(b,c),b.isValidDocument()&&(b.setReadTime(c.commitVersion),f.addEntry(b)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Dr();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function eF(t){const e=un(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function tF(t,e){const n=un(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=n5),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class hx{constructor(){this.activeTargetIds=n9()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nF{constructor(){this.ho=new hx,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new hx,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="ConnectivityMonitor";class mx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Ze(px,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Ze(px,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp=null;function gy(){return kp===null?kp=function(){return 268435456+Math.round(2147483648*Math.random())}():kp++,"0x"+kp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="RestConnection",iF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oF{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Xm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,o){const s=gy(),a=this.bo(e,n.toUriEncodedString());Ze(P1,`Sending RPC '${e}' ${s}:`,a,r);const l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,o),this.vo(e,a,l,r).then(c=>(Ze(P1,`Received RPC '${e}' ${s}: `,c),c),c=>{throw $g(P1,`RPC '${e}' ${s} failed with error: `,c,"url: ",a,"request:",r),c})}Co(e,n,r,i,o,s){return this.So(e,n,r,i,o)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Nd}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}bo(e,n){const r=iF[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sF{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="WebChannelConnection";class aF extends oF{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const o=gy();return new Promise((s,a)=>{const l=new uE;l.setWithCredentials(!0),l.listenOnce(dE.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case im.NO_ERROR:const f=l.getResponseJson();Ze(Ir,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case im.TIMEOUT:Ze(Ir,`RPC '${e}' ${o} timed out`),a(new dt(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case im.HTTP_ERROR:const h=l.getStatus();if(Ze(Ir,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let g=l.getResponseJson();Array.isArray(g)&&(g=g[0]);const p=g==null?void 0:g.error;if(p&&p.status&&p.message){const S=function(E){const w=E.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(w)>=0?w:Fe.UNKNOWN}(p.status);a(new dt(S,p.message))}else a(new dt(Fe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new dt(Fe.UNAVAILABLE,"Connection failed."));break;default:At()}}finally{Ze(Ir,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Ze(Ir,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Wo(e,n,r){const i=gy(),o=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=pE(),a=hE(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=o.join("");Ze(Ir,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=s.createWebChannel(f,l);let g=!1,p=!1;const S=new sF({Fo:E=>{p?Ze(Ir,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(g||(Ze(Ir,`Opening RPC '${e}' stream ${i} transport.`),h.open(),g=!0),Ze(Ir,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},Mo:()=>h.close()}),b=(E,w,_)=>{E.listen(w,A=>{try{_(A)}catch(j){setTimeout(()=>{throw j},0)}})};return b(h,mf.EventType.OPEN,()=>{p||(Ze(Ir,`RPC '${e}' stream ${i} transport opened.`),S.Qo())}),b(h,mf.EventType.CLOSE,()=>{p||(p=!0,Ze(Ir,`RPC '${e}' stream ${i} transport closed`),S.Ko())}),b(h,mf.EventType.ERROR,E=>{p||(p=!0,$g(Ir,`RPC '${e}' stream ${i} transport errored:`,E),S.Ko(new dt(Fe.UNAVAILABLE,"The operation could not be completed")))}),b(h,mf.EventType.MESSAGE,E=>{var w;if(!p){const _=E.data[0];Rn(!!_);const A=_,j=(A==null?void 0:A.error)||((w=A[0])===null||w===void 0?void 0:w.error);if(j){Ze(Ir,`RPC '${e}' stream ${i} received error:`,j);const q=j.status;let Z=function(D){const F=Wn[D];if(F!==void 0)return m9(F)}(q),R=j.message;Z===void 0&&(Z=Fe.INTERNAL,R="Unknown error status: "+q+" with message "+j.message),p=!0,S.Ko(new dt(Z,R)),h.close()}else Ze(Ir,`RPC '${e}' stream ${i} received:`,_),S.Uo(_)}}),b(a,fE.STAT_EVENT,E=>{E.stat===ay.PROXY?Ze(Ir,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===ay.NOPROXY&&Ze(Ir,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.$o()},0),S}}function T1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yg(t){return new g9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=o,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&Ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx="PersistentStream";class lF{constructor(e,n,r,i,o,s,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new XE(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===Fe.RESOURCE_EXHAUSTED?(Sc(n.toString()),Sc("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new dt(Fe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return Ze(gx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(Ze(gx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cF extends lF{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Rn(!!e.streamToken),this.lastStreamToken=e.streamToken,Rn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=N9(e.writeResults,e.commitTime),r=Hu(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=_9(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>S9(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{}class dF extends uF{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new dt(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.So(e,py(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new dt(Fe.UNKNOWN,o.toString())})}Co(e,n,r,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Co(e,py(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new dt(Fe.UNKNOWN,s.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class fF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Sc(n),this.N_=!1):Ze("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="RemoteStore";class hF{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=o,this.z_.To(s=>{r.enqueueAndForget(async()=>{Ph(this)&&(Ze(Ah,"Restarting streams for network reachability change."),await async function(l){const c=un(l);c.W_.add(4),await Ch(c),c.j_.set("Unknown"),c.W_.delete(4),await Kg(c)}(this))})}),this.j_=new fF(r,i)}}async function Kg(t){if(Ph(t))for(const e of t.G_)await e(!0)}async function Ch(t){for(const e of t.G_)await e(!1)}function Ph(t){return un(t).W_.size===0}async function QE(t,e,n){if(!Nh(e))throw e;t.W_.add(1),await Ch(t),t.j_.set("Offline"),n||(n=()=>eF(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ze(Ah,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Kg(t)})}function JE(t,e){return e().catch(n=>QE(t,n,e))}async function Xg(t){const e=un(t),n=xl(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:n5;for(;pF(e);)try{const i=await tF(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,mF(e,i)}catch(i){await QE(e,i)}ZE(e)&&eA(e)}function pF(t){return Ph(t)&&t.K_.length<10}function mF(t,e){t.K_.push(e);const n=xl(t);n.c_()&&n.S_&&n.b_(e.mutations)}function ZE(t){return Ph(t)&&!xl(t).u_()&&t.K_.length>0}function eA(t){xl(t).start()}async function gF(t){xl(t).C_()}async function vF(t){const e=xl(t);for(const n of t.K_)e.b_(n.mutations)}async function yF(t,e,n){const r=t.K_.shift(),i=d5.from(r,e,n);await JE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Xg(t)}async function wF(t,e){e&&xl(t).S_&&await async function(r,i){if(function(s){return p9(s)&&s!==Fe.ABORTED}(i.code)){const o=r.K_.shift();xl(r).h_(),await JE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Xg(r)}}(t,e),ZE(t)&&eA(t)}async function vx(t,e){const n=un(t);n.asyncQueue.verifyOperationInProgress(),Ze(Ah,"RemoteStore received new credentials");const r=Ph(n);n.W_.add(3),await Ch(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Kg(n)}async function bF(t,e){const n=un(t);e?(n.W_.delete(2),await Kg(n)):e||(n.W_.add(2),await Ch(n),n.j_.set("Unknown"))}function xl(t){return t.Y_||(t.Y_=function(n,r,i){const o=un(n);return o.M_(),new cF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:gF.bind(null,t),Lo:wF.bind(null,t),D_:vF.bind(null,t),v_:yF.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Xg(t)):(await t.Y_.stop(),t.K_.length>0&&(Ze(Ah,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new hc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new m5(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tA(t,e){if(Sc("AsyncQueue",`${e}: ${t}`),Nh(t))return new dt(Fe.UNAVAILABLE,`${e}: ${t}`);throw t}class _F{constructor(){this.queries=yx(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=un(n),o=i.queries;i.queries=yx(),o.forEach((s,a)=>{for(const l of a.ta)l.onError(r)})})(this,new dt(Fe.ABORTED,"Firestore shutting down"))}}function yx(){return new jc(t=>RE(t),LE)}function xF(t){t.ia.forEach(e=>{e.next()})}var wx,bx;(bx=wx||(wx={}))._a="default",bx.Cache="cache";const SF="SyncEngine";class NF{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.La={},this.ka=new jc(a=>RE(a),LE),this.qa=new Map,this.Qa=new Set,this.$a=new gi(St.comparator),this.Ka=new Map,this.Ua=new f5,this.Wa={},this.Ga=new Map,this.za=fd.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function EF(t,e,n){const r=TF(t);try{const i=await function(s,a){const l=un(s),c=cr.now(),f=a.reduce((p,S)=>p.add(S.key),Dr());let h,g;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let S=eg(),b=Dr();return l.ds.getEntries(p,f).next(E=>{S=E,S.forEach((w,_)=>{_.isValidDocument()||(b=b.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,S)).next(E=>{h=E;const w=[];for(const _ of a){const A=u9(_,h.get(_.key).overlayedDocument);A!=null&&w.push(new Fc(_.key,A,EE(A.value.mapValue),Ws.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,w,a)}).next(E=>{g=E;const w=E.applyToLocalDocumentSet(h,b);return l.documentOverlayCache.saveOverlays(p,E.batchId,w)})}).then(()=>({batchId:g.batchId,changes:DE(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Wa[s.currentUser.toKey()];c||(c=new gi(Qt)),c=c.insert(a,l),s.Wa[s.currentUser.toKey()]=c}(r,i.batchId,n),await Qg(r,i.changes),await Xg(r.remoteStore)}catch(i){const o=tA(i,"Failed to persist write");n.reject(o)}}function _x(t,e,n){const r=un(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((o,s)=>{const a=s.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=un(s);l.onlineState=a;let c=!1;l.queries.forEach((f,h)=>{for(const g of h.ta)g.sa(a)&&(c=!0)}),c&&xF(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function AF(t,e){const n=un(t),r=e.batch.batchId;try{const i=await Z9(n.localStore,e);rA(n,r,null),nA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qg(n,i)}catch(i){await e5(i)}}async function CF(t,e,n){const r=un(t);try{const i=await function(s,a){const l=un(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Rn(h!==null),f=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,f,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>l.localDocuments.getDocuments(c,f))})}(r.localStore,e);rA(r,e,n),nA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qg(r,i)}catch(i){await e5(i)}}function nA(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function rA(t,e,n){const r=un(t);let i=r.Wa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}async function Qg(t,e,n){const r=un(t),i=[],o=[],s=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{s.push(r.Ha(l,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(f=void 0)===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=p5.Yi(l.targetId,c);o.push(h)}}))}),await Promise.all(s),r.La.p_(i),await async function(l,c){const f=un(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>Ie.forEach(c,g=>Ie.forEach(g.Hi,p=>f.persistence.referenceDelegate.addReference(h,g.targetId,p)).next(()=>Ie.forEach(g.Ji,p=>f.persistence.referenceDelegate.removeReference(h,g.targetId,p)))))}catch(h){if(!Nh(h))throw h;Ze(X9,"Failed to update sequence numbers: "+h)}for(const h of c){const g=h.targetId;if(!h.fromCache){const p=f.Ts.get(g),S=p.snapshotVersion,b=p.withLastLimboFreeSnapshotVersion(S);f.Ts=f.Ts.insert(g,b)}}}(r.localStore,o))}async function PF(t,e){const n=un(t);if(!n.currentUser.isEqual(e)){Ze(SF,"User change. New user:",e.toKey());const r=await KE(n.localStore,e);n.currentUser=e,function(o,s){o.Ga.forEach(a=>{a.forEach(l=>{l.reject(new dt(Fe.CANCELLED,s))})}),o.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qg(n,r.Rs)}}function TF(t){const e=un(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CF.bind(null,e),e}class rg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yg(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return J9(this.persistence,new K9,e.initialUser,this.serializer)}Xa(e){return new YE(h5.ri,this.serializer)}Za(e){return new nF}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rg.provider={build:()=>new rg};class kF extends rg{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Rn(this.persistence.referenceDelegate instanceof ng);const r=this.persistence.referenceDelegate.garbageCollector;return new O9(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?si.withCacheSize(this.cacheSizeBytes):si.DEFAULT;return new YE(r=>ng.ri(r,n),this.serializer)}}class vy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_x(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=PF.bind(null,this.syncEngine),await bF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _F}()}createDatastore(e){const n=Yg(e.databaseInfo.databaseId),r=function(o){return new aF(o)}(e.databaseInfo);return function(o,s,a,l){return new dF(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new hF(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_x(this.syncEngine,n,0),function(){return mx.D()?new mx:new rF}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,f){const h=new NF(i,o,s,a,l,c);return f&&(h.ja=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=un(i);Ze(Ah,"RemoteStore shutting down."),o.W_.add(5),await Ch(o),o.z_.shutdown(),o.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}vy.provider={build:()=>new vy};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sl="FirestoreClient";class IF{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rr.UNAUTHENTICATED,this.clientId=gE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Ze(Sl,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Ze(Sl,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tA(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function k1(t,e){t.asyncQueue.verifyOperationInProgress(),Ze(Sl,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await KE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function xx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await LF(t);Ze(Sl,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>vx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>vx(e.remoteStore,i)),t._onlineComponents=e}async function LF(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ze(Sl,"Using user provided OfflineComponentProvider");try{await k1(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Fe.FAILED_PRECONDITION||i.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;$g("Error using user provided cache. Falling back to memory cache: "+n),await k1(t,new rg)}}else Ze(Sl,"Using default OfflineComponentProvider"),await k1(t,new kF(void 0));return t._offlineComponents}async function RF(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ze(Sl,"Using user provided OnlineComponentProvider"),await xx(t,t._uninitializedComponentsProvider._online)):(Ze(Sl,"Using default OnlineComponentProvider"),await xx(t,new vy))),t._onlineComponents}function OF(t){return RF(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t,e,n){if(!n)throw new dt(Fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DF(t,e,n,r){if(e===!0&&r===!0)throw new dt(Fe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nx(t){if(!St.isDocumentKey(t))throw new dt(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Ex(t){if(St.isDocumentKey(t))throw new dt(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function g5(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":At()}function sA(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new dt(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=g5(t);throw new dt(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firestore.googleapis.com",Ax=!0;class Cx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new dt(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=aA,this.ssl=Ax}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Ax;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=GE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<L9)throw new dt(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DF("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new dt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new dt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new dt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cx({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cx(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hj;switch(r.type){case"firstParty":return new vj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dt(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Sx.get(n);r&&(Ze("ComponentProvider","Removing Datastore"),Sx.delete(n),r.terminate())}(this),Promise.resolve()}}function MF(t,e,n,r={}){var i;const o=(t=sA(t,Jg))._getSettings(),s=`${e}:${n}`;if(o.host!==aA&&o.host!==s&&$g("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Rr.MOCK_USER;else{a=VM(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new dt(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Rr(c)}t._authCredentials=new pj(new mE(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new v5(this.firestore,e,this._query)}}class Hs{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hs(this.firestore,e,this._key)}}class fl extends v5{constructor(e,n,r){super(e,n,Gj(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hs(this.firestore,null,new St(e))}withConverter(e){return new fl(this.firestore,e,this._path)}}function lA(t,e,...n){if(t=Zi(t),oA("collection","path",e),t instanceof Jg){const r=Ln.fromString(e,...n);return Ex(r),new fl(t,null,r)}{if(!(t instanceof Hs||t instanceof fl))throw new dt(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ln.fromString(e,...n));return Ex(r),new fl(t.firestore,null,r)}}function jF(t,e,...n){if(t=Zi(t),arguments.length===1&&(e=gE.newId()),oA("doc","path",e),t instanceof Jg){const r=Ln.fromString(e,...n);return Nx(r),new Hs(t,null,new St(r))}{if(!(t instanceof Hs||t instanceof fl))throw new dt(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ln.fromString(e,...n));return Nx(r),new Hs(t.firestore,t instanceof fl?t.converter:null,new St(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="AsyncQueue";class Tx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new XE(this,"async_queue_retry"),this.Su=()=>{const r=T1();r&&Ze(Px,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=T1();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=T1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new hc;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Nh(e))throw e;Ze(Px,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Sc("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=m5.createAndSchedule(this,e,n,r,o=>this.Fu(o));return this.fu.push(i),i}Du(){this.gu&&At()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class cA extends Jg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Tx,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tx(e),this._firestoreClient=void 0,await e}}}function FF(t,e){const n=typeof t=="object"?t:aE(),r=typeof t=="string"?t:Xm,i=Q2(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=jM("firestore");o&&MF(i,...o)}return i}function VF(t){if(t._terminated)throw new dt(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BF(t),t._firestoreClient}function BF(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,f){return new Lj(a,l,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,iA(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new IF(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lh(cs.fromBase64String(e))}catch(n){throw new dt(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lh(cs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new dt(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new dt(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new dt(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=/^__.*__$/;class zF{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fc(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eh(e,this.data,n,this.fieldTransforms)}}function hA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At()}}class w5{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Bu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new w5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return ig(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(hA(this.Lu)&&UF.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class qF{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Yg(e)}ju(e,n,r,i=!1){return new w5({Lu:e,methodName:n,zu:r,path:vr.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $F(t){const e=t._freezeSettings(),n=Yg(t._databaseId);return new qF(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WF(t,e,n,r,i,o={}){const s=t.ju(o.merge||o.mergeFields?2:0,e,n,i);vA("Data must be an object, but it was:",s,r);const a=mA(r,s);let l,c;if(o.merge)l=new So(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const h of o.mergeFields){const g=HF(e,h,n);if(!s.contains(g))throw new dt(Fe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);KF(f,g)||f.push(g)}l=new So(f),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new zF(new xo(a),l,c)}class b5 extends y5{_toFieldTransform(e){return new s9(e.path,new oh)}isEqual(e){return e instanceof b5}}function pA(t,e){if(gA(t=Zi(t)))return vA("Unsupported field value:",e,t),mA(t,e);if(t instanceof y5)return function(r,i){if(!hA(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=pA(a,i.Uu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Zi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r9(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=cr.fromDate(r);return{timestampValue:hy(i.serializer,o)}}if(r instanceof cr){const o=new cr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hy(i.serializer,o)}}if(r instanceof dA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof lh)return{bytesValue:v9(i.serializer,r._byteString)};if(r instanceof Hs){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Wu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:WE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof fA)return function(s,a){return{mapValue:{fields:{[SE]:{stringValue:NE},[ly]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Wu("VectorValues must only contain numeric values.");return u5(a.serializer,c)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${g5(r)}`)}(t,e)}function mA(t,e){const n={};return yE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ed(t,(r,i)=>{const o=pA(i,e.qu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function gA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof cr||t instanceof dA||t instanceof lh||t instanceof Hs||t instanceof y5||t instanceof fA)}function vA(t,e,n){if(!gA(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=g5(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function HF(t,e,n){if((e=Zi(e))instanceof uA)return e._internalPath;if(typeof e=="string")return YF(t,e);throw ig("Field path arguments must be of type string or ",t,!1,void 0,n)}const GF=new RegExp("[~\\*/\\[\\]]");function YF(t,e,n){if(e.search(GF)>=0)throw ig(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uA(...e.split("."))._internalPath}catch{throw ig(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ig(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new dt(Fe.INVALID_ARGUMENT,a+t+l)}function KF(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function yA(t,e){const n=sA(t.firestore,cA),r=jF(t),i=XF(t.converter,e);return QF(n,[WF($F(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ws.exists(!1))]).then(()=>r)}function QF(t,e){return function(r,i){const o=new hc;return r.asyncQueue.enqueueAndForget(async()=>EF(await OF(r),i,o)),o.promise}(VF(t),e)}function JF(){return new b5("serverTimestamp")}(function(e,n=!0){(function(i){Nd=i})(Sd),ad(new xc("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new cA(new mj(r.getProvider("auth-internal")),new yj(s,r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new dt(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qm(c.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),dl($_,W_,e),dl($_,W_,"esm2017")})();var Zo=function(){return Zo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Zo.apply(this,arguments)};function Th(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ZF(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function wA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eV=wA,bA=new xh("auth","Firebase",wA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=new K2("@firebase/auth");function tV(t,...e){og.logLevel<=Lt.WARN&&og.warn(`Auth (${Sd}): ${t}`,...e)}function lm(t,...e){og.logLevel<=Lt.ERROR&&og.error(`Auth (${Sd}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t,...e){throw _5(t,...e)}function os(t,...e){return _5(t,...e)}function _A(t,e,n){const r=Object.assign(Object.assign({},eV()),{[e]:n});return new xh("auth","Firebase",r).create(e,{appName:t.name})}function hl(t){return _A(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return bA.create(t,...e)}function pt(t,e,...n){if(!t)throw _5(e,...n)}function Us(t){const e="INTERNAL ASSERTION FAILED: "+t;throw lm(e),new Error(e)}function Zs(t,e){t||Us(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nV(){return kx()==="http:"||kx()==="https:"}function kx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nV()||qM()||"connection"in navigator)?navigator.onLine:!0}function iV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zs(n>e,"Short delay should be less than long delay!"),this.isMobile=BM()||$M()}get(){return rV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t,e){Zs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sV=new kh(3e4,6e4);function Zg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ad(t,e,n,r,i={}){return SA(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Sh(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},o);return zM()||(c.referrerPolicy="no-referrer"),xA.fetch()(EA(t,t.config.apiHost,n,a),c)})}async function SA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},oV),e);try{const i=new aV(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Ip(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ip(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ip(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ip(t,"user-disabled",s);const f=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw _A(t,f,c);Js(t,f)}}catch(i){if(i instanceof ia)throw i;Js(t,"network-request-failed",{message:String(i)})}}async function NA(t,e,n,r,i={}){const o=await Ad(t,e,n,r,i);return"mfaPendingCredential"in o&&Js(t,"multi-factor-auth-required",{_serverResponse:o}),o}function EA(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?x5(t.config,i):`${t.config.apiScheme}://${i}`}class aV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(os(this.auth,"network-request-failed")),sV.get())})}}function Ip(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=os(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lV(t,e){return Ad(t,"POST","/v1/accounts:delete",e)}async function AA(t,e){return Ad(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cV(t,e=!1){const n=Zi(t),r=await n.getIdToken(e),i=S5(r);pt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Rf(I1(i.auth_time)),issuedAtTime:Rf(I1(i.iat)),expirationTime:Rf(I1(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function I1(t){return Number(t)*1e3}function S5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lm("JWT malformed, contained fewer than 3 sections"),null;try{const i=eE(n);return i?JSON.parse(i):(lm("Failed to decode base64 JWT payload"),null)}catch(i){return lm("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ix(t){const e=S5(t);return pt(e,"internal-error"),pt(typeof e.exp<"u","internal-error"),pt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ia&&uV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function uV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rf(this.lastLoginAt),this.creationTime=Rf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sg(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ch(t,AA(n,{idToken:r}));pt(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?CA(o.providerUserInfo):[],a=hV(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),f=l?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new wy(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function fV(t){const e=Zi(t);await sg(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function CA(t){return t.map(e=>{var{providerId:n}=e,r=Th(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pV(t,e){const n=await SA(t,{},async()=>{const r=Sh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=EA(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",xA.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function mV(t,e){return Ad(t,"POST","/v2/accounts:revokeToken",Zg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){pt(e.idToken,"internal-error"),pt(typeof e.idToken<"u","internal-error"),pt(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ix(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){pt(e.length!==0,"internal-error");const n=Ix(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await pV(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Gu;return r&&(pt(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(pt(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(pt(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gu,this.toJSON())}_performRefresh(){return Us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t,e){pt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Th(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ch(this,this.stsTokenManager.getToken(this.auth,e));return pt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return cV(this,e)}reload(){return fV(this)}_assign(e){this!==e&&(pt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await sg(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_o(this.auth.app))return Promise.reject(hl(this.auth));const e=await this.getIdToken();return await ch(this,lV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,f;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,b=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:A,emailVerified:j,isAnonymous:q,providerData:Z,stsTokenManager:R}=n;pt(A&&R,e,"internal-error");const P=Gu.fromJSON(this.name,R);pt(typeof A=="string",e,"internal-error"),Ba(h,e.name),Ba(g,e.name),pt(typeof j=="boolean",e,"internal-error"),pt(typeof q=="boolean",e,"internal-error"),Ba(p,e.name),Ba(S,e.name),Ba(b,e.name),Ba(E,e.name),Ba(w,e.name),Ba(_,e.name);const D=new zs({uid:A,auth:e,email:g,emailVerified:j,displayName:h,isAnonymous:q,photoURL:S,phoneNumber:p,tenantId:b,stsTokenManager:P,createdAt:w,lastLoginAt:_});return Z&&Array.isArray(Z)&&(D.providerData=Z.map(F=>Object.assign({},F))),E&&(D._redirectEventId=E),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new Gu;i.updateFromServerResponse(n);const o=new zs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await sg(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];pt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?CA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Gu;a.updateFromIdToken(r);const l=new zs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new wy(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=new Map;function qs(t){Zs(t instanceof Function,"Expected a class definition");let e=Lx.get(t);return e?(Zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Lx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PA.type="NONE";const Rx=PA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t,e,n){return`firebase:${t}:${e}:${n}`}class Yu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=cm(this.userKey,i.apiKey,o),this.fullPersistenceKey=cm("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Yu(qs(Rx),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||qs(Rx);const s=cm(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const f=await c._get(s);if(f){const h=zs._fromJSON(e,f);c!==o&&(a=h),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Yu(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Yu(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(OA(e))return"Blackberry";if(DA(e))return"Webos";if(kA(e))return"Safari";if((e.includes("chrome/")||IA(e))&&!e.includes("edge/"))return"Chrome";if(RA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function TA(t=Vr()){return/firefox\//i.test(t)}function kA(t=Vr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IA(t=Vr()){return/crios\//i.test(t)}function LA(t=Vr()){return/iemobile/i.test(t)}function RA(t=Vr()){return/android/i.test(t)}function OA(t=Vr()){return/blackberry/i.test(t)}function DA(t=Vr()){return/webos/i.test(t)}function N5(t=Vr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gV(t=Vr()){var e;return N5(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vV(){return WM()&&document.documentMode===10}function MA(t=Vr()){return N5(t)||RA(t)||DA(t)||OA(t)||/windows phone/i.test(t)||LA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e=[]){let n;switch(t){case"Browser":n=Ox(Vr());break;case"Worker":n=`${Ox(Vr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Sd}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,e={}){return Ad(t,"GET","/v2/passwordPolicy",Zg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV=6;class _V{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:bV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dx(this),this.idTokenSubscription=new Dx(this),this.beforeStateQueue=new yV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=qs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Yu.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await AA(this,{idToken:e}),r=await zs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(_o(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sg(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(_o(this.app))return Promise.reject(hl(this));const n=e?Zi(e):null;return n&&pt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&pt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return _o(this.app)?Promise.reject(hl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return _o(this.app)?Promise.reject(hl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wV(this),n=new _V(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new xh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await mV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&qs(e)||this._popupRedirectResolver;pt(n,this,"argument-error"),this.redirectPersistenceManager=await Yu.create(this,[qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(_o(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&tV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ev(t){return Zi(t)}class Dx{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZM(n=>this.observer=n)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E5={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SV(t){E5=t}function NV(t){return E5.loadJS(t)}function EV(){return E5.gapiScript}function AV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(t,e){const n=Q2(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Hm(o,e??{}))return i;Js(i,"already-initialized")}return n.initialize({options:e})}function PV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(qs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function TV(t,e,n){const r=ev(t);pt(r._canInitEmulator,r,"emulator-config-failed"),pt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=FA(e),{host:s,port:a}=kV(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),IV()}function FA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kV(t){const e=FA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Mx(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Mx(s)}}}function Mx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function IV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Us("not implemented")}_getIdTokenResponse(e){return Us("not implemented")}_linkToIdToken(e,n){return Us("not implemented")}_getReauthenticationResolver(e){return Us("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(t,e){return NA(t,"POST","/v1/accounts:signInWithIdp",Zg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="http://localhost";class Ac extends VA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ac(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Js("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Th(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Ac(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Ku(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ku(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ku(e,n)}buildRequest(){const e={requestUri:LV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends BA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha extends Ih{constructor(){super("facebook.com")}static credential(e){return Ac._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ha.credential(e.oauthAccessToken)}catch{return null}}}Ha.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ha.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga extends Ih{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ac._fromParams({providerId:Ga.PROVIDER_ID,signInMethod:Ga.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ga.credentialFromTaggedObject(e)}static credentialFromError(e){return Ga.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ga.credential(n,r)}catch{return null}}}Ga.GOOGLE_SIGN_IN_METHOD="google.com";Ga.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends Ih{constructor(){super("github.com")}static credential(e){return Ac._fromParams({providerId:Ya.PROVIDER_ID,signInMethod:Ya.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ya.credentialFromTaggedObject(e)}static credentialFromError(e){return Ya.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ya.credential(e.oauthAccessToken)}catch{return null}}}Ya.GITHUB_SIGN_IN_METHOD="github.com";Ya.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka extends Ih{constructor(){super("twitter.com")}static credential(e,n){return Ac._fromParams({providerId:Ka.PROVIDER_ID,signInMethod:Ka.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ka.credentialFromTaggedObject(e)}static credentialFromError(e){return Ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ka.credential(n,r)}catch{return null}}}Ka.TWITTER_SIGN_IN_METHOD="twitter.com";Ka.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RV(t,e){return NA(t,"POST","/v1/accounts:signUp",Zg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await zs._fromIdTokenResponse(e,r,i),s=jx(r);return new Nl({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jx(r);return new Nl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(t){var e;if(_o(t.app))return Promise.reject(hl(t));const n=ev(t);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new Nl({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await RV(n,{returnSecureToken:!0}),i=await Nl._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends ia{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ag.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ag(e,n,r,i)}}function UA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?ag._fromErrorAndOperation(t,o,e,r):o})}async function DV(t,e,n=!1){const r=await ch(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Nl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(t,e,n=!1){const{auth:r}=t;if(_o(r.app))return Promise.reject(hl(r));const i="reauthenticate";try{const o=await ch(t,UA(r,i,e,t),n);pt(o.idToken,r,"internal-error");const s=S5(o.idToken);pt(s,r,"internal-error");const{sub:a}=s;return pt(t.uid===a,r,"user-mismatch"),Nl._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Js(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e,n=!1){if(_o(t.app))return Promise.reject(hl(t));const r="signIn",i=await UA(t,r,e),o=await Nl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function FV(t,e,n,r){return Zi(t).onIdTokenChanged(e,n,r)}function VV(t,e,n){return Zi(t).beforeAuthStateChanged(e,n)}function BV(t,e,n,r){return Zi(t).onAuthStateChanged(e,n,r)}const lg="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lg,"1"),this.storage.removeItem(lg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UV=1e3,zV=10;class qA extends zA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=MA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);vV()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,zV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}qA.type="LOCAL";const qV=qA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A extends zA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}$A.type="SESSION";const WA=$A;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $V(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new tv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await $V(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=A5("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const g=h;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(f),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(){return window}function HV(t){ss().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(){return typeof ss().WorkerGlobalScope<"u"&&typeof ss().importScripts=="function"}async function GV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KV(){return HA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="firebaseLocalStorageDb",XV=1,cg="firebaseLocalStorage",YA="fbase_key";class Lh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nv(t,e){return t.transaction([cg],e?"readwrite":"readonly").objectStore(cg)}function QV(){const t=indexedDB.deleteDatabase(GA);return new Lh(t).toPromise()}function by(){const t=indexedDB.open(GA,XV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cg,{keyPath:YA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cg)?e(r):(r.close(),await QV(),e(await by()))})})}async function Fx(t,e,n){const r=nv(t,!0).put({[YA]:e,value:n});return new Lh(r).toPromise()}async function JV(t,e){const n=nv(t,!1).get(e),r=await new Lh(n).toPromise();return r===void 0?null:r.value}function Vx(t,e){const n=nv(t,!0).delete(e);return new Lh(n).toPromise()}const ZV=800,eB=3;class KA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await by(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>eB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tv._getInstance(KV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await GV(),!this.activeServiceWorker)return;this.sender=new WV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await by();return await Fx(e,lg,"1"),await Vx(e,lg),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JV(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=nv(i,!1).getAll();return new Lh(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KA.type="LOCAL";const tB=KA;new kh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nB(t,e){return e?qs(e):(pt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5 extends VA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ku(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ku(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ku(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rB(t){return jV(t.auth,new C5(t),t.bypassAuthState)}function iB(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),MV(n,new C5(t),t.bypassAuthState)}async function oB(t){const{auth:e,user:n}=t;return pt(n,e,"internal-error"),DV(n,new C5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rB;case"linkViaPopup":case"linkViaRedirect":return oB;case"reauthViaPopup":case"reauthViaRedirect":return iB;default:Js(this.auth,"internal-error")}}resolve(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB=new kh(2e3,1e4);class Ru extends XA{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ru.currentPopupAction&&Ru.currentPopupAction.cancel(),Ru.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return pt(e,this.auth,"internal-error"),e}async onExecution(){Zs(this.filter.length===1,"Popup operations only handle one event");const e=A5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ru.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,sB.get())};e()}}Ru.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB="pendingRedirect",um=new Map;class lB extends XA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=um.get(this.auth._key());if(!e){try{const r=await cB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}um.set(this.auth._key(),e)}return this.bypassAuthState||um.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cB(t,e){const n=fB(e),r=dB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function uB(t,e){um.set(t._key(),e)}function dB(t){return qs(t._redirectPersistence)}function fB(t){return cm(aB,t.config.apiKey,t.name)}async function hB(t,e,n=!1){if(_o(t.app))return Promise.reject(hl(t));const r=ev(t),i=nB(r,e),s=await new lB(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB=10*60*1e3;class mB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QA(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(os(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pB&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bx(e))}saveEventToCache(e){this.cachedEventUids.add(Bx(e)),this.lastProcessedEventTime=Date.now()}}function Bx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vB(t,e={}){return Ad(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wB=/^https?/;async function bB(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vB(t);for(const n of e)try{if(_B(n))return}catch{}Js(t,"unauthorized-domain")}function _B(t){const e=yy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!wB.test(n))return!1;if(yB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=new kh(3e4,6e4);function Ux(){const t=ss().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function SB(t){return new Promise((e,n)=>{var r,i,o;function s(){Ux(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ux(),n(os(t,"network-request-failed"))},timeout:xB.get()})}if(!((i=(r=ss().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ss().gapi)===null||o===void 0)&&o.load)s();else{const a=AV("iframefcb");return ss()[a]=()=>{gapi.load?s():n(os(t,"network-request-failed"))},NV(`${EV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw dm=null,e})}let dm=null;function NB(t){return dm=dm||SB(t),dm}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EB=new kh(5e3,15e3),AB="__/auth/iframe",CB="emulator/auth/iframe",PB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kB(t){const e=t.config;pt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?x5(e,CB):`https://${t.config.authDomain}/${AB}`,r={apiKey:e.apiKey,appName:t.name,v:Sd},i=TB.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Sh(r).slice(1)}`}async function IB(t){const e=await NB(t),n=ss().gapi;return pt(n,t,"internal-error"),e.open({where:document.body,url:kB(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PB,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=os(t,"network-request-failed"),a=ss().setTimeout(()=>{o(s)},EB.get());function l(){ss().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RB=500,OB=600,DB="_blank",MB="http://localhost";class zx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function jB(t,e,n,r=RB,i=OB){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},LB),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Vr().toLowerCase();n&&(a=IA(c)?DB:n),TA(c)&&(e=e||MB,l.scrollbars="yes");const f=Object.entries(l).reduce((g,[p,S])=>`${g}${p}=${S},`,"");if(gV(c)&&a!=="_self")return FB(e||"",a),new zx(null);const h=window.open(e||"",a,f);pt(h,t,"popup-blocked");try{h.focus()}catch{}return new zx(h)}function FB(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB="__/auth/handler",BB="emulator/auth/handler",UB=encodeURIComponent("fac");async function qx(t,e,n,r,i,o){pt(t.config.authDomain,t,"auth-domain-config-required"),pt(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Sd,eventId:i};if(e instanceof BA){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",JM(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))s[f]=h}if(e instanceof Ih){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const f of Object.keys(a))a[f]===void 0&&delete a[f];const l=await t._getAppCheckToken(),c=l?`#${UB}=${encodeURIComponent(l)}`:"";return`${zB(t)}?${Sh(a).slice(1)}${c}`}function zB({config:t}){return t.emulator?x5(t,BB):`https://${t.authDomain}/${VB}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="webStorageSupport";class qB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=WA,this._completeRedirectFn=hB,this._overrideRedirectResult=uB}async _openPopup(e,n,r,i){var o;Zs((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await qx(e,n,r,yy(),i);return jB(e,s,A5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await qx(e,n,r,yy(),i);return HV(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Zs(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await IB(e),r=new mB(e);return n.register("authEvent",i=>(pt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(L1,{type:L1},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[L1];s!==void 0&&n(!!s),Js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return MA()||kA()||N5()}}const $B=qB;var $x="@firebase/auth",Wx="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GB(t){ad(new xc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;pt(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jA(t)},c=new xV(r,i,o,l);return PV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ad(new xc("auth-internal",e=>{const n=ev(e.getProvider("auth").getImmediate());return(r=>new WB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),dl($x,Wx,HB(t)),dl($x,Wx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=5*60,KB=rE("authIdTokenMaxAge")||YB;let Hx=null;const XB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KB)return;const i=n==null?void 0:n.token;Hx!==i&&(Hx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function JA(t=aE()){const e=Q2(t,"auth");if(e.isInitialized())return e.getImmediate();const n=CV(t,{popupRedirectResolver:$B,persistence:[tB,qV,WA]}),r=rE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=XB(o.toString());VV(n,s,()=>s(n.currentUser)),FV(n,a=>s(a))}}const i=tE("auth");return i&&TV(n,`http://${i}`),n}function QB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}SV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=os("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",QB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GB("Browser");const JB={apiKey:"AIzaSyCx60XPDz1pEfh2y4ZyARYDU86h9AxNFXw",authDomain:"health-connectivity-01.firebaseapp.com",projectId:"health-connectivity-01",storageBucket:"health-connectivity-01.appspot.com",messagingSenderId:"429069343294",appId:"1:429069343294:web:943a1998a83e63353c0f6f"},P5=sE(JB),T5=FF(P5),_y=JA(P5);fj("debug");console.log(" Firebase initialized:",P5);console.log(" Firestore initialized:",T5);console.log(" Authentication initialized:",_y);var ZB={exports:{}};(function(t){var e=function(n){var r=Object.prototype,i=r.hasOwnProperty,o=Object.defineProperty||function(K,Q,ce){K[Q]=ce.value},s,a=typeof Symbol=="function"?Symbol:{},l=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",f=a.toStringTag||"@@toStringTag";function h(K,Q,ce){return Object.defineProperty(K,Q,{value:ce,enumerable:!0,configurable:!0,writable:!0}),K[Q]}try{h({},"")}catch{h=function(Q,ce,M){return Q[ce]=M}}function g(K,Q,ce,M){var H=Q&&Q.prototype instanceof A?Q:A,J=Object.create(H.prototype),ie=new le(M||[]);return o(J,"_invoke",{value:C(K,ce,ie)}),J}n.wrap=g;function p(K,Q,ce){try{return{type:"normal",arg:K.call(Q,ce)}}catch(M){return{type:"throw",arg:M}}}var S="suspendedStart",b="suspendedYield",E="executing",w="completed",_={};function A(){}function j(){}function q(){}var Z={};h(Z,l,function(){return this});var R=Object.getPrototypeOf,P=R&&R(R(re([])));P&&P!==r&&i.call(P,l)&&(Z=P);var D=q.prototype=A.prototype=Object.create(Z);j.prototype=q,o(D,"constructor",{value:q,configurable:!0}),o(q,"constructor",{value:j,configurable:!0}),j.displayName=h(q,f,"GeneratorFunction");function F(K){["next","throw","return"].forEach(function(Q){h(K,Q,function(ce){return this._invoke(Q,ce)})})}n.isGeneratorFunction=function(K){var Q=typeof K=="function"&&K.constructor;return Q?Q===j||(Q.displayName||Q.name)==="GeneratorFunction":!1},n.mark=function(K){return Object.setPrototypeOf?Object.setPrototypeOf(K,q):(K.__proto__=q,h(K,f,"GeneratorFunction")),K.prototype=Object.create(D),K},n.awrap=function(K){return{__await:K}};function T(K,Q){function ce(J,ie,se,oe){var he=p(K[J],K,ie);if(he.type==="throw")oe(he.arg);else{var ye=he.arg,Ae=ye.value;return Ae&&typeof Ae=="object"&&i.call(Ae,"__await")?Q.resolve(Ae.__await).then(function(Se){ce("next",Se,se,oe)},function(Se){ce("throw",Se,se,oe)}):Q.resolve(Ae).then(function(Se){ye.value=Se,se(ye)},function(Se){return ce("throw",Se,se,oe)})}}var M;function H(J,ie){function se(){return new Q(function(oe,he){ce(J,ie,oe,he)})}return M=M?M.then(se,se):se()}o(this,"_invoke",{value:H})}F(T.prototype),h(T.prototype,c,function(){return this}),n.AsyncIterator=T,n.async=function(K,Q,ce,M,H){H===void 0&&(H=Promise);var J=new T(g(K,Q,ce,M),H);return n.isGeneratorFunction(Q)?J:J.next().then(function(ie){return ie.done?ie.value:J.next()})};function C(K,Q,ce){var M=S;return function(J,ie){if(M===E)throw new Error("Generator is already running");if(M===w){if(J==="throw")throw ie;return G()}for(ce.method=J,ce.arg=ie;;){var se=ce.delegate;if(se){var oe=L(se,ce);if(oe){if(oe===_)continue;return oe}}if(ce.method==="next")ce.sent=ce._sent=ce.arg;else if(ce.method==="throw"){if(M===S)throw M=w,ce.arg;ce.dispatchException(ce.arg)}else ce.method==="return"&&ce.abrupt("return",ce.arg);M=E;var he=p(K,Q,ce);if(he.type==="normal"){if(M=ce.done?w:b,he.arg===_)continue;return{value:he.arg,done:ce.done}}else he.type==="throw"&&(M=w,ce.method="throw",ce.arg=he.arg)}}}function L(K,Q){var ce=Q.method,M=K.iterator[ce];if(M===s)return Q.delegate=null,ce==="throw"&&K.iterator.return&&(Q.method="return",Q.arg=s,L(K,Q),Q.method==="throw")||ce!=="return"&&(Q.method="throw",Q.arg=new TypeError("The iterator does not provide a '"+ce+"' method")),_;var H=p(M,K.iterator,Q.arg);if(H.type==="throw")return Q.method="throw",Q.arg=H.arg,Q.delegate=null,_;var J=H.arg;if(!J)return Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,_;if(J.done)Q[K.resultName]=J.value,Q.next=K.nextLoc,Q.method!=="return"&&(Q.method="next",Q.arg=s);else return J;return Q.delegate=null,_}F(D),h(D,f,"Generator"),h(D,l,function(){return this}),h(D,"toString",function(){return"[object Generator]"});function X(K){var Q={tryLoc:K[0]};1 in K&&(Q.catchLoc=K[1]),2 in K&&(Q.finallyLoc=K[2],Q.afterLoc=K[3]),this.tryEntries.push(Q)}function fe(K){var Q=K.completion||{};Q.type="normal",delete Q.arg,K.completion=Q}function le(K){this.tryEntries=[{tryLoc:"root"}],K.forEach(X,this),this.reset(!0)}n.keys=function(K){var Q=Object(K),ce=[];for(var M in Q)ce.push(M);return ce.reverse(),function H(){for(;ce.length;){var J=ce.pop();if(J in Q)return H.value=J,H.done=!1,H}return H.done=!0,H}};function re(K){if(K!=null){var Q=K[l];if(Q)return Q.call(K);if(typeof K.next=="function")return K;if(!isNaN(K.length)){var ce=-1,M=function H(){for(;++ce<K.length;)if(i.call(K,ce))return H.value=K[ce],H.done=!1,H;return H.value=s,H.done=!0,H};return M.next=M}}throw new TypeError(typeof K+" is not iterable")}n.values=re;function G(){return{value:s,done:!0}}return le.prototype={constructor:le,reset:function(K){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(fe),!K)for(var Q in this)Q.charAt(0)==="t"&&i.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=s)},stop:function(){this.done=!0;var K=this.tryEntries[0],Q=K.completion;if(Q.type==="throw")throw Q.arg;return this.rval},dispatchException:function(K){if(this.done)throw K;var Q=this;function ce(oe,he){return J.type="throw",J.arg=K,Q.next=oe,he&&(Q.method="next",Q.arg=s),!!he}for(var M=this.tryEntries.length-1;M>=0;--M){var H=this.tryEntries[M],J=H.completion;if(H.tryLoc==="root")return ce("end");if(H.tryLoc<=this.prev){var ie=i.call(H,"catchLoc"),se=i.call(H,"finallyLoc");if(ie&&se){if(this.prev<H.catchLoc)return ce(H.catchLoc,!0);if(this.prev<H.finallyLoc)return ce(H.finallyLoc)}else if(ie){if(this.prev<H.catchLoc)return ce(H.catchLoc,!0)}else if(se){if(this.prev<H.finallyLoc)return ce(H.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(K,Q){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var M=this.tryEntries[ce];if(M.tryLoc<=this.prev&&i.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var H=M;break}}H&&(K==="break"||K==="continue")&&H.tryLoc<=Q&&Q<=H.finallyLoc&&(H=null);var J=H?H.completion:{};return J.type=K,J.arg=Q,H?(this.method="next",this.next=H.finallyLoc,_):this.complete(J)},complete:function(K,Q){if(K.type==="throw")throw K.arg;return K.type==="break"||K.type==="continue"?this.next=K.arg:K.type==="return"?(this.rval=this.arg=K.arg,this.method="return",this.next="end"):K.type==="normal"&&Q&&(this.next=Q),_},finish:function(K){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ce=this.tryEntries[Q];if(ce.finallyLoc===K)return this.complete(ce.completion,ce.afterLoc),fe(ce),_}},catch:function(K){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ce=this.tryEntries[Q];if(ce.tryLoc===K){var M=ce.completion;if(M.type==="throw"){var H=M.arg;fe(ce)}return H}}throw new Error("illegal catch attempt")},delegateYield:function(K,Q,ce){return this.delegate={iterator:re(K),resultName:Q,nextLoc:ce},this.method==="next"&&(this.arg=s),_}},n}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(ZB);var k5={},ZA={},li={};Object.defineProperty(li,"__esModule",{value:!0});li.browserSupportsPolyfills=li.compareTwoStringsUsingDiceCoefficient=li.commandToRegExp=li.concatTranscripts=li.debounce=void 0;var eU=function(e,n,r){var i;return function(){var o=this,s=arguments,a=function(){i=null,r||e.apply(o,s)},l=r&&!i;clearTimeout(i),i=setTimeout(a,n),l&&e.apply(o,s)}};li.debounce=eU;var tU=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.map(function(i){return i.trim()}).join(" ").trim()};li.concatTranscripts=tU;var nU=/\s*\((.*?)\)\s*/g,rU=/(\(\?:[^)]+\))\?/g,iU=/(\(\?)?:\w+/g,oU=/\*/g,sU=/[-{}[\]+?.,\\^$|#]/g,aU=function(e){return e instanceof RegExp?new RegExp(e.source,"i"):(e=e.replace(sU,"\\$&").replace(nU,"(?:$1)?").replace(iU,function(n,r){return r?n:"([^\\s]+)"}).replace(oU,"(.*?)").replace(rU,"\\s*$1?\\s*"),new RegExp("^"+e+"$","i"))};li.commandToRegExp=aU;var lU=function(e,n){if(e=e.replace(/\s+/g,"").toLowerCase(),n=n.replace(/\s+/g,"").toLowerCase(),!e.length&&!n.length)return 1;if(!e.length||!n.length)return 0;if(e===n)return 1;if(e.length===1&&n.length===1||e.length<2||n.length<2)return 0;for(var r=new Map,i=0;i<e.length-1;i++){var o=e.substring(i,i+2),s=r.has(o)?r.get(o)+1:1;r.set(o,s)}for(var a=0,l=0;l<n.length-1;l++){var c=n.substring(l,l+2),f=r.has(c)?r.get(c):0;f>0&&(r.set(c,f-1),a++)}return 2*a/(e.length+n.length-2)};li.compareTwoStringsUsingDiceCoefficient=lU;var cU=function(){return typeof window<"u"&&window.navigator!==void 0&&window.navigator.mediaDevices!==void 0&&window.navigator.mediaDevices.getUserMedia!==void 0&&(window.AudioContext!==void 0||window.webkitAudioContext!==void 0)};li.browserSupportsPolyfills=cU;var hd={},Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.APPEND_TRANSCRIPT=Cc.CLEAR_TRANSCRIPT=void 0;var uU="CLEAR_TRANSCRIPT";Cc.CLEAR_TRANSCRIPT=uU;var dU="APPEND_TRANSCRIPT";Cc.APPEND_TRANSCRIPT=dU;Object.defineProperty(hd,"__esModule",{value:!0});hd.appendTranscript=hd.clearTranscript=void 0;var eC=Cc,fU=function(){return{type:eC.CLEAR_TRANSCRIPT}};hd.clearTranscript=fU;var hU=function(e,n){return{type:eC.APPEND_TRANSCRIPT,payload:{interimTranscript:e,finalTranscript:n}}};hd.appendTranscript=hU;var rv={};Object.defineProperty(rv,"__esModule",{value:!0});rv.transcriptReducer=void 0;var Gx=Cc,pU=li,mU=function(e,n){switch(n.type){case Gx.CLEAR_TRANSCRIPT:return{interimTranscript:"",finalTranscript:""};case Gx.APPEND_TRANSCRIPT:return{interimTranscript:n.payload.interimTranscript,finalTranscript:(0,pU.concatTranscripts)(e.finalTranscript,n.payload.finalTranscript)};default:throw new Error}};rv.transcriptReducer=mU;var tC={},I5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){return/(android)/i.test(typeof navigator<"u"?navigator.userAgent:"")};t.default=e})(I5);var L5={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.isNative=void 0;var e=typeof window<"u"&&(window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition),n=function(o){return o===e};t.isNative=n;var r=e;t.default=r})(L5);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=i(I5),n=li,r=L5;function i(h){return h&&h.__esModule?h:{default:h}}function o(h,g,p,S,b,E,w){try{var _=h[E](w),A=_.value}catch(j){p(j);return}_.done?g(A):Promise.resolve(A).then(S,b)}function s(h){return function(){var g=this,p=arguments;return new Promise(function(S,b){var E=h.apply(g,p);function w(A){o(E,S,b,w,_,"next",A)}function _(A){o(E,S,b,w,_,"throw",A)}w(void 0)})}}function a(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function l(h,g){for(var p=0;p<g.length;p++){var S=g[p];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(h,S.key,S)}}function c(h,g,p){return g&&l(h.prototype,g),h}var f=function(){function h(g){a(this,h),this.recognition=null,this.pauseAfterDisconnect=!1,this.interimTranscript="",this.finalTranscript="",this.listening=!1,this.isMicrophoneAvailable=!0,this.subscribers={},this.onStopListening=function(){},this.previousResultWasFinalOnly=!1,this.resetTranscript=this.resetTranscript.bind(this),this.startListening=this.startListening.bind(this),this.stopListening=this.stopListening.bind(this),this.abortListening=this.abortListening.bind(this),this.setSpeechRecognition=this.setSpeechRecognition.bind(this),this.disableRecognition=this.disableRecognition.bind(this),this.setSpeechRecognition(g),(0,e.default)()&&(this.updateFinalTranscript=(0,n.debounce)(this.updateFinalTranscript,250,!0))}return c(h,[{key:"setSpeechRecognition",value:function(p){var S=!!p&&((0,r.isNative)(p)||(0,n.browserSupportsPolyfills)());S&&(this.disableRecognition(),this.recognition=new p,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.onresult=this.updateTranscript.bind(this),this.recognition.onend=this.onRecognitionDisconnect.bind(this),this.recognition.onerror=this.onError.bind(this)),this.emitBrowserSupportsSpeechRecognitionChange(S)}},{key:"subscribe",value:function(p,S){this.subscribers[p]=S}},{key:"unsubscribe",value:function(p){delete this.subscribers[p]}},{key:"emitListeningChange",value:function(p){var S=this;this.listening=p,Object.keys(this.subscribers).forEach(function(b){var E=S.subscribers[b].onListeningChange;E(p)})}},{key:"emitMicrophoneAvailabilityChange",value:function(p){var S=this;this.isMicrophoneAvailable=p,Object.keys(this.subscribers).forEach(function(b){var E=S.subscribers[b].onMicrophoneAvailabilityChange;E(p)})}},{key:"emitTranscriptChange",value:function(p,S){var b=this;Object.keys(this.subscribers).forEach(function(E){var w=b.subscribers[E].onTranscriptChange;w(p,S)})}},{key:"emitClearTranscript",value:function(){var p=this;Object.keys(this.subscribers).forEach(function(S){var b=p.subscribers[S].onClearTranscript;b()})}},{key:"emitBrowserSupportsSpeechRecognitionChange",value:function(p){var S=this;Object.keys(this.subscribers).forEach(function(b){var E=S.subscribers[b],w=E.onBrowserSupportsSpeechRecognitionChange,_=E.onBrowserSupportsContinuousListeningChange;w(p),_(p)})}},{key:"disconnect",value:function(p){if(this.recognition&&this.listening)switch(p){case"ABORT":this.pauseAfterDisconnect=!0,this.abort();break;case"RESET":this.pauseAfterDisconnect=!1,this.abort();break;case"STOP":default:this.pauseAfterDisconnect=!0,this.stop()}}},{key:"disableRecognition",value:function(){this.recognition&&(this.recognition.onresult=function(){},this.recognition.onend=function(){},this.recognition.onerror=function(){},this.listening&&this.stopListening())}},{key:"onError",value:function(p){p&&p.error&&p.error==="not-allowed"&&(this.emitMicrophoneAvailabilityChange(!1),this.disableRecognition())}},{key:"onRecognitionDisconnect",value:function(){this.onStopListening(),this.listening=!1,this.pauseAfterDisconnect?this.emitListeningChange(!1):this.recognition&&(this.recognition.continuous?this.startListening({continuous:this.recognition.continuous}):this.emitListeningChange(!1)),this.pauseAfterDisconnect=!1}},{key:"updateTranscript",value:function(p){var S=p.results,b=p.resultIndex,E=b===void 0?S.length-1:b;this.interimTranscript="",this.finalTranscript="";for(var w=E;w<S.length;++w)S[w].isFinal&&(!(0,e.default)()||S[w][0].confidence>0)?this.updateFinalTranscript(S[w][0].transcript):this.interimTranscript=(0,n.concatTranscripts)(this.interimTranscript,S[w][0].transcript);var _=!1;this.interimTranscript===""&&this.finalTranscript!==""?(this.previousResultWasFinalOnly&&(_=!0),this.previousResultWasFinalOnly=!0):this.previousResultWasFinalOnly=!1,_||this.emitTranscriptChange(this.interimTranscript,this.finalTranscript)}},{key:"updateFinalTranscript",value:function(p){this.finalTranscript=(0,n.concatTranscripts)(this.finalTranscript,p)}},{key:"resetTranscript",value:function(){this.disconnect("RESET")}},{key:"startListening",value:function(){var g=s(regeneratorRuntime.mark(function S(){var b,E,w,_,A,j,q=arguments;return regeneratorRuntime.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(b=q.length>0&&q[0]!==void 0?q[0]:{},E=b.continuous,w=E===void 0?!1:E,_=b.language,this.recognition){R.next=3;break}return R.abrupt("return");case 3:if(A=w!==this.recognition.continuous,j=_&&_!==this.recognition.lang,!(A||j)){R.next=11;break}if(!this.listening){R.next=9;break}return R.next=9,this.stopListening();case 9:this.recognition.continuous=A?w:this.recognition.continuous,this.recognition.lang=j?_:this.recognition.lang;case 11:if(this.listening){R.next=22;break}return this.recognition.continuous||(this.resetTranscript(),this.emitClearTranscript()),R.prev=13,R.next=16,this.start();case 16:this.emitListeningChange(!0),R.next=22;break;case 19:R.prev=19,R.t0=R.catch(13),R.t0 instanceof DOMException||this.emitMicrophoneAvailabilityChange(!1);case 22:case"end":return R.stop()}},S,this,[[13,19]])}));function p(){return g.apply(this,arguments)}return p}()},{key:"abortListening",value:function(){var g=s(regeneratorRuntime.mark(function S(){var b=this;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return this.disconnect("ABORT"),this.emitListeningChange(!1),w.next=4,new Promise(function(_){b.onStopListening=_});case 4:case"end":return w.stop()}},S,this)}));function p(){return g.apply(this,arguments)}return p}()},{key:"stopListening",value:function(){var g=s(regeneratorRuntime.mark(function S(){var b=this;return regeneratorRuntime.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return this.disconnect("STOP"),this.emitListeningChange(!1),w.next=4,new Promise(function(_){b.onStopListening=_});case 4:case"end":return w.stop()}},S,this)}));function p(){return g.apply(this,arguments)}return p}()},{key:"getRecognition",value:function(){return this.recognition}},{key:"start",value:function(){var g=s(regeneratorRuntime.mark(function S(){return regeneratorRuntime.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(!(this.recognition&&!this.listening)){E.next=4;break}return E.next=3,this.recognition.start();case 3:this.listening=!0;case 4:case"end":return E.stop()}},S,this)}));function p(){return g.apply(this,arguments)}return p}()},{key:"stop",value:function(){this.recognition&&this.listening&&(this.recognition.stop(),this.listening=!1)}},{key:"abort",value:function(){this.recognition&&this.listening&&(this.recognition.abort(),this.listening=!1)}}]),h}();t.default=f})(tC);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.useSpeechRecognition=void 0;var e=O,n=li,r=hd,i=rv,o=l(tC),s=l(I5),a=l(L5);function l(C){return C&&C.__esModule?C:{default:C}}function c(C,L,X,fe,le,re,G){try{var K=C[re](G),Q=K.value}catch(ce){X(ce);return}K.done?L(Q):Promise.resolve(Q).then(fe,le)}function f(C){return function(){var L=this,X=arguments;return new Promise(function(fe,le){var re=C.apply(L,X);function G(Q){c(re,fe,le,G,K,"next",Q)}function K(Q){c(re,fe,le,G,K,"throw",Q)}G(void 0)})}}function h(C){return S(C)||p(C)||_(C)||g()}function g(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(C){if(typeof Symbol<"u"&&Symbol.iterator in Object(C))return Array.from(C)}function S(C){if(Array.isArray(C))return A(C)}function b(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(X){return typeof X}:b=function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},b(C)}function E(C,L){return q(C)||j(C,L)||_(C,L)||w()}function w(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _(C,L){if(C){if(typeof C=="string")return A(C,L);var X=Object.prototype.toString.call(C).slice(8,-1);if(X==="Object"&&C.constructor&&(X=C.constructor.name),X==="Map"||X==="Set")return Array.from(C);if(X==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return A(C,L)}}function A(C,L){(L==null||L>C.length)&&(L=C.length);for(var X=0,fe=new Array(L);X<L;X++)fe[X]=C[X];return fe}function j(C,L){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(C)))){var X=[],fe=!0,le=!1,re=void 0;try{for(var G=C[Symbol.iterator](),K;!(fe=(K=G.next()).done)&&(X.push(K.value),!(L&&X.length===L));fe=!0);}catch(Q){le=!0,re=Q}finally{try{!fe&&G.return!=null&&G.return()}finally{if(le)throw re}}return X}}function q(C){if(Array.isArray(C))return C}var Z=!!a.default,R=Z&&!(0,s.default)(),P,D=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},X=L.transcribing,fe=X===void 0?!0:X,le=L.clearTranscriptOnListen,re=le===void 0?!0:le,G=L.commands,K=G===void 0?[]:G,Q=(0,e.useState)(F.getRecognitionManager()),ce=E(Q,1),M=ce[0],H=(0,e.useState)(Z),J=E(H,2),ie=J[0],se=J[1],oe=(0,e.useState)(R),he=E(oe,2),ye=he[0],Ae=he[1],Se=(0,e.useReducer)(i.transcriptReducer,{interimTranscript:M.interimTranscript,finalTranscript:""}),ke=E(Se,2),Me=ke[0],Ye=Me.interimTranscript,xe=Me.finalTranscript,ne=ke[1],rt=(0,e.useState)(M.listening),Ke=E(rt,2),Oe=Ke[0],Ve=Ke[1],qe=(0,e.useState)(M.isMicrophoneAvailable),Be=E(qe,2),Je=Be[0],at=Be[1],ft=(0,e.useRef)(K);ft.current=K;var et=function(){ne((0,r.clearTranscript)())},tt=(0,e.useCallback)(function(){M.resetTranscript(),et()},[M]),Rt=function(ht,Et,Un){var wt=b(ht)==="object"?ht.toString():ht,_r=wt.replace(/[&/\\#,+()!$~%.'":*?<>{}]/g,"").replace(/  +/g," ").trim(),qt=(0,n.compareTwoStringsUsingDiceCoefficient)(_r,Et);return qt>=Un?{command:ht,commandWithoutSpecials:_r,howSimilar:qt,isFuzzyMatch:!0}:null},it=function(ht,Et){var Un=(0,n.commandToRegExp)(ht),wt=Un.exec(Et);return wt?{command:ht,parameters:wt.slice(1)}:null},yt=(0,e.useCallback)(function(hn,ht){ft.current.forEach(function(Et){var Un=Et.command,wt=Et.callback,_r=Et.matchInterim,qt=_r===void 0?!1:_r,zn=Et.isFuzzyMatch,xr=zn===void 0?!1:zn,Ht=Et.fuzzyMatchingThreshold,nt=Ht===void 0?.8:Ht,Tt=Et.bestMatchOnly,Zr=Tt===void 0?!1:Tt,pn=!ht&&qt?hn.trim():ht.trim(),Jn=Array.isArray(Un)?Un:[Un],Zn=Jn.map(function(Ot){return xr?Rt(Ot,pn,nt):it(Ot,pn)}).filter(function(Ot){return Ot});if(xr&&Zr&&Zn.length>=2){Zn.sort(function(Ot,sn){return sn.howSimilar-Ot.howSimilar});var He=Zn[0],Sr=He.command,er=He.commandWithoutSpecials,An=He.howSimilar;wt(er,pn,An,{command:Sr,resetTranscript:tt})}else Zn.forEach(function(Ot){if(Ot.isFuzzyMatch){var sn=Ot.command,Cn=Ot.commandWithoutSpecials,Oo=Ot.howSimilar;wt(Cn,pn,Oo,{command:sn,resetTranscript:tt})}else{var yi=Ot.command,tr=Ot.parameters;wt.apply(void 0,h(tr).concat([{command:yi,resetTranscript:tt}]))}})})},[tt]),$e=(0,e.useCallback)(function(hn,ht){fe&&ne((0,r.appendTranscript)(hn,ht)),yt(hn,ht)},[yt,fe]),fn=(0,e.useCallback)(function(){re&&et()},[re]);(0,e.useEffect)(function(){var hn=F.counter;F.counter+=1;var ht={onListeningChange:Ve,onMicrophoneAvailabilityChange:at,onTranscriptChange:$e,onClearTranscript:fn,onBrowserSupportsSpeechRecognitionChange:se,onBrowserSupportsContinuousListeningChange:Ae};return M.subscribe(hn,ht),function(){M.unsubscribe(hn)}},[fe,re,M,$e,fn]);var Nt=(0,n.concatTranscripts)(xe,Ye);return{transcript:Nt,interimTranscript:Ye,finalTranscript:xe,listening:Oe,isMicrophoneAvailable:Je,resetTranscript:tt,browserSupportsSpeechRecognition:ie,browserSupportsContinuousListening:ye}};t.useSpeechRecognition=D;var F={counter:0,applyPolyfill:function(L){P?P.setSpeechRecognition(L):P=new o.default(L);var X=!!L&&(0,n.browserSupportsPolyfills)();Z=X,R=X},removePolyfill:function(){P?P.setSpeechRecognition(a.default):P=new o.default(a.default),Z=!!a.default,R=Z&&!(0,s.default)()},getRecognitionManager:function(){return P||(P=new o.default(a.default)),P},getRecognition:function(){var L=F.getRecognitionManager();return L.getRecognition()},startListening:function(){var C=f(regeneratorRuntime.mark(function X(){var fe,le,re,G,K=arguments;return regeneratorRuntime.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return fe=K.length>0&&K[0]!==void 0?K[0]:{},le=fe.continuous,re=fe.language,G=F.getRecognitionManager(),ce.next=4,G.startListening({continuous:le,language:re});case 4:case"end":return ce.stop()}},X)}));function L(){return C.apply(this,arguments)}return L}(),stopListening:function(){var C=f(regeneratorRuntime.mark(function X(){var fe;return regeneratorRuntime.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return fe=F.getRecognitionManager(),re.next=3,fe.stopListening();case 3:case"end":return re.stop()}},X)}));function L(){return C.apply(this,arguments)}return L}(),abortListening:function(){var C=f(regeneratorRuntime.mark(function X(){var fe;return regeneratorRuntime.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return fe=F.getRecognitionManager(),re.next=3,fe.abortListening();case 3:case"end":return re.stop()}},X)}));function L(){return C.apply(this,arguments)}return L}(),browserSupportsSpeechRecognition:function(){return Z},browserSupportsContinuousListening:function(){return R}},T=F;t.default=T})(ZA);(function(t){function e(s){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(l){return typeof l}:e=function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(s)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useSpeechRecognition",{enumerable:!0,get:function(){return n.useSpeechRecognition}}),t.default=void 0;var n=i(ZA);function r(){if(typeof WeakMap!="function")return null;var s=new WeakMap;return r=function(){return s},s}function i(s){if(s&&s.__esModule)return s;if(s===null||e(s)!=="object"&&typeof s!="function")return{default:s};var a=r();if(a&&a.has(s))return a.get(s);var l={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in s)if(Object.prototype.hasOwnProperty.call(s,f)){var h=c?Object.getOwnPropertyDescriptor(s,f):null;h&&(h.get||h.set)?Object.defineProperty(l,f,h):l[f]=s[f]}return l.default=s,a&&a.set(s,l),l}var o=n.default;t.default=o})(k5);const Yx=Oy(k5),Ou=({language:t,fieldName:e,onVoiceInput:n})=>{const[r,i]=O.useState(!1),{toast:o}=ra(),{transcript:s,resetTranscript:a,browserSupportsSpeechRecognition:l}=k5.useSpeechRecognition();if(!l)return v.jsxs("p",{className:"text-red-500",children:[" ",t==="en"?"Your browser does not support speech recognition.":"Su navegador no admite el reconocimiento de voz."]});const c=()=>{a(),i(!0),Yx.startListening({continuous:!0,language:t==="en"?"en-US":"es-ES"})},f=()=>{Yx.stopListening(),i(!1),s.trim()?(n(e,s),o({title:t==="en"?"Voice Input Recorded":"Entrada de Voz Registrada",description:s,variant:"default"})):o({title:t==="en"?"No Input Detected":"No se detect entrada",description:t==="en"?"Please speak clearly and try again.":"Por favor, hable claramente e intente de nuevo.",variant:"destructive"})};return v.jsx("div",{className:"flex flex-col items-center space-y-2",children:v.jsx(bt,{className:`w-full py-4 ${r?"bg-red-600 text-white":"bg-blue-600 text-white"}`,onClick:r?f:c,children:r?v.jsxs(v.Fragment,{children:[v.jsx(SR,{className:"mr-2 h-4 w-4"}),t==="en"?"Stop Recording":"Detener Grabacin"]}):v.jsxs(v.Fragment,{children:[v.jsx(RR,{className:"mr-2 h-4 w-4"}),t==="en"?"Start Recording":"Comenzar Grabacin"]})})})},gU=({language:t,type:e,date:n,time:r,provider:i})=>v.jsxs(mi,{className:"mb-6 shadow-md border border-gray-200",children:[v.jsx(Oc,{className:"bg-blue-50 py-3 rounded-t-md",children:v.jsx(jg,{className:"text-lg font-semibold text-blue-600",children:t==="en"?"Your Appointment":"Su Cita"})}),v.jsxs(Dc,{className:"space-y-2 p-4",children:[v.jsxs("p",{children:[v.jsx("strong",{children:t==="en"?"Type:":"Tipo:"})," ",e]}),v.jsxs("p",{children:[v.jsx("strong",{children:t==="en"?"Date:":"Fecha:"})," ",n?Ji(n,"PPP"):"Not selected"]}),v.jsxs("p",{children:[v.jsx("strong",{children:t==="en"?"Time:":"Hora:"})," ",r||"Not selected"]}),v.jsxs("p",{children:[v.jsx("strong",{children:t==="en"?"Provider:":"Proveedor:"})," ",(i==null?void 0:i.name)||(t==="en"?"To be assigned":"Por asignar")]})]})]}),vU=({language:t,symptoms:e})=>e?v.jsxs("div",{className:"p-4 bg-secondary/10 rounded-lg mt-4",children:[v.jsx("h3",{className:"font-semibold mb-2",children:t==="en"?"Recorded Symptoms:":"Sntomas Registrados:"}),v.jsx("p",{children:e})]}):null,yU=({language:t,onProceed:e,appointmentDetails:n})=>{const[r,i]=O.useState(""),{toast:o}=ra(),s=async()=>{var c,f;if(!r.trim()||!(n!=null&&n.provider)){o({title:"Error",description:t==="en"?"Missing symptoms or provider information":"Faltan sntomas o informacin del proveedor",variant:"destructive"});return}try{const h={symptoms:r,patientId:(c=_y.currentUser)==null?void 0:c.uid,patientName:((f=_y.currentUser)==null?void 0:f.displayName)||"Unknown Patient",providerId:n.provider.id,providerName:n.provider.name,appointmentType:n.type,appointmentDate:n.date,appointmentTime:n.time,createdAt:JF(),status:"pending"},g=await yA(lA(T5,"symptom_reports"),h);return o({title:t==="en"?"Report Sent":"Informe Enviado",description:t==="en"?`Your symptom report has been sent to ${n.provider.name}`:`Su informe de sntomas ha sido enviado a ${n.provider.name}`}),g.id}catch(h){return console.error("Error saving report:",h),o({title:"Error",description:t==="en"?"Failed to save report. Please try again.":"Error al guardar el informe. Por favor intente nuevamente.",variant:"destructive"}),null}},a=async()=>{if(!r.trim()){o({title:t==="en"?"No Symptoms":"Sin Sntomas",description:t==="en"?"Please record your symptoms before generating a report":"Por favor registre sus sntomas antes de generar el informe",variant:"destructive"});return}const c=new st;c.setFont("helvetica","bold"),c.text("Symptom Report",10,10),c.setFont("helvetica","normal"),c.text(` Date: ${Ji(new Date,"PPP")}`,10,20),c.text(` Time: ${new Date().toLocaleTimeString()}`,10,30),c.text(` Provider: ${n.provider.name}`,10,40),c.text(` Appointment Type: ${n.type}`,10,50),c.text(` Appointment Date: ${Ji(n.date,"PPP")}`,10,60),c.text(` Appointment Time: ${n.time}`,10,70),c.text(" Symptoms:",10,80),c.text(r,10,90,{maxWidth:180}),c.save("Symptom_Report.pdf"),await s()&&e()},l=(c,f)=>{i(f)};return v.jsxs("div",{className:"container mx-auto p-4",children:[v.jsxs("h1",{className:"text-3xl font-bold mb-4",children:[" ",t==="en"?"Symptom Checker":"Verificador de Sntomas"]}),v.jsx(gU,{language:t,type:n.type,date:n.date,time:n.time,provider:n.provider}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("p",{className:"mb-4",children:t==="en"?"Please describe your symptoms. Click the microphone button and speak clearly.":"Por favor describa sus sntomas. Haga clic en el botn del micrfono y hable claramente."}),v.jsx(Ou,{language:t,fieldName:"symptoms",onVoiceInput:l}),v.jsx(vU,{language:t,symptoms:r}),v.jsx(bt,{className:"w-full py-6 mt-4",onClick:a,disabled:!r.trim(),children:t==="en"?"Generate and Send Report":"Generar y Enviar Informe"}),v.jsx(bt,{className:"w-full py-6 mt-4 bg-green-500 hover:bg-green-600",onClick:e,children:t==="en"?"Proceed to Transportation":"Proceder al Transporte"})]})]})},nC=({language:t,onProceed:e})=>{const n=Ur(),[r,i]=O.useState("8:30 AM"),[o,s]=O.useState("Community Health Center - Main Entrance"),a=()=>{alert(t==="en"?`Transportation confirmed! Pickup at ${r} from ${o}`:`Transporte confirmado! Recogida a las ${r} en ${o}`),e()};return v.jsxs("div",{className:"container mx-auto p-4",children:[v.jsxs("h1",{className:"text-3xl font-bold",children:[" ",t==="en"?"Transportation Details":"Detalles de Transporte"]}),v.jsx("p",{children:t==="en"?"Your transportation to the clinic has been arranged.":"Su transporte a la clnica ha sido arreglado."}),v.jsxs("div",{className:"mt-4 p-4 border rounded bg-gray-100",children:[v.jsxs("p",{children:[v.jsx("strong",{children:t==="en"?"Pickup Time:":"Hora de Recogida:"})," ",r]}),v.jsxs("p",{children:[v.jsx("strong",{children:t==="en"?"Pickup Location:":"Lugar de Recogida:"})," ",o]})]}),v.jsx(bt,{className:"mt-4 w-full py-6 bg-green-500 text-white",onClick:a,children:t==="en"?"Confirm Transportation":"Confirmar Transporte"}),v.jsx(bt,{className:"mt-4 w-full py-6 bg-gray-500 text-white",onClick:()=>n("/symptom-checker"),children:t==="en"?"Back to Symptom Checker":"Volver al Verificador de Sntomas"})]})},rC=({language:t})=>{const e=Ur(),n=t,r={en:{upcomingAppointment:"Upcoming Appointment",nextCheckup:"Next Check-up",transportation:"Transportation Details",pickup:"Pickup: 9:15 AM",symptoms:"Record Symptoms",reminders:"View Reminders",communityResources:"Community Resources",findClinics:"Find Free Clinics",sendWhatsApp:"Send WhatsApp Reminder"},es:{upcomingAppointment:"Prxima Cita",nextCheckup:"Prxima Revisin",transportation:"Detalles de Transporte",pickup:"Recogida: 9:15 AM",symptoms:"Registrar Sntomas",reminders:"Ver Recordatorios",communityResources:"Recursos Comunitarios",findClinics:"Encontrar Clnicas Gratuitas",sendWhatsApp:"Enviar Recordatorio por WhatsApp"}};return v.jsxs("div",{className:"min-h-screen bg-background text-foreground p-4 space-y-6 max-w-2xl mx-auto",children:[v.jsxs(mi,{className:"p-4 space-y-4",children:[v.jsx("h2",{className:"text-xl font-semibold text-primary",children:r[n].upcomingAppointment}),v.jsx("div",{className:"grid gap-4",children:v.jsxs(bt,{className:"w-full flex items-center justify-start gap-3 py-6 bg-blue-500 hover:bg-blue-600",onClick:()=>e("/symptoms"),children:[v.jsx(R2,{className:"w-5 h-5"}),r[n].symptoms]})})]}),v.jsxs(mi,{className:"p-4 space-y-4",children:[v.jsx("h2",{className:"text-xl font-semibold text-primary",children:r[n].communityResources}),v.jsx("div",{className:"grid gap-3",children:v.jsxs(bt,{variant:"outline",className:"flex items-center justify-start gap-3",onClick:()=>e("/free-clinic"),children:[v.jsx(PR,{className:"w-5 h-5"}),r[n].findClinics]})})]})]})},Lp={en:{title:"Upcoming Appointments",reasonForVisit:"Reason for Visit",preferredLanguage:"Preferred Language",risks:"Risk Factors",symptoms:"Recent Symptoms"},es:{title:"Prximas Citas",reasonForVisit:"Motivo de la Visita",preferredLanguage:"Idioma Preferido",risks:"Factores de Riesgo",symptoms:"Sntomas Recientes"}},wU=({language:t,patients:e})=>{const n=Ur();return v.jsxs(mi,{className:"col-span-1 lg:col-span-2",children:[v.jsx(Oc,{children:v.jsxs(jg,{className:"flex items-center gap-2",children:[v.jsx(eN,{className:"h-5 w-5 text-primary"}),Lp[t].title]})}),v.jsx(Dc,{children:v.jsx("div",{className:"space-y-4",children:e.map(r=>v.jsx("div",{className:"p-6 border rounded-lg hover:bg-accent cursor-pointer transition-colors animate-fade-in",onClick:()=>n(`/patient/${r.id}`),children:v.jsx("div",{className:"flex justify-between items-start",children:v.jsxs("div",{className:"space-y-4 flex-1",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-lg font-semibold",children:r.name}),v.jsxs("div",{className:"flex items-center text-muted-foreground",children:[v.jsx(R2,{className:"h-4 w-4 mr-1"}),new Date(r.nextAppointment).toLocaleString()]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:Lp[t].reasonForVisit}),v.jsx("p",{children:r.reasonForVisit})]}),r.risks.length>0&&v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:Lp[t].risks}),v.jsxs("div",{className:"flex items-start gap-2",children:[v.jsx(MR,{className:"h-4 w-4 text-destructive shrink-0 mt-1"}),v.jsx("ul",{className:"text-destructive text-sm",children:r.risks.map((i,o)=>v.jsx("li",{children:i},o))})]})]})]}),r.recentSymptoms.length>0&&v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:Lp[t].symptoms}),v.jsx("ul",{className:"text-sm list-disc list-inside",children:r.recentSymptoms.map((i,o)=>v.jsx("li",{children:i},o))})]})]})})},r.id))})})]})},Kx={en:{title:"Secure Messages",chat:"Secure Chat",unread:"unread messages"},es:{title:"Mensajes Seguros",chat:"Chat Seguro",unread:"mensajes sin leer"}},bU=[{id:1,unread:!0,from:"Maria Garcia",preview:"Lab results attached"},{id:2,unread:!0,from:"John Smith",preview:"Follow-up question"}],_U=({language:t})=>{const e=Ur();return v.jsxs(mi,{children:[v.jsx(Oc,{children:v.jsxs(jg,{className:"flex items-center gap-2",children:[v.jsx(t_,{className:"h-5 w-5"}),Kx[t].title]})}),v.jsx(Dc,{children:v.jsxs("div",{className:"space-y-4",children:[v.jsxs(bt,{variant:"outline",className:"w-full flex items-center gap-2",onClick:()=>e("/chat"),children:[v.jsx(t_,{className:"h-4 w-4"}),Kx[t].chat]}),v.jsx("div",{className:"space-y-2",children:bU.map(n=>v.jsx("div",{className:"p-3 border rounded-lg hover:bg-accent cursor-pointer transition-colors",onClick:()=>e(`/chat/${n.from}`),children:v.jsxs("div",{className:"flex items-start gap-2",children:[n.unread&&v.jsx(ER,{className:"h-2 w-2 mt-2 fill-blue-500 text-blue-500"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-medium",children:n.from}),v.jsx("p",{className:"text-sm text-muted-foreground",children:n.preview})]})]})},n.id))})]})})]})},xU=({language:t,onLanguageChange:e})=>{const n=Ur();return v.jsx("header",{className:"bg-primary text-primary-foreground shadow-md",children:v.jsx("div",{className:"container mx-auto px-4 py-4",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("div",{className:"flex items-center justify-center w-10 h-10",children:v.jsx(DR,{className:"h-8 w-8 text-primary-foreground"})}),v.jsx("h1",{className:"text-xl font-semibold hidden md:block",children:t==="en"?"Provider Portal":"Portal del Proveedor"})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs(bt,{variant:"ghost",className:"text-primary-foreground hover:text-primary-foreground/80",onClick:e,children:[v.jsx(Bm,{className:"h-5 w-5 mr-2"}),t==="en"?"Espaol":"English"]}),v.jsxs(bt,{variant:"ghost",className:"text-primary-foreground hover:text-primary-foreground/80",onClick:()=>n("/provider/login"),children:[v.jsx(kR,{className:"h-5 w-5 mr-2"}),t==="en"?"Sign Out":"Cerrar Sesin"]})]})]})})})},SU=({language:t})=>v.jsx("footer",{className:"bg-primary/5 py-6 mt-auto",children:v.jsx("div",{className:"container mx-auto px-4",children:v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[v.jsx("div",{className:"text-sm text-gray-600",children:t==="en"?" 2024 Health Connectivity Lounge. All rights reserved.":" 2024 Health Connectivity Lounge. Todos los derechos reservados."}),v.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[v.jsx("span",{children:t==="en"?"Made with":"Hecho con"}),v.jsx(rN,{className:"h-4 w-4 text-red-500"}),v.jsx("span",{children:t==="en"?"for better healthcare":"para una mejor atencin mdica"})]})]})})}),NU=[{id:"1",name:"Maria Garcia",language:"es",nextAppointment:"2025-02-10T10:00:00",reasonForVisit:"Prenatal checkup - 28 weeks",demographics:{age:28,preferredLanguage:"es",insuranceStatus:"uninsured"},vitals:{bp:[120,122,118,121],glucose:[95,98,92,96],weight:[65,65.5,66,66.2],fetalMovements:[10,12,8,15]},risks:["High blood pressure","Gestational diabetes risk"],recentSymptoms:["Mild headache","Swollen ankles"]}],EU={en:{dashboard:"Provider Dashboard",translate:"Translate",translatedTo:"Translated to Spanish"},es:{dashboard:"Panel del Proveedor",translate:"Traducir",translatedTo:"Traducido al ingls"}},iC=({language:t})=>{const{toast:e}=ra(),[n,r]=O.useState(t),i=()=>{r(o=>o==="en"?"es":"en"),e({title:EU[n].translatedTo})};return v.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[v.jsx(xU,{language:n,onLanguageChange:i}),v.jsx("main",{className:"flex-1 container mx-auto p-6 space-y-6",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsx(wU,{language:n,patients:NU}),v.jsx(_U,{language:n,onStartChat:()=>{}})]})}),v.jsx(SU,{language:n})]})},AU=()=>{const[t,e]=O.useState("en"),[n,r]=O.useState("select"),i=()=>{e(s=>s==="en"?"es":"en")},o=()=>{switch(n){case"select":return v.jsx(BR,{language:t,onLanguageChange:i});case"patient":return v.jsx(aN,{language:t,onBack:()=>r("select"),onLogin:()=>r("appointment")});case"provider":return v.jsx(lN,{language:t,onBack:()=>r("select"),onLogin:()=>r("provider-dashboard")});case"appointment":return v.jsx(kN,{language:t,onProceed:()=>r("symptoms")});case"symptoms":return v.jsx(yU,{language:t,onProceed:()=>r("transportation"),appointmentDetails:{type:"Initial Visit",date:new Date,time:"09:00",provider:{id:"1",name:"Dr. Smith",specialty:"General Practice",availability:["09:00","10:00","11:00"]}}});case"transportation":return v.jsx(nC,{language:t,onProceed:()=>r("patient-dashboard")});case"patient-dashboard":return v.jsx(rC,{language:t});case"provider-dashboard":return v.jsx(iC,{language:t});default:return console.warn(" Invalid state:",n),r("select"),null}};return v.jsx("div",{children:o()})};var CU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ut=CU.reduce((t,e)=>{const n=O.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?bc:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),v.jsx(a,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function PU(t,e){t&&wd.flushSync(()=>t.dispatchEvent(e))}var TU="Label",oC=O.forwardRef((t,e)=>v.jsx(Ut.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));oC.displayName=TU;var sC=oC;const kU=Mg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ti=O.forwardRef(({className:t,...e},n)=>v.jsx(sC,{ref:n,className:jt(kU(),t),...e}));Ti.displayName=sC.displayName;const IU=({language:t,formData:e,handleChange:n})=>v.jsxs("div",{className:"space-y-6",children:[v.jsx("h3",{className:"text-lg font-semibold",children:t==="en"?"1 Basic Information":"1 Informacin Bsica"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ti,{htmlFor:"childName",children:t==="en"?"Child's Full Name / Preferred Name":"Nombre Completo del Nio / Nombre Preferido"}),v.jsx(Pi,{id:"childName",name:"childName",value:e.childName,onChange:n,placeholder:t==="en"?"Enter name":"Ingrese nombre",required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ti,{htmlFor:"dob",children:t==="en"?"Date of Birth":"Fecha de Nacimiento"}),v.jsx(Pi,{id:"dob",name:"dob",type:"date",value:e.dob,onChange:n,required:!0})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ti,{htmlFor:"languagePreference",children:t==="en"?"Preferred Language":"Idioma Preferido"}),v.jsxs("select",{id:"languagePreference",name:"languagePreference",value:e.languagePreference,onChange:n,className:"w-full rounded-md border border-input bg-background px-3 py-2",required:!0,children:[v.jsx("option",{value:"",children:t==="en"?"Select Language":"Seleccionar Idioma"}),v.jsx("option",{value:"spanish",children:t==="en"?"Spanish":"Espaol"}),v.jsx("option",{value:"english",children:t==="en"?"English":"Ingls"}),v.jsx("option",{value:"other",children:t==="en"?"Other":"Otro"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ti,{htmlFor:"phoneNumber",children:t==="en"?"Phone Number (Optional)":"Nmero de Telfono (Opcional)"}),v.jsx(Pi,{id:"phoneNumber",name:"phoneNumber",value:e.phoneNumber,onChange:n,placeholder:t==="en"?"Enter phone number":"Ingrese nmero de telfono",type:"tel"})]}),v.jsxs("div",{className:"space-y-2 border-t pt-4",children:[v.jsx(Ti,{children:t==="en"?"Emergency Contact (Optional)":"Contacto de Emergencia (Opcional)"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsx(Pi,{name:"emergencyContactName",value:e.emergencyContactName,onChange:n,placeholder:t==="en"?"Contact Name":"Nombre de Contacto"}),v.jsx(Pi,{name:"emergencyContactRelation",value:e.emergencyContactRelation,onChange:n,placeholder:t==="en"?"Relationship":"Relacin"})]})]})]}),Of=O.forwardRef(({className:t,...e},n)=>v.jsx("textarea",{className:jt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Of.displayName="Textarea";const LU=({language:t,formData:e,handleChange:n,handleCheckboxChange:r,onVoiceInput:i})=>v.jsxs("div",{className:"space-y-6",children:[v.jsx("h3",{className:"text-lg font-semibold",children:t==="en"?"2 Medical Information":"2 Informacin Mdica"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ti,{className:"text-sm font-medium",children:t==="en"?"What symptoms are you experiencing?":"Qu sntomas tiene?"}),v.jsx(Of,{name:"symptoms",value:e.symptoms,onChange:n,required:!0}),v.jsx(Ou,{language:t,fieldName:"symptoms",onVoiceInput:i})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ti,{className:"text-sm font-medium",children:t==="en"?"Medical History (Past Conditions, Surgeries, Chronic Illnesses)":"Historial Mdico (Condiciones Previas, Cirugas, Enfermedades Crnicas)"}),v.jsx(Of,{name:"medicalHistory",value:e.medicalHistory,onChange:n}),v.jsx(Ou,{language:t,fieldName:"medicalHistory",onVoiceInput:i})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ti,{className:"text-sm font-medium",children:t==="en"?"Current Medications & Allergies":"Medicamentos Actuales y Alergias"}),v.jsx(Of,{name:"medicationsAndAllergies",value:e.medicationsAndAllergies,onChange:n}),v.jsx(Ou,{language:t,fieldName:"medicationsAndAllergies",onVoiceInput:i})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ti,{className:"text-sm font-medium",children:t==="en"?"Have you been to a hospital recently for medical care?":"Ha estado en un hospital recientemente para atencin mdica?"}),v.jsx("div",{className:"flex items-center space-x-4",children:["Yes","No"].map((o,s)=>v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"radio",name:"hasRecentHospitalVisits",checked:e.hasRecentHospitalVisits===(o==="Yes"),onChange:()=>r("hasRecentHospitalVisits",o==="Yes"),className:"rounded-full"}),v.jsx("span",{children:t==="en"?o:o==="Yes"?"S":"No"})]},s))}),e.hasRecentHospitalVisits&&v.jsxs("div",{className:"space-y-2 mt-2",children:[v.jsx(Ti,{className:"text-sm font-medium",children:t==="en"?"Where did you receive care?":"Dnde recibi atencin?"}),v.jsx(Pi,{name:"hospitalVisitLocation",value:e.hospitalVisitLocation,onChange:n,placeholder:t==="en"?"Enter location":"Ingrese ubicacin"}),v.jsx(Ou,{language:t,fieldName:"hospitalVisitLocation",onVoiceInput:i})]})]})]}),RU=Mg("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),R5=O.forwardRef(({className:t,variant:e,...n},r)=>v.jsx("div",{ref:r,role:"alert",className:jt(RU({variant:e}),t),...n}));R5.displayName="Alert";const OU=O.forwardRef(({className:t,...e},n)=>v.jsx("h5",{ref:n,className:jt("mb-1 font-medium leading-none tracking-tight",t),...e}));OU.displayName="AlertTitle";const O5=O.forwardRef(({className:t,...e},n)=>v.jsx("div",{ref:n,className:jt("text-sm [&_p]:leading-relaxed",t),...e}));O5.displayName="AlertDescription";const DU=({language:t,formData:e,handleChange:n,handleCheckboxChange:r,onVoiceInput:i})=>v.jsxs("div",{className:"space-y-6",children:[v.jsx("h3",{className:"text-lg font-semibold",children:t==="en"?"3 Social & Financial Considerations":"3 Consideraciones Sociales y Financieras"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ti,{className:"text-sm font-medium",children:t==="en"?"Do you have health insurance?":"Tiene seguro mdico?"}),v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"radio",name:"hasInsurance",checked:e.hasInsurance,onChange:()=>r("hasInsurance",!0),className:"rounded-full"}),v.jsx("span",{children:t==="en"?"Yes":"S"})]}),v.jsxs("label",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"radio",name:"hasInsurance",checked:!e.hasInsurance,onChange:()=>r("hasInsurance",!1),className:"rounded-full"}),v.jsx("span",{children:"No"})]})]}),!e.hasInsurance&&v.jsxs(R5,{className:"mt-2 bg-blue-50 border-blue-200",children:[v.jsx(iN,{className:"h-4 w-4 text-blue-600"}),v.jsx(O5,{className:"text-sm text-blue-800",children:t==="en"?"Your information will NOT be shared with law enforcement or immigration authorities. This clinic provides care regardless of immigration status.":"Su informacin NO ser compartida con la polica ni con autoridades de inmigracin. Esta clnica brinda atencin sin importar el estado migratorio."})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(Ti,{className:"text-sm font-medium",children:t==="en"?"Other concerns affecting access to healthcare?":"Otras preocupaciones que afecten el acceso a la atencin mdica?"}),v.jsx(Of,{name:"otherConcerns",value:e.otherConcerns,onChange:n}),v.jsx(Ou,{language:t,fieldName:"otherConcerns",onVoiceInput:i})]})]});function MU(t,e){const n=O.createContext(e),r=o=>{const{children:s,...a}=o,l=O.useMemo(()=>a,Object.values(a));return v.jsx(n.Provider,{value:l,children:s})};r.displayName=t+"Provider";function i(o){const s=O.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,i]}function Cd(t,e=[]){let n=[];function r(o,s){const a=O.createContext(s),l=n.length;n=[...n,s];const c=h=>{var w;const{scope:g,children:p,...S}=h,b=((w=g==null?void 0:g[t])==null?void 0:w[l])||a,E=O.useMemo(()=>S,Object.values(S));return v.jsx(b.Provider,{value:E,children:p})};c.displayName=o+"Provider";function f(h,g){var b;const p=((b=g==null?void 0:g[t])==null?void 0:b[l])||a,S=O.useContext(p);if(S)return S;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[c,f]}const i=()=>{const o=n.map(s=>O.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return O.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,jU(i,...e)]}function jU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...a,...h}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Mt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function jr(t){const e=O.useRef(t);return O.useEffect(()=>{e.current=t}),O.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ug({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=FU({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=jr(n),l=O.useCallback(c=>{if(o){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[o,t,i,a]);return[s,l]}function FU({defaultProp:t,onChange:e}){const n=O.useState(t),[r]=n,i=O.useRef(r),o=jr(e);return O.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}function aC(t){const e=O.useRef({value:t,previous:t});return O.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Br=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{};function lC(t){const[e,n]=O.useState(void 0);return Br(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function VU(t,e){return O.useReducer((n,r)=>e[n][r]??n,t)}var oa=t=>{const{present:e,children:n}=t,r=BU(e),i=typeof n=="function"?n({present:r.isPresent}):O.Children.only(n),o=tn(r.ref,UU(i));return typeof n=="function"||r.isPresent?O.cloneElement(i,{ref:o}):null};oa.displayName="Presence";function BU(t){const[e,n]=O.useState(),r=O.useRef({}),i=O.useRef(t),o=O.useRef("none"),s=t?"mounted":"unmounted",[a,l]=VU(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const c=Rp(r.current);o.current=a==="mounted"?c:"none"},[a]),Br(()=>{const c=r.current,f=i.current;if(f!==t){const g=o.current,p=Rp(c);t?l("MOUNT"):p==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&g!==p?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Br(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,h=p=>{const b=Rp(r.current).includes(p.animationName);if(p.target===e&&b&&(l("ANIMATION_END"),!i.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},g=p=>{p.target===e&&(o.current=Rp(r.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:O.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Rp(t){return(t==null?void 0:t.animationName)||"none"}function UU(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var D5="Checkbox",[zU,IW]=Cd(D5),[qU,$U]=zU(D5),cC=O.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:o,required:s,disabled:a,value:l="on",onCheckedChange:c,form:f,...h}=t,[g,p]=O.useState(null),S=tn(e,j=>p(j)),b=O.useRef(!1),E=g?f||!!g.closest("form"):!0,[w=!1,_]=ug({prop:i,defaultProp:o,onChange:c}),A=O.useRef(w);return O.useEffect(()=>{const j=g==null?void 0:g.form;if(j){const q=()=>_(A.current);return j.addEventListener("reset",q),()=>j.removeEventListener("reset",q)}},[g,_]),v.jsxs(qU,{scope:n,state:w,disabled:a,children:[v.jsx(Ut.button,{type:"button",role:"checkbox","aria-checked":pl(w)?"mixed":w,"aria-required":s,"data-state":fC(w),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:S,onKeyDown:Mt(t.onKeyDown,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:Mt(t.onClick,j=>{_(q=>pl(q)?!0:!q),E&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})}),E&&v.jsx(WU,{control:g,bubbles:!b.current,name:r,value:l,checked:w,required:s,disabled:a,form:f,style:{transform:"translateX(-100%)"},defaultChecked:pl(o)?!1:o})]})});cC.displayName=D5;var uC="CheckboxIndicator",dC=O.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,o=$U(uC,n);return v.jsx(oa,{present:r||pl(o.state)||o.state===!0,children:v.jsx(Ut.span,{"data-state":fC(o.state),"data-disabled":o.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});dC.displayName=uC;var WU=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...o}=t,s=O.useRef(null),a=aC(n),l=lC(e);O.useEffect(()=>{const f=s.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(a!==n&&p){const S=new Event("click",{bubbles:r});f.indeterminate=pl(n),p.call(f,pl(n)?!1:n),f.dispatchEvent(S)}},[a,n,r]);const c=O.useRef(pl(n)?!1:n);return v.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...o,tabIndex:-1,ref:s,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function pl(t){return t==="indeterminate"}function fC(t){return pl(t)?"indeterminate":t?"checked":"unchecked"}var hC=cC,HU=dC;const M5=O.forwardRef(({className:t,...e},n)=>v.jsx(hC,{ref:n,className:jt("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:v.jsx(HU,{className:jt("flex items-center justify-center text-current"),children:v.jsx(tN,{className:"h-4 w-4"})})}));M5.displayName=hC.displayName;const GU=({language:t,checked:e,onCheckedChange:n})=>v.jsxs("div",{className:"space-y-4",children:[v.jsx("h3",{className:"text-lg font-semibold",children:t==="en"?"4 Consent Statement":"4 Declaracin de Consentimiento"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(M5,{name:"consentToTreatment",checked:e,onCheckedChange:r=>n(r),required:!0}),v.jsx("label",{className:"text-sm",children:t==="en"?"I consent to receive medical care at this clinic, and I understand that services provided here are free or low-cost.":"Doy mi consentimiento para recibir atencin mdica en esta clnica y entiendo que los servicios proporcionados aqu son gratuitos o de bajo costo."})]})]}),YU=({currentLanguage:t,onLanguageChange:e})=>v.jsxs("div",{className:"flex justify-end space-x-2 mb-4",children:[v.jsxs(bt,{variant:"outline",size:"sm",onClick:()=>e("en"),className:t==="en"?"bg-primary/10":"",children:[v.jsx(Bm,{className:"w-4 h-4 mr-2"}),"English"]}),v.jsxs(bt,{variant:"outline",size:"sm",onClick:()=>e("es"),className:t==="es"?"bg-primary/10":"",children:[v.jsx(Bm,{className:"w-4 h-4 mr-2"}),"Espaol"]})]}),KU=({language:t})=>v.jsxs(R5,{className:"bg-yellow-50 border-yellow-200 mb-6",children:[v.jsx(iN,{className:"h-4 w-4 text-yellow-600"}),v.jsx(O5,{className:"text-sm text-yellow-800",children:t==="en"?" This form is private and will NOT be shared with law enforcement or immigration authorities. This clinic provides care regardless of immigration status.":" Este formulario es privado y NO ser compartido con la polica ni con autoridades de inmigracin. Esta clnica brinda atencin sin importar el estado migratorio."})]}),XU=({language:t,isSubmitting:e})=>v.jsx(bt,{type:"submit",className:"w-full",disabled:e,children:e?v.jsxs(v.Fragment,{children:[v.jsx(oN,{className:"mr-2 h-4 w-4 animate-spin"}),t==="en"?"Submitting...":"Enviando..."]}):t==="en"?"I Agree & Continue":"Acepto y Continuar"}),QU=({language:t})=>{const e=Ur(),{toast:n}=ra(),r=O.useRef(!0),[i,o]=O.useState(!1),[s,a]=O.useState(t),[l,c]=O.useState(null),f=JA();O.useEffect(()=>{const w=BV(f,async _=>{if(_)c(_);else try{const A=await OV(f);c(A.user)}catch(A){console.error("Anonymous Sign-In Error:",A)}});return()=>w()},[]);const[h,g]=O.useState(()=>({childName:"",dob:"",languagePreference:"",phoneNumber:"",emergencyContactName:"",emergencyContactRelation:"",symptoms:"",medicalHistory:"",medicationsAndAllergies:"",hasRecentHospitalVisits:null,hospitalVisitLocation:"",hasInsurance:null,otherConcerns:"",consentToTreatment:!1}));O.useEffect(()=>{const w=sessionStorage.getItem("preferredLanguage");return w&&a(w),()=>{r.current=!1}},[]);const p=w=>{const{name:_,value:A}=w.target;g(j=>({...j,[_]:A}))},S=(w,_)=>{g(A=>({...A,[w]:_}))},b=(w,_)=>{g(A=>({...A,[w]:_}))},E=async w=>{if(w.preventDefault(),!l){n({title:s==="en"?"Authentication Required":"Autenticacin Requerida",description:s==="en"?"You must be signed in to submit this form.":"Debe iniciar sesin para enviar este formulario.",variant:"destructive"});return}if(!h.consentToTreatment){n({title:s==="en"?"Consent Required":"Se requiere consentimiento",description:s==="en"?"Please agree to the consent statement to continue.":"Por favor, acepte la declaracin de consentimiento para continuar.",variant:"destructive"});return}o(!0);try{const _=await yA(lA(T5,"pediatricIntake"),{...h,userId:l.uid,timestamp:new Date,language:s});n({title:s==="en"?"Form Successfully Submitted!":"Formulario enviado con xito!",description:s==="en"?"Thank you for sharing this information. We will carefully review your needs.":"Gracias por compartir esta informacin. Revisaremos sus necesidades cuidadosamente.",duration:5e3}),sessionStorage.setItem("intakeId",_.id),g({childName:"",dob:"",languagePreference:"",phoneNumber:"",emergencyContactName:"",emergencyContactRelation:"",symptoms:"",medicalHistory:"",medicationsAndAllergies:"",hasRecentHospitalVisits:null,hospitalVisitLocation:"",hasInsurance:null,otherConcerns:"",consentToTreatment:!1}),e("/confirmation")}catch(_){n({title:s==="en"?"Submission Failed":"Error en el envo",description:`Error: ${_.message}`,variant:"destructive"})}finally{o(!1)}};return v.jsxs("div",{className:"container mx-auto max-w-3xl p-6 space-y-6",children:[v.jsx(KU,{language:s}),v.jsx(YU,{currentLanguage:s,onLanguageChange:a}),v.jsx("form",{onSubmit:E,children:v.jsxs(mi,{className:"p-6",children:[v.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:s==="en"?" Pediatric Intake Form":" Formulario de Ingreso Peditrico"}),v.jsx("p",{className:"text-center text-gray-600",children:s==="en"?"We provide free and compassionate pediatric care, regardless of immigration or insurance status.":"Brindamos atencin peditrica gratuita y compasiva, sin importar el estado migratorio o de seguro."}),v.jsxs("div",{className:"space-y-8",children:[v.jsx(IU,{language:s,formData:h,handleChange:p}),v.jsx(LU,{language:s,formData:h,handleChange:p,handleCheckboxChange:S,onVoiceInput:b}),v.jsx(DU,{language:s,formData:h,handleChange:p,handleCheckboxChange:S,onVoiceInput:b}),v.jsx(GU,{language:s,checked:h.consentToTreatment,onCheckedChange:w=>S("consentToTreatment",w)}),v.jsx(XU,{language:s,isSubmitting:i})]})]})})]})},JU=({language:t})=>{const e=Ur(),r=_d().state||{},[i,o]=O.useState(!1);O.useEffect(()=>{(!r.date||!r.time)&&e("/appointment")},[r,e]);let s="Invalid Date";if(r.date){const f=new Date(r.date);uN(f)&&(s=Ji(f,"PPP"))}const a=()=>{r.meetingCode&&(navigator.clipboard.writeText(r.meetingCode),o(!0),setTimeout(()=>o(!1),2e3))},c={en:{title:"Appointment Confirmed!",successMessage:"Your appointment has been successfully scheduled!",appointmentDetails:"Appointment Details",date:"Date",time:"Time",visitType:"Visit Type",virtualMeetingCode:"Meeting Code",copyCode:"Copy Code",copied:"Copied!",missingDetails:" Missing appointment details.",returnHome:"Return to Home",reschedule:"Reschedule or Cancel Appointment",smsSent:"An SMS confirmation has been sent to your registered phone number.",transportation:"Transportation Arranged",pickupTime:"Pickup Time",pickupLocation:"Pickup Location"},es:{title:"Cita Confirmada!",successMessage:"Su cita ha sido programada con xito.",appointmentDetails:"Detalles de la Cita",date:"Fecha",time:"Hora",visitType:"Tipo de Visita",virtualMeetingCode:"Cdigo de Reunin",copyCode:"Copiar Cdigo",copied:"Copiado!",missingDetails:" Faltan detalles de la cita.",returnHome:"Regresar a Inicio",reschedule:"Reprogramar o Cancelar Cita",smsSent:"Se ha enviado una confirmacin por SMS a su nmero de telfono registrado.",transportation:"Transporte Arreglado",pickupTime:"Hora de Recogida",pickupLocation:"Lugar de Recogida"}}[t];return v.jsx("div",{className:"container mx-auto p-6 max-w-3xl",children:v.jsxs(mi,{className:"shadow-lg p-6",children:[v.jsx(Oc,{children:v.jsxs("h1",{className:"text-3xl font-bold flex items-center space-x-2 text-green-600",children:[v.jsx(L2,{className:"h-7 w-7"}),v.jsx("span",{children:c.title})]})}),v.jsxs(Dc,{className:"space-y-4",children:[v.jsx("p",{className:"text-lg",children:c.successMessage}),r.date&&r.time?v.jsxs("div",{className:"bg-gray-100 p-4 rounded-md",children:[v.jsx("h2",{className:"font-semibold text-xl",children:c.appointmentDetails}),v.jsxs("p",{className:"mt-2",children:[" ",v.jsxs("strong",{children:[c.date,":"]})," ",s]}),v.jsxs("p",{children:[" ",v.jsxs("strong",{children:[c.time,":"]})," ",r.time]}),v.jsxs("p",{children:[" ",v.jsxs("strong",{children:[c.visitType,":"]})," ",r.appointmentType]}),r.appointmentType==="Virtual Visit"&&r.meetingCode&&v.jsxs("div",{className:"mt-4 bg-white p-3 border rounded-md flex items-center justify-between",children:[v.jsxs("span",{className:"font-bold text-blue-600",children:[" ",c.virtualMeetingCode,": ",r.meetingCode]}),v.jsx(bt,{variant:"outline",size:"sm",onClick:a,children:i?c.copied:c.copyCode})]}),r.transportation&&v.jsxs("div",{className:"mt-4 bg-green-50 p-4 rounded-md border border-green-300",children:[v.jsx("h3",{className:"font-semibold text-lg",children:c.transportation}),v.jsxs("p",{children:[" ",v.jsxs("strong",{children:[c.pickupTime,":"]})," ",r.pickupTime]}),v.jsxs("p",{children:[" ",v.jsxs("strong",{children:[c.pickupLocation,":"]})," ",r.pickupLocation]})]})]}):v.jsx("p",{className:"text-red-500",children:c.missingDetails}),v.jsxs("div",{className:"mt-4 bg-green-50 p-4 rounded-md flex items-center gap-2 text-green-700 border border-green-300",children:[v.jsx(LR,{className:"h-6 w-6 text-green-600"}),v.jsx("p",{children:c.smsSent})]})]}),v.jsxs(Fg,{className:"flex flex-col gap-4",children:[v.jsx(bt,{className:"w-full bg-blue-600 hover:bg-blue-700",onClick:()=>e("/"),children:c.returnHome}),v.jsx(bt,{className:"w-full bg-red-600 hover:bg-red-700",variant:"outline",onClick:()=>e("/appointment"),children:c.reschedule})]})]})})},ZU=()=>{const t=Ur();return v.jsxs("div",{className:"container mx-auto p-4",children:[v.jsx("h1",{className:"text-3xl font-bold",children:" Find a Free Clinic"}),v.jsx("p",{children:"Enter your location to find nearby clinics that provide free maternal care."}),v.jsx("input",{type:"text",placeholder:"Enter your city or ZIP code",className:"w-full p-2 border rounded"}),v.jsx(bt,{className:"w-full py-6 bg-blue-500 text-white",children:"Search Clinics"}),v.jsx(bt,{className:"mt-4 w-full py-6 bg-gray-500 text-white",onClick:()=>t("/patient/dashboard"),children:"Back to Dashboard"})]})},ez=Mg("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function R1({className:t,variant:e,...n}){return v.jsx("div",{className:jt(ez({variant:e}),t),...n})}const tz=(t,e)=>{const{patientName:n,examDate:r,systolic:i,diastolic:o}=t,s=()=>i<120&&o<80?{status:"Normal",icon:""}:i>=120&&i<130&&o<80?{status:e==="en"?"Elevated":"Elevada",icon:"!"}:i>=130&&i<140||o>=80&&o<90?{status:e==="en"?"Stage 1 Hypertension":"Hipertensin Etapa 1",icon:""}:i>=140||o>=90?{status:e==="en"?"Stage 2 Hypertension":"Hipertensin Etapa 2",icon:""}:i>=180||o>=120?{status:e==="en"?"Hypertensive Crisis":"Crisis Hipertensiva",icon:""}:{status:e==="en"?"Unknown":"Desconocido",icon:"?"},{status:a,icon:l}=s(),f={en:{title:"BLOOD PRESSURE REPORT",date:"Date",patient:"Patient Name",provider:"Healthcare Provider",reading:"Blood Pressure Reading",systolic:"Systolic",diastolic:"Diastolic",status:"Status",recommendation:"Recommendations",followUp:"Follow-up Instructions",emergency:"If you experience severe headache, vision problems, or chest pain, seek immediate medical attention.",disclaimer:"This report is for informational purposes only and does not constitute medical advice.",signature:"Generated by Healthcare System",normalRange:"Normal Range: Less than 120/80 mmHg",nextSteps:"Next Steps"},es:{title:"INFORME DE PRESIN ARTERIAL",date:"Fecha",patient:"Nombre del Paciente",provider:"Proveedor de Salud",reading:"Lectura de Presin Arterial",systolic:"Sistlica",diastolic:"Diastlica",status:"Estado",recommendation:"Recomendaciones",followUp:"Instrucciones de Seguimiento",emergency:"Si experimenta dolor de cabeza severo, problemas de visin o dolor en el pecho, busque atencin mdica inmediata.",disclaimer:"Este informe es solo para fines informativos y no constituye consejo mdico.",signature:"Generado por Sistema de Salud",normalRange:"Rango Normal: Menos de 120/80 mmHg",nextSteps:"Prximos Pasos"}}[e];return`
${f.title}
----------------------------------------

${f.date}: ${r}
${f.patient}: ${n}
${f.provider}: Dr. Smith

${f.reading}
----------------------------------------
${f.systolic}: ${i} mmHg
${f.diastolic}: ${o} mmHg
${f.status}: ${l} ${a}
${f.normalRange}

${f.recommendation}
----------------------------------------
${nz(i,o,e)}

${f.followUp}
----------------------------------------
* ${e==="en"?"Schedule follow-up appointment in 2 weeks":"Programar cita de seguimiento en 2 semanas"}
* ${e==="en"?"Monitor blood pressure daily":"Monitorear la presin arterial diariamente"}
* ${e==="en"?"Maintain blood pressure log":"Mantener registro de presin arterial"}

${f.emergency}

----------------------------------------
${f.disclaimer}
${f.signature}
`},nz=(t,e,n)=>{const i={en:{lifestyle:["* Maintain a healthy diet low in sodium","* Regular physical activity (30 minutes daily)","* Limit alcohol consumption","* Quit smoking if applicable","* Manage stress levels"],medication:"* Continue prescribed medications as directed",monitoring:"* Monitor blood pressure regularly"},es:{lifestyle:["* Mantener una dieta saludable baja en sodio","* Actividad fsica regular (30 minutos diarios)","* Limitar el consumo de alcohol","* Dejar de fumar si aplica","* Manejar niveles de estrs"],medication:"* Continuar medicamentos segn lo prescrito",monitoring:"* Monitorear la presin arterial regularmente"}}[n];return`${i.lifestyle.join(`
`)}
${i.medication}
${i.monitoring}`};var rz=PS.useId||(()=>{}),iz=0;function Xu(t){const[e,n]=O.useState(rz());return Br(()=>{n(r=>r??String(iz++))},[t]),e?`radix-${e}`:""}function oz(t,e=globalThis==null?void 0:globalThis.document){const n=jr(t);O.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var sz="DismissableLayer",xy="dismissableLayer.update",az="dismissableLayer.pointerDownOutside",lz="dismissableLayer.focusOutside",Xx,pC=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),j5=O.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=O.useContext(pC),[f,h]=O.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=O.useState({}),S=tn(e,R=>h(R)),b=Array.from(c.layers),[E]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),w=b.indexOf(E),_=f?b.indexOf(f):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,j=_>=w,q=dz(R=>{const P=R.target,D=[...c.branches].some(F=>F.contains(P));!j||D||(i==null||i(R),s==null||s(R),R.defaultPrevented||a==null||a())},g),Z=fz(R=>{const P=R.target;[...c.branches].some(F=>F.contains(P))||(o==null||o(R),s==null||s(R),R.defaultPrevented||a==null||a())},g);return oz(R=>{_===c.layers.size-1&&(r==null||r(R),!R.defaultPrevented&&a&&(R.preventDefault(),a()))},g),O.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Xx=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),Qx(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Xx)}},[f,g,n,c]),O.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),Qx())},[f,c]),O.useEffect(()=>{const R=()=>p({});return document.addEventListener(xy,R),()=>document.removeEventListener(xy,R)},[]),v.jsx(Ut.div,{...l,ref:S,style:{pointerEvents:A?j?"auto":"none":void 0,...t.style},onFocusCapture:Mt(t.onFocusCapture,Z.onFocusCapture),onBlurCapture:Mt(t.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Mt(t.onPointerDownCapture,q.onPointerDownCapture)})});j5.displayName=sz;var cz="DismissableLayerBranch",uz=O.forwardRef((t,e)=>{const n=O.useContext(pC),r=O.useRef(null),i=tn(e,r);return O.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),v.jsx(Ut.div,{...t,ref:i})});uz.displayName=cz;function dz(t,e=globalThis==null?void 0:globalThis.document){const n=jr(t),r=O.useRef(!1),i=O.useRef(()=>{});return O.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){mC(az,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function fz(t,e=globalThis==null?void 0:globalThis.document){const n=jr(t),r=O.useRef(!1);return O.useEffect(()=>{const i=o=>{o.target&&!r.current&&mC(lz,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Qx(){const t=new CustomEvent(xy);document.dispatchEvent(t)}function mC(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?PU(i,o):i.dispatchEvent(o)}var O1="focusScope.autoFocusOnMount",D1="focusScope.autoFocusOnUnmount",Jx={bubbles:!1,cancelable:!0},hz="FocusScope",F5=O.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=O.useState(null),c=jr(i),f=jr(o),h=O.useRef(null),g=tn(e,b=>l(b)),p=O.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;O.useEffect(()=>{if(r){let b=function(A){if(p.paused||!a)return;const j=A.target;a.contains(j)?h.current=j:Ua(h.current,{select:!0})},E=function(A){if(p.paused||!a)return;const j=A.relatedTarget;j!==null&&(a.contains(j)||Ua(h.current,{select:!0}))},w=function(A){if(document.activeElement===document.body)for(const q of A)q.removedNodes.length>0&&Ua(a)};document.addEventListener("focusin",b),document.addEventListener("focusout",E);const _=new MutationObserver(w);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",E),_.disconnect()}}},[r,a,p.paused]),O.useEffect(()=>{if(a){eS.add(p);const b=document.activeElement;if(!a.contains(b)){const w=new CustomEvent(O1,Jx);a.addEventListener(O1,c),a.dispatchEvent(w),w.defaultPrevented||(pz(wz(gC(a)),{select:!0}),document.activeElement===b&&Ua(a))}return()=>{a.removeEventListener(O1,c),setTimeout(()=>{const w=new CustomEvent(D1,Jx);a.addEventListener(D1,f),a.dispatchEvent(w),w.defaultPrevented||Ua(b??document.body,{select:!0}),a.removeEventListener(D1,f),eS.remove(p)},0)}}},[a,c,f,p]);const S=O.useCallback(b=>{if(!n&&!r||p.paused)return;const E=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,w=document.activeElement;if(E&&w){const _=b.currentTarget,[A,j]=mz(_);A&&j?!b.shiftKey&&w===j?(b.preventDefault(),n&&Ua(A,{select:!0})):b.shiftKey&&w===A&&(b.preventDefault(),n&&Ua(j,{select:!0})):w===_&&b.preventDefault()}},[n,r,p.paused]);return v.jsx(Ut.div,{tabIndex:-1,...s,ref:g,onKeyDown:S})});F5.displayName=hz;function pz(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ua(r,{select:e}),document.activeElement!==n)return}function mz(t){const e=gC(t),n=Zx(e,t),r=Zx(e.reverse(),t);return[n,r]}function gC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Zx(t,e){for(const n of t)if(!gz(n,{upTo:e}))return n}function gz(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function vz(t){return t instanceof HTMLInputElement&&"select"in t}function Ua(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&vz(t)&&e&&t.select()}}var eS=yz();function yz(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=tS(t,e),t.unshift(e)},remove(e){var n;t=tS(t,e),(n=t[0])==null||n.resume()}}}function tS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function wz(t){return t.filter(e=>e.tagName!=="A")}var bz="Portal",V5=O.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=O.useState(!1);Br(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?C6.createPortal(v.jsx(Ut.div,{...r,ref:e}),s):null});V5.displayName=bz;var M1=0;function vC(){O.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??nS()),document.body.insertAdjacentElement("beforeend",t[1]??nS()),M1++,()=>{M1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),M1--}},[])}function nS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fm="right-scroll-bar-position",hm="width-before-scroll-bar",_z="with-scroll-bars-hidden",xz="--removed-body-scroll-bar-size";function j1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Sz(t,e){var n=O.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Nz=typeof window<"u"?O.useLayoutEffect:O.useEffect,rS=new WeakMap;function Ez(t,e){var n=Sz(null,function(r){return t.forEach(function(i){return j1(i,r)})});return Nz(function(){var r=rS.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||j1(a,null)}),o.forEach(function(a){i.has(a)||j1(a,s)})}rS.set(n,t)},[t]),n}function Az(t){return t}function Cz(t,e){e===void 0&&(e=Az);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var f=s;s=[],f.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(f){s.push(f),c()},filter:function(f){return s=s.filter(f),n}}}};return i}function Pz(t){t===void 0&&(t={});var e=Cz(null);return e.options=Zo({async:!0,ssr:!1},t),e}var yC=function(t){var e=t.sideCar,n=Th(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return O.createElement(r,Zo({},n))};yC.isSideCarExport=!0;function Tz(t,e){return t.useMedium(e),yC}var wC=Pz(),F1=function(){},iv=O.forwardRef(function(t,e){var n=O.useRef(null),r=O.useState({onScrollCapture:F1,onWheelCapture:F1,onTouchMoveCapture:F1}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,h=t.shards,g=t.sideCar,p=t.noIsolation,S=t.inert,b=t.allowPinchZoom,E=t.as,w=E===void 0?"div":E,_=t.gapMode,A=Th(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),j=g,q=Ez([n,e]),Z=Zo(Zo({},A),i);return O.createElement(O.Fragment,null,f&&O.createElement(j,{sideCar:wC,removeScrollBar:c,shards:h,noIsolation:p,inert:S,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:_}),s?O.cloneElement(O.Children.only(a),Zo(Zo({},Z),{ref:q})):O.createElement(w,Zo({},Z,{className:l,ref:q}),a))});iv.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};iv.classNames={fullWidth:hm,zeroRight:fm};var kz=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Iz(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=kz();return e&&t.setAttribute("nonce",e),t}function Lz(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Rz(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Oz=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Iz())&&(Lz(e,n),Rz(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Dz=function(){var t=Oz();return function(e,n){O.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},bC=function(){var t=Dz(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Mz={left:0,top:0,right:0,gap:0},V1=function(t){return parseInt(t||"",10)||0},jz=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[V1(n),V1(r),V1(i)]},Fz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Mz;var e=jz(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Vz=bC(),Qu="data-scroll-locked",Bz=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_z,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Qu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fm,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(hm,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(fm," .").concat(fm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hm," .").concat(hm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Qu,`] {
    `).concat(xz,": ").concat(a,`px;
  }
`)},iS=function(){var t=parseInt(document.body.getAttribute(Qu)||"0",10);return isFinite(t)?t:0},Uz=function(){O.useEffect(function(){return document.body.setAttribute(Qu,(iS()+1).toString()),function(){var t=iS()-1;t<=0?document.body.removeAttribute(Qu):document.body.setAttribute(Qu,t.toString())}},[])},zz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Uz();var o=O.useMemo(function(){return Fz(i)},[i]);return O.createElement(Vz,{styles:Bz(o,!e,i,n?"":"!important")})},Sy=!1;if(typeof window<"u")try{var Op=Object.defineProperty({},"passive",{get:function(){return Sy=!0,!0}});window.addEventListener("test",Op,Op),window.removeEventListener("test",Op,Op)}catch{Sy=!1}var hu=Sy?{passive:!1}:!1,qz=function(t){return t.tagName==="TEXTAREA"},_C=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!qz(t)&&n[e]==="visible")},$z=function(t){return _C(t,"overflowY")},Wz=function(t){return _C(t,"overflowX")},oS=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=xC(t,r);if(i){var o=SC(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Hz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Gz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},xC=function(t,e){return t==="v"?$z(e):Wz(e)},SC=function(t,e){return t==="v"?Hz(e):Gz(e)},Yz=function(t,e){return t==="h"&&e==="rtl"?-1:1},Kz=function(t,e,n,r,i){var o=Yz(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,f=s>0,h=0,g=0;do{var p=SC(t,a),S=p[0],b=p[1],E=p[2],w=b-E-o*S;(S||w)&&xC(t,a)&&(h+=w,g+=S),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&Math.abs(h)<1||!f&&Math.abs(g)<1)&&(c=!0),c},Dp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},sS=function(t){return[t.deltaX,t.deltaY]},aS=function(t){return t&&"current"in t?t.current:t},Xz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Qz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Jz=0,pu=[];function Zz(t){var e=O.useRef([]),n=O.useRef([0,0]),r=O.useRef(),i=O.useState(Jz++)[0],o=O.useState(bC)[0],s=O.useRef(t);O.useEffect(function(){s.current=t},[t]),O.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=ZF([t.lockRef.current],(t.shards||[]).map(aS),!0).filter(Boolean);return b.forEach(function(E){return E.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=O.useCallback(function(b,E){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!s.current.allowPinchZoom;var w=Dp(b),_=n.current,A="deltaX"in b?b.deltaX:_[0]-w[0],j="deltaY"in b?b.deltaY:_[1]-w[1],q,Z=b.target,R=Math.abs(A)>Math.abs(j)?"h":"v";if("touches"in b&&R==="h"&&Z.type==="range")return!1;var P=oS(R,Z);if(!P)return!0;if(P?q=R:(q=R==="v"?"h":"v",P=oS(R,Z)),!P)return!1;if(!r.current&&"changedTouches"in b&&(A||j)&&(r.current=q),!q)return!0;var D=r.current||q;return Kz(D,E,b,D==="h"?A:j)},[]),l=O.useCallback(function(b){var E=b;if(!(!pu.length||pu[pu.length-1]!==o)){var w="deltaY"in E?sS(E):Dp(E),_=e.current.filter(function(q){return q.name===E.type&&(q.target===E.target||E.target===q.shadowParent)&&Xz(q.delta,w)})[0];if(_&&_.should){E.cancelable&&E.preventDefault();return}if(!_){var A=(s.current.shards||[]).map(aS).filter(Boolean).filter(function(q){return q.contains(E.target)}),j=A.length>0?a(E,A[0]):!s.current.noIsolation;j&&E.cancelable&&E.preventDefault()}}},[]),c=O.useCallback(function(b,E,w,_){var A={name:b,delta:E,target:w,should:_,shadowParent:eq(w)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(j){return j!==A})},1)},[]),f=O.useCallback(function(b){n.current=Dp(b),r.current=void 0},[]),h=O.useCallback(function(b){c(b.type,sS(b),b.target,a(b,t.lockRef.current))},[]),g=O.useCallback(function(b){c(b.type,Dp(b),b.target,a(b,t.lockRef.current))},[]);O.useEffect(function(){return pu.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",l,hu),document.addEventListener("touchmove",l,hu),document.addEventListener("touchstart",f,hu),function(){pu=pu.filter(function(b){return b!==o}),document.removeEventListener("wheel",l,hu),document.removeEventListener("touchmove",l,hu),document.removeEventListener("touchstart",f,hu)}},[]);var p=t.removeScrollBar,S=t.inert;return O.createElement(O.Fragment,null,S?O.createElement(o,{styles:Qz(i)}):null,p?O.createElement(zz,{gapMode:t.gapMode}):null)}function eq(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const tq=Tz(wC,Zz);var B5=O.forwardRef(function(t,e){return O.createElement(iv,Zo({},t,{ref:e,sideCar:tq}))});B5.classNames=iv.classNames;var nq=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},mu=new WeakMap,Mp=new WeakMap,jp={},B1=0,NC=function(t){return t&&(t.host||NC(t.parentNode))},rq=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=NC(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},iq=function(t,e,n,r){var i=rq(e,Array.isArray(t)?t:[t]);jp[n]||(jp[n]=new WeakMap);var o=jp[n],s=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var f=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(g){if(a.has(g))f(g);else try{var p=g.getAttribute(r),S=p!==null&&p!=="false",b=(mu.get(g)||0)+1,E=(o.get(g)||0)+1;mu.set(g,b),o.set(g,E),s.push(g),b===1&&S&&Mp.set(g,!0),E===1&&g.setAttribute(n,"true"),S||g.setAttribute(r,"true")}catch(w){console.error("aria-hidden: cannot operate on ",g,w)}})};return f(e),a.clear(),B1++,function(){s.forEach(function(h){var g=mu.get(h)-1,p=o.get(h)-1;mu.set(h,g),o.set(h,p),g||(Mp.has(h)||h.removeAttribute(r),Mp.delete(h)),p||h.removeAttribute(n)}),B1--,B1||(mu=new WeakMap,mu=new WeakMap,Mp=new WeakMap,jp={})}},EC=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=nq(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),iq(r,i,n,"aria-hidden")):function(){return null}},U5="Dialog",[AC,LW]=Cd(U5),[oq,Ro]=AC(U5),CC=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=O.useRef(null),l=O.useRef(null),[c=!1,f]=ug({prop:r,defaultProp:i,onChange:o});return v.jsx(oq,{scope:e,triggerRef:a,contentRef:l,contentId:Xu(),titleId:Xu(),descriptionId:Xu(),open:c,onOpenChange:f,onOpenToggle:O.useCallback(()=>f(h=>!h),[f]),modal:s,children:n})};CC.displayName=U5;var PC="DialogTrigger",sq=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ro(PC,n),o=tn(e,i.triggerRef);return v.jsx(Ut.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$5(i.open),...r,ref:o,onClick:Mt(t.onClick,i.onOpenToggle)})});sq.displayName=PC;var z5="DialogPortal",[aq,TC]=AC(z5,{forceMount:void 0}),kC=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Ro(z5,e);return v.jsx(aq,{scope:e,forceMount:n,children:O.Children.map(r,s=>v.jsx(oa,{present:n||o.open,children:v.jsx(V5,{asChild:!0,container:i,children:s})}))})};kC.displayName=z5;var dg="DialogOverlay",IC=O.forwardRef((t,e)=>{const n=TC(dg,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Ro(dg,t.__scopeDialog);return o.modal?v.jsx(oa,{present:r||o.open,children:v.jsx(lq,{...i,ref:e})}):null});IC.displayName=dg;var lq=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ro(dg,n);return v.jsx(B5,{as:bc,allowPinchZoom:!0,shards:[i.contentRef],children:v.jsx(Ut.div,{"data-state":$5(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Pc="DialogContent",LC=O.forwardRef((t,e)=>{const n=TC(Pc,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Ro(Pc,t.__scopeDialog);return v.jsx(oa,{present:r||o.open,children:o.modal?v.jsx(cq,{...i,ref:e}):v.jsx(uq,{...i,ref:e})})});LC.displayName=Pc;var cq=O.forwardRef((t,e)=>{const n=Ro(Pc,t.__scopeDialog),r=O.useRef(null),i=tn(e,n.contentRef,r);return O.useEffect(()=>{const o=r.current;if(o)return EC(o)},[]),v.jsx(RC,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mt(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:Mt(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:Mt(t.onFocusOutside,o=>o.preventDefault())})}),uq=O.forwardRef((t,e)=>{const n=Ro(Pc,t.__scopeDialog),r=O.useRef(!1),i=O.useRef(!1);return v.jsx(RC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),RC=O.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=Ro(Pc,n),l=O.useRef(null),c=tn(e,l);return vC(),v.jsxs(v.Fragment,{children:[v.jsx(F5,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:v.jsx(j5,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":$5(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),v.jsxs(v.Fragment,{children:[v.jsx(dq,{titleId:a.titleId}),v.jsx(hq,{contentRef:l,descriptionId:a.descriptionId})]})]})}),q5="DialogTitle",OC=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ro(q5,n);return v.jsx(Ut.h2,{id:i.titleId,...r,ref:e})});OC.displayName=q5;var DC="DialogDescription",MC=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ro(DC,n);return v.jsx(Ut.p,{id:i.descriptionId,...r,ref:e})});MC.displayName=DC;var jC="DialogClose",FC=O.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ro(jC,n);return v.jsx(Ut.button,{type:"button",...r,ref:e,onClick:Mt(t.onClick,()=>i.onOpenChange(!1))})});FC.displayName=jC;function $5(t){return t?"open":"closed"}var VC="DialogTitleWarning",[RW,BC]=MU(VC,{contentName:Pc,titleName:q5,docsSlug:"dialog"}),dq=({titleId:t})=>{const e=BC(VC),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return O.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},fq="DialogDescriptionWarning",hq=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BC(fq).contentName}}.`;return O.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},pq=CC,mq=kC,UC=IC,zC=LC,qC=OC,$C=MC,gq=FC;const vq=pq,yq=mq,WC=O.forwardRef(({className:t,...e},n)=>v.jsx(UC,{ref:n,className:jt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));WC.displayName=UC.displayName;const HC=O.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(yq,{children:[v.jsx(WC,{}),v.jsxs(zC,{ref:r,className:jt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,v.jsxs(gq,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[v.jsx(VR,{className:"h-4 w-4"}),v.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));HC.displayName=zC.displayName;const GC=({className:t,...e})=>v.jsx("div",{className:jt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});GC.displayName="DialogHeader";const YC=O.forwardRef(({className:t,...e},n)=>v.jsx(qC,{ref:n,className:jt("text-lg font-semibold leading-none tracking-tight",t),...e}));YC.displayName=qC.displayName;const wq=O.forwardRef(({className:t,...e},n)=>v.jsx($C,{ref:n,className:jt("text-sm text-muted-foreground",t),...e}));wq.displayName=$C.displayName;function Ny(t,[e,n]){return Math.min(n,Math.max(e,t))}function bq(t){const e=t+"CollectionProvider",[n,r]=Cd(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:S,children:b}=p,E=Ms.useRef(null),w=Ms.useRef(new Map).current;return v.jsx(i,{scope:S,itemMap:w,collectionRef:E,children:b})};s.displayName=e;const a=t+"CollectionSlot",l=Ms.forwardRef((p,S)=>{const{scope:b,children:E}=p,w=o(a,b),_=tn(S,w.collectionRef);return v.jsx(bc,{ref:_,children:E})});l.displayName=a;const c=t+"CollectionItemSlot",f="data-radix-collection-item",h=Ms.forwardRef((p,S)=>{const{scope:b,children:E,...w}=p,_=Ms.useRef(null),A=tn(S,_),j=o(c,b);return Ms.useEffect(()=>(j.itemMap.set(_,{ref:_,...w}),()=>void j.itemMap.delete(_))),v.jsx(bc,{[f]:"",ref:A,children:E})});h.displayName=c;function g(p){const S=o(t+"CollectionConsumer",p);return Ms.useCallback(()=>{const E=S.collectionRef.current;if(!E)return[];const w=Array.from(E.querySelectorAll(`[${f}]`));return Array.from(S.itemMap.values()).sort((j,q)=>w.indexOf(j.ref.current)-w.indexOf(q.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:s,Slot:l,ItemSlot:h},g,r]}var _q=O.createContext(void 0);function KC(t){const e=O.useContext(_q);return t||e||"ltr"}const xq=["top","right","bottom","left"],El=Math.min,Ci=Math.max,fg=Math.round,Fp=Math.floor,as=t=>({x:t,y:t}),Sq={left:"right",right:"left",bottom:"top",top:"bottom"},Nq={start:"end",end:"start"};function Ey(t,e,n){return Ci(t,El(e,n))}function ea(t,e){return typeof t=="function"?t(e):t}function ta(t){return t.split("-")[0]}function Pd(t){return t.split("-")[1]}function W5(t){return t==="x"?"y":"x"}function H5(t){return t==="y"?"height":"width"}function Al(t){return["top","bottom"].includes(ta(t))?"y":"x"}function G5(t){return W5(Al(t))}function Eq(t,e,n){n===void 0&&(n=!1);const r=Pd(t),i=G5(t),o=H5(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=hg(s)),[s,hg(s)]}function Aq(t){const e=hg(t);return[Ay(t),e,Ay(e)]}function Ay(t){return t.replace(/start|end/g,e=>Nq[e])}function Cq(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function Pq(t,e,n,r){const i=Pd(t);let o=Cq(ta(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Ay)))),o}function hg(t){return t.replace(/left|right|bottom|top/g,e=>Sq[e])}function Tq(t){return{top:0,right:0,bottom:0,left:0,...t}}function XC(t){return typeof t!="number"?Tq(t):{top:t,right:t,bottom:t,left:t}}function pg(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function lS(t,e,n){let{reference:r,floating:i}=t;const o=Al(e),s=G5(e),a=H5(s),l=ta(e),c=o==="y",f=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,g=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:f,y:r.y-i.height};break;case"bottom":p={x:f,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:h};break;case"left":p={x:r.x-i.width,y:h};break;default:p={x:r.x,y:r.y}}switch(Pd(e)){case"start":p[s]-=g*(n&&c?-1:1);break;case"end":p[s]+=g*(n&&c?-1:1);break}return p}const kq=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:h}=lS(c,r,l),g=r,p={},S=0;for(let b=0;b<a.length;b++){const{name:E,fn:w}=a[b],{x:_,y:A,data:j,reset:q}=await w({x:f,y:h,initialPlacement:r,placement:g,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:t,floating:e}});f=_??f,h=A??h,p={...p,[E]:{...p[E],...j}},q&&S<=50&&(S++,typeof q=="object"&&(q.placement&&(g=q.placement),q.rects&&(c=q.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):q.rects),{x:f,y:h}=lS(c,g,l)),b=-1)}return{x:f,y:h,placement:g,strategy:i,middlewareData:p}};async function uh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:h="floating",altBoundary:g=!1,padding:p=0}=ea(e,t),S=XC(p),E=a[g?h==="floating"?"reference":"floating":h],w=pg(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),_=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),j=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},q=pg(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:A,strategy:l}):_);return{top:(w.top-q.top+S.top)/j.y,bottom:(q.bottom-w.bottom+S.bottom)/j.y,left:(w.left-q.left+S.left)/j.x,right:(q.right-w.right+S.right)/j.x}}const Iq=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=ea(t,e)||{};if(c==null)return{};const h=XC(f),g={x:n,y:r},p=G5(i),S=H5(p),b=await s.getDimensions(c),E=p==="y",w=E?"top":"left",_=E?"bottom":"right",A=E?"clientHeight":"clientWidth",j=o.reference[S]+o.reference[p]-g[p]-o.floating[S],q=g[p]-o.reference[p],Z=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let R=Z?Z[A]:0;(!R||!await(s.isElement==null?void 0:s.isElement(Z)))&&(R=a.floating[A]||o.floating[S]);const P=j/2-q/2,D=R/2-b[S]/2-1,F=El(h[w],D),T=El(h[_],D),C=F,L=R-b[S]-T,X=R/2-b[S]/2+P,fe=Ey(C,X,L),le=!l.arrow&&Pd(i)!=null&&X!==fe&&o.reference[S]/2-(X<C?F:T)-b[S]/2<0,re=le?X<C?X-C:X-L:0;return{[p]:g[p]+re,data:{[p]:fe,centerOffset:X-fe-re,...le&&{alignmentOffset:re}},reset:le}}}),Lq=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:b=!0,...E}=ea(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const w=ta(i),_=Al(a),A=ta(a)===a,j=await(l.isRTL==null?void 0:l.isRTL(c.floating)),q=g||(A||!b?[hg(a)]:Aq(a)),Z=S!=="none";!g&&Z&&q.push(...Pq(a,b,S,j));const R=[a,...q],P=await uh(e,E),D=[];let F=((r=o.flip)==null?void 0:r.overflows)||[];if(f&&D.push(P[w]),h){const X=Eq(i,s,j);D.push(P[X[0]],P[X[1]])}if(F=[...F,{placement:i,overflows:D}],!D.every(X=>X<=0)){var T,C;const X=(((T=o.flip)==null?void 0:T.index)||0)+1,fe=R[X];if(fe)return{data:{index:X,overflows:F},reset:{placement:fe}};let le=(C=F.filter(re=>re.overflows[0]<=0).sort((re,G)=>re.overflows[1]-G.overflows[1])[0])==null?void 0:C.placement;if(!le)switch(p){case"bestFit":{var L;const re=(L=F.filter(G=>{if(Z){const K=Al(G.placement);return K===_||K==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(K=>K>0).reduce((K,Q)=>K+Q,0)]).sort((G,K)=>G[1]-K[1])[0])==null?void 0:L[0];re&&(le=re);break}case"initialPlacement":le=a;break}if(i!==le)return{reset:{placement:le}}}return{}}}};function cS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function uS(t){return xq.some(e=>t[e]>=0)}const Rq=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ea(t,e);switch(r){case"referenceHidden":{const o=await uh(e,{...i,elementContext:"reference"}),s=cS(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:uS(s)}}}case"escaped":{const o=await uh(e,{...i,altBoundary:!0}),s=cS(o,n.floating);return{data:{escapedOffsets:s,escaped:uS(s)}}}default:return{}}}}};async function Oq(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ta(n),a=Pd(n),l=Al(n)==="y",c=["left","top"].includes(s)?-1:1,f=o&&l?-1:1,h=ea(e,t);let{mainAxis:g,crossAxis:p,alignmentAxis:S}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof S=="number"&&(p=a==="end"?S*-1:S),l?{x:p*f,y:g*c}:{x:g*c,y:p*f}}const Dq=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await Oq(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Mq=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:E=>{let{x:w,y:_}=E;return{x:w,y:_}}},...l}=ea(t,e),c={x:n,y:r},f=await uh(e,l),h=Al(ta(i)),g=W5(h);let p=c[g],S=c[h];if(o){const E=g==="y"?"top":"left",w=g==="y"?"bottom":"right",_=p+f[E],A=p-f[w];p=Ey(_,p,A)}if(s){const E=h==="y"?"top":"left",w=h==="y"?"bottom":"right",_=S+f[E],A=S-f[w];S=Ey(_,S,A)}const b=a.fn({...e,[g]:p,[h]:S});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[g]:o,[h]:s}}}}}},jq=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=ea(t,e),f={x:n,y:r},h=Al(i),g=W5(h);let p=f[g],S=f[h];const b=ea(a,e),E=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(l){const A=g==="y"?"height":"width",j=o.reference[g]-o.floating[A]+E.mainAxis,q=o.reference[g]+o.reference[A]-E.mainAxis;p<j?p=j:p>q&&(p=q)}if(c){var w,_;const A=g==="y"?"width":"height",j=["top","left"].includes(ta(i)),q=o.reference[h]-o.floating[A]+(j&&((w=s.offset)==null?void 0:w[h])||0)+(j?0:E.crossAxis),Z=o.reference[h]+o.reference[A]+(j?0:((_=s.offset)==null?void 0:_[h])||0)-(j?E.crossAxis:0);S<q?S=q:S>Z&&(S=Z)}return{[g]:p,[h]:S}}}},Fq=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:o,platform:s,elements:a}=e,{apply:l=()=>{},...c}=ea(t,e),f=await uh(e,c),h=ta(i),g=Pd(i),p=Al(i)==="y",{width:S,height:b}=o.floating;let E,w;h==="top"||h==="bottom"?(E=h,w=g===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(w=h,E=g==="end"?"top":"bottom");const _=b-f.top-f.bottom,A=S-f.left-f.right,j=El(b-f[E],_),q=El(S-f[w],A),Z=!e.middlewareData.shift;let R=j,P=q;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=A),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(R=_),Z&&!g){const F=Ci(f.left,0),T=Ci(f.right,0),C=Ci(f.top,0),L=Ci(f.bottom,0);p?P=S-2*(F!==0||T!==0?F+T:Ci(f.left,f.right)):R=b-2*(C!==0||L!==0?C+L:Ci(f.top,f.bottom))}await l({...e,availableWidth:P,availableHeight:R});const D=await s.getDimensions(a.floating);return S!==D.width||b!==D.height?{reset:{rects:!0}}:{}}}};function ov(){return typeof window<"u"}function Td(t){return QC(t)?(t.nodeName||"").toLowerCase():"#document"}function Ri(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hs(t){var e;return(e=(QC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function QC(t){return ov()?t instanceof Node||t instanceof Ri(t).Node:!1}function To(t){return ov()?t instanceof Element||t instanceof Ri(t).Element:!1}function ds(t){return ov()?t instanceof HTMLElement||t instanceof Ri(t).HTMLElement:!1}function dS(t){return!ov()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ri(t).ShadowRoot}function Rh(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=ko(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Vq(t){return["table","td","th"].includes(Td(t))}function sv(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Y5(t){const e=K5(),n=To(t)?ko(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Bq(t){let e=Cl(t);for(;ds(e)&&!pd(e);){if(Y5(e))return e;if(sv(e))return null;e=Cl(e)}return null}function K5(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pd(t){return["html","body","#document"].includes(Td(t))}function ko(t){return Ri(t).getComputedStyle(t)}function av(t){return To(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Cl(t){if(Td(t)==="html")return t;const e=t.assignedSlot||t.parentNode||dS(t)&&t.host||hs(t);return dS(e)?e.host:e}function JC(t){const e=Cl(t);return pd(e)?t.ownerDocument?t.ownerDocument.body:t.body:ds(e)&&Rh(e)?e:JC(e)}function dh(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=JC(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Ri(i);if(o){const a=Cy(s);return e.concat(s,s.visualViewport||[],Rh(i)?i:[],a&&n?dh(a):[])}return e.concat(i,dh(i,[],n))}function Cy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZC(t){const e=ko(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ds(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=fg(n)!==o||fg(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function X5(t){return To(t)?t:t.contextElement}function Ju(t){const e=X5(t);if(!ds(e))return as(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=ZC(e);let s=(o?fg(n.width):n.width)/r,a=(o?fg(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Uq=as(0);function eP(t){const e=Ri(t);return!K5()||!e.visualViewport?Uq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ri(t)?!1:e}function Tc(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=X5(t);let s=as(1);e&&(r?To(r)&&(s=Ju(r)):s=Ju(t));const a=zq(o,n,r)?eP(o):as(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,f=i.width/s.x,h=i.height/s.y;if(o){const g=Ri(o),p=r&&To(r)?Ri(r):r;let S=g,b=Cy(S);for(;b&&r&&p!==S;){const E=Ju(b),w=b.getBoundingClientRect(),_=ko(b),A=w.left+(b.clientLeft+parseFloat(_.paddingLeft))*E.x,j=w.top+(b.clientTop+parseFloat(_.paddingTop))*E.y;l*=E.x,c*=E.y,f*=E.x,h*=E.y,l+=A,c+=j,S=Ri(b),b=Cy(S)}}return pg({width:f,height:h,x:l,y:c})}function Q5(t,e){const n=av(t).scrollLeft;return e?e.left+n:Tc(hs(t)).left+n}function tP(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Q5(t,r)),o=r.top+e.scrollTop;return{x:i,y:o}}function qq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=hs(r),a=e?sv(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=as(1);const f=as(0),h=ds(r);if((h||!h&&!o)&&((Td(r)!=="body"||Rh(s))&&(l=av(r)),ds(r))){const p=Tc(r);c=Ju(r),f.x=p.x+r.clientLeft,f.y=p.y+r.clientTop}const g=s&&!h&&!o?tP(s,l,!0):as(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x+g.x,y:n.y*c.y-l.scrollTop*c.y+f.y+g.y}}function $q(t){return Array.from(t.getClientRects())}function Wq(t){const e=hs(t),n=av(t),r=t.ownerDocument.body,i=Ci(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Ci(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Q5(t);const a=-n.scrollTop;return ko(r).direction==="rtl"&&(s+=Ci(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Hq(t,e){const n=Ri(t),r=hs(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=K5();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Gq(t,e){const n=Tc(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=ds(t)?Ju(t):as(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function fS(t,e,n){let r;if(e==="viewport")r=Hq(t,n);else if(e==="document")r=Wq(hs(t));else if(To(e))r=Gq(e,n);else{const i=eP(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return pg(r)}function nP(t,e){const n=Cl(t);return n===e||!To(n)||pd(n)?!1:ko(n).position==="fixed"||nP(n,e)}function Yq(t,e){const n=e.get(t);if(n)return n;let r=dh(t,[],!1).filter(a=>To(a)&&Td(a)!=="body"),i=null;const o=ko(t).position==="fixed";let s=o?Cl(t):t;for(;To(s)&&!pd(s);){const a=ko(s),l=Y5(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Rh(s)&&!l&&nP(t,s))?r=r.filter(f=>f!==s):i=a,s=Cl(s)}return e.set(t,r),r}function Kq(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?sv(e)?[]:Yq(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,f)=>{const h=fS(e,f,i);return c.top=Ci(h.top,c.top),c.right=El(h.right,c.right),c.bottom=El(h.bottom,c.bottom),c.left=Ci(h.left,c.left),c},fS(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Xq(t){const{width:e,height:n}=ZC(t);return{width:e,height:n}}function Qq(t,e,n){const r=ds(e),i=hs(e),o=n==="fixed",s=Tc(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=as(0);if(r||!r&&!o)if((Td(e)!=="body"||Rh(i))&&(a=av(e)),r){const g=Tc(e,!0,o,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else i&&(l.x=Q5(i));const c=i&&!r&&!o?tP(i,a):as(0),f=s.left+a.scrollLeft-l.x-c.x,h=s.top+a.scrollTop-l.y-c.y;return{x:f,y:h,width:s.width,height:s.height}}function U1(t){return ko(t).position==="static"}function hS(t,e){if(!ds(t)||ko(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return hs(t)===n&&(n=n.ownerDocument.body),n}function rP(t,e){const n=Ri(t);if(sv(t))return n;if(!ds(t)){let i=Cl(t);for(;i&&!pd(i);){if(To(i)&&!U1(i))return i;i=Cl(i)}return n}let r=hS(t,e);for(;r&&Vq(r)&&U1(r);)r=hS(r,e);return r&&pd(r)&&U1(r)&&!Y5(r)?n:r||Bq(t)||n}const Jq=async function(t){const e=this.getOffsetParent||rP,n=this.getDimensions,r=await n(t.floating);return{reference:Qq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Zq(t){return ko(t).direction==="rtl"}const e$={convertOffsetParentRelativeRectToViewportRelativeRect:qq,getDocumentElement:hs,getClippingRect:Kq,getOffsetParent:rP,getElementRects:Jq,getClientRects:$q,getDimensions:Xq,getScale:Ju,isElement:To,isRTL:Zq};function iP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function t$(t,e){let n=null,r;const i=hs(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=t.getBoundingClientRect(),{left:f,top:h,width:g,height:p}=c;if(a||e(),!g||!p)return;const S=Fp(h),b=Fp(i.clientWidth-(f+g)),E=Fp(i.clientHeight-(h+p)),w=Fp(f),A={rootMargin:-S+"px "+-b+"px "+-E+"px "+-w+"px",threshold:Ci(0,El(1,l))||1};let j=!0;function q(Z){const R=Z[0].intersectionRatio;if(R!==l){if(!j)return s();R?s(!1,R):r=setTimeout(()=>{s(!1,1e-7)},1e3)}R===1&&!iP(c,t.getBoundingClientRect())&&s(),j=!1}try{n=new IntersectionObserver(q,{...A,root:i.ownerDocument})}catch{n=new IntersectionObserver(q,A)}n.observe(t)}return s(!0),o}function n$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=X5(t),f=i||o?[...c?dh(c):[],...dh(e)]:[];f.forEach(w=>{i&&w.addEventListener("scroll",n,{passive:!0}),o&&w.addEventListener("resize",n)});const h=c&&a?t$(c,n):null;let g=-1,p=null;s&&(p=new ResizeObserver(w=>{let[_]=w;_&&_.target===c&&p&&(p.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var A;(A=p)==null||A.observe(e)})),n()}),c&&!l&&p.observe(c),p.observe(e));let S,b=l?Tc(t):null;l&&E();function E(){const w=Tc(t);b&&!iP(b,w)&&n(),b=w,S=requestAnimationFrame(E)}return n(),()=>{var w;f.forEach(_=>{i&&_.removeEventListener("scroll",n),o&&_.removeEventListener("resize",n)}),h==null||h(),(w=p)==null||w.disconnect(),p=null,l&&cancelAnimationFrame(S)}}const r$=Dq,i$=Mq,o$=Lq,s$=Fq,a$=Rq,pS=Iq,l$=jq,c$=(t,e,n)=>{const r=new Map,i={platform:e$,...n},o={...i.platform,_c:r};return kq(t,e,{...i,platform:o})};var pm=typeof document<"u"?O.useLayoutEffect:O.useEffect;function mg(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!mg(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!mg(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function oP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function mS(t,e){const n=oP(t);return Math.round(e*n)/n}function z1(t){const e=O.useRef(t);return pm(()=>{e.current=t}),e}function u$(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[f,h]=O.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,p]=O.useState(r);mg(g,r)||p(r);const[S,b]=O.useState(null),[E,w]=O.useState(null),_=O.useCallback(G=>{G!==Z.current&&(Z.current=G,b(G))},[]),A=O.useCallback(G=>{G!==R.current&&(R.current=G,w(G))},[]),j=o||S,q=s||E,Z=O.useRef(null),R=O.useRef(null),P=O.useRef(f),D=l!=null,F=z1(l),T=z1(i),C=z1(c),L=O.useCallback(()=>{if(!Z.current||!R.current)return;const G={placement:e,strategy:n,middleware:g};T.current&&(G.platform=T.current),c$(Z.current,R.current,G).then(K=>{const Q={...K,isPositioned:C.current!==!1};X.current&&!mg(P.current,Q)&&(P.current=Q,wd.flushSync(()=>{h(Q)}))})},[g,e,n,T,C]);pm(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,h(G=>({...G,isPositioned:!1})))},[c]);const X=O.useRef(!1);pm(()=>(X.current=!0,()=>{X.current=!1}),[]),pm(()=>{if(j&&(Z.current=j),q&&(R.current=q),j&&q){if(F.current)return F.current(j,q,L);L()}},[j,q,L,F,D]);const fe=O.useMemo(()=>({reference:Z,floating:R,setReference:_,setFloating:A}),[_,A]),le=O.useMemo(()=>({reference:j,floating:q}),[j,q]),re=O.useMemo(()=>{const G={position:n,left:0,top:0};if(!le.floating)return G;const K=mS(le.floating,f.x),Q=mS(le.floating,f.y);return a?{...G,transform:"translate("+K+"px, "+Q+"px)",...oP(le.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:K,top:Q}},[n,a,le.floating,f.x,f.y]);return O.useMemo(()=>({...f,update:L,refs:fe,elements:le,floatingStyles:re}),[f,L,fe,le,re])}const d$=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?pS({element:r.current,padding:i}).fn(n):{}:r?pS({element:r,padding:i}).fn(n):{}}}},f$=(t,e)=>({...r$(t),options:[t,e]}),h$=(t,e)=>({...i$(t),options:[t,e]}),p$=(t,e)=>({...l$(t),options:[t,e]}),m$=(t,e)=>({...o$(t),options:[t,e]}),g$=(t,e)=>({...s$(t),options:[t,e]}),v$=(t,e)=>({...a$(t),options:[t,e]}),y$=(t,e)=>({...d$(t),options:[t,e]});var w$="Arrow",sP=O.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return v.jsx(Ut.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:v.jsx("polygon",{points:"0,0 30,0 15,10"})})});sP.displayName=w$;var b$=sP,J5="Popper",[aP,lP]=Cd(J5),[_$,cP]=aP(J5),uP=t=>{const{__scopePopper:e,children:n}=t,[r,i]=O.useState(null);return v.jsx(_$,{scope:e,anchor:r,onAnchorChange:i,children:n})};uP.displayName=J5;var dP="PopperAnchor",fP=O.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=cP(dP,n),s=O.useRef(null),a=tn(e,s);return O.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:v.jsx(Ut.div,{...i,ref:a})});fP.displayName=dP;var Z5="PopperContent",[x$,S$]=aP(Z5),hP=O.forwardRef((t,e)=>{var oe,he,ye,Ae,Se,ke;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:p="optimized",onPlaced:S,...b}=t,E=cP(Z5,n),[w,_]=O.useState(null),A=tn(e,Me=>_(Me)),[j,q]=O.useState(null),Z=lC(j),R=(Z==null?void 0:Z.width)??0,P=(Z==null?void 0:Z.height)??0,D=r+(o!=="center"?"-"+o:""),F=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},T=Array.isArray(c)?c:[c],C=T.length>0,L={padding:F,boundary:T.filter(E$),altBoundary:C},{refs:X,floatingStyles:fe,placement:le,isPositioned:re,middlewareData:G}=u$({strategy:"fixed",placement:D,whileElementsMounted:(...Me)=>n$(...Me,{animationFrame:p==="always"}),elements:{reference:E.anchor},middleware:[f$({mainAxis:i+P,alignmentAxis:s}),l&&h$({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?p$():void 0,...L}),l&&m$({...L}),g$({...L,apply:({elements:Me,rects:Ye,availableWidth:xe,availableHeight:ne})=>{const{width:rt,height:Ke}=Ye.reference,Oe=Me.floating.style;Oe.setProperty("--radix-popper-available-width",`${xe}px`),Oe.setProperty("--radix-popper-available-height",`${ne}px`),Oe.setProperty("--radix-popper-anchor-width",`${rt}px`),Oe.setProperty("--radix-popper-anchor-height",`${Ke}px`)}}),j&&y$({element:j,padding:a}),A$({arrowWidth:R,arrowHeight:P}),g&&v$({strategy:"referenceHidden",...L})]}),[K,Q]=gP(le),ce=jr(S);Br(()=>{re&&(ce==null||ce())},[re,ce]);const M=(oe=G.arrow)==null?void 0:oe.x,H=(he=G.arrow)==null?void 0:he.y,J=((ye=G.arrow)==null?void 0:ye.centerOffset)!==0,[ie,se]=O.useState();return Br(()=>{w&&se(window.getComputedStyle(w).zIndex)},[w]),v.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...fe,transform:re?fe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ie,"--radix-popper-transform-origin":[(Ae=G.transformOrigin)==null?void 0:Ae.x,(Se=G.transformOrigin)==null?void 0:Se.y].join(" "),...((ke=G.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:v.jsx(x$,{scope:n,placedSide:K,onArrowChange:q,arrowX:M,arrowY:H,shouldHideArrow:J,children:v.jsx(Ut.div,{"data-side":K,"data-align":Q,...b,ref:A,style:{...b.style,animation:re?void 0:"none"}})})})});hP.displayName=Z5;var pP="PopperArrow",N$={top:"bottom",right:"left",bottom:"top",left:"right"},mP=O.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=S$(pP,r),s=N$[o.placedSide];return v.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:v.jsx(b$,{...i,ref:n,style:{...i.style,display:"block"}})})});mP.displayName=pP;function E$(t){return t!==null}var A$=t=>({name:"transformOrigin",options:t,fn(e){var E,w,_;const{placement:n,rects:r,middlewareData:i}=e,s=((E=i.arrow)==null?void 0:E.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,f]=gP(n),h={start:"0%",center:"50%",end:"100%"}[f],g=(((w=i.arrow)==null?void 0:w.x)??0)+a/2,p=(((_=i.arrow)==null?void 0:_.y)??0)+l/2;let S="",b="";return c==="bottom"?(S=s?h:`${g}px`,b=`${-l}px`):c==="top"?(S=s?h:`${g}px`,b=`${r.floating.height+l}px`):c==="right"?(S=`${-l}px`,b=s?h:`${p}px`):c==="left"&&(S=`${r.floating.width+l}px`,b=s?h:`${p}px`),{data:{x:S,y:b}}}});function gP(t){const[e,n="center"]=t.split("-");return[e,n]}var C$=uP,P$=fP,T$=hP,k$=mP,I$="VisuallyHidden",vP=O.forwardRef((t,e)=>v.jsx(Ut.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));vP.displayName=I$;var L$=[" ","Enter","ArrowUp","ArrowDown"],R$=[" ","Enter"],Oh="Select",[lv,cv,O$]=bq(Oh),[kd,OW]=Cd(Oh,[O$,lP]),uv=lP(),[D$,Ll]=kd(Oh),[M$,j$]=kd(Oh),yP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:f,autoComplete:h,disabled:g,required:p,form:S}=t,b=uv(e),[E,w]=O.useState(null),[_,A]=O.useState(null),[j,q]=O.useState(!1),Z=KC(c),[R=!1,P]=ug({prop:r,defaultProp:i,onChange:o}),[D,F]=ug({prop:s,defaultProp:a,onChange:l}),T=O.useRef(null),C=E?S||!!E.closest("form"):!0,[L,X]=O.useState(new Set),fe=Array.from(L).map(le=>le.props.value).join(";");return v.jsx(C$,{...b,children:v.jsxs(D$,{required:p,scope:e,trigger:E,onTriggerChange:w,valueNode:_,onValueNodeChange:A,valueNodeHasChildren:j,onValueNodeHasChildrenChange:q,contentId:Xu(),value:D,onValueChange:F,open:R,onOpenChange:P,dir:Z,triggerPointerDownPosRef:T,disabled:g,children:[v.jsx(lv.Provider,{scope:e,children:v.jsx(M$,{scope:t.__scopeSelect,onNativeOptionAdd:O.useCallback(le=>{X(re=>new Set(re).add(le))},[]),onNativeOptionRemove:O.useCallback(le=>{X(re=>{const G=new Set(re);return G.delete(le),G})},[]),children:n})}),C?v.jsxs(zP,{"aria-hidden":!0,required:p,tabIndex:-1,name:f,autoComplete:h,value:D,onChange:le=>F(le.target.value),disabled:g,form:S,children:[D===void 0?v.jsx("option",{value:""}):null,Array.from(L)]},fe):null]})})};yP.displayName=Oh;var wP="SelectTrigger",bP=O.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=uv(n),s=Ll(wP,n),a=s.disabled||r,l=tn(e,s.onTriggerChange),c=cv(n),f=O.useRef("touch"),[h,g,p]=qP(b=>{const E=c().filter(A=>!A.disabled),w=E.find(A=>A.value===s.value),_=$P(E,b,w);_!==void 0&&s.onValueChange(_.value)}),S=b=>{a||(s.onOpenChange(!0),p()),b&&(s.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return v.jsx(P$,{asChild:!0,...o,children:v.jsx(Ut.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":UP(s.value)?"":void 0,...i,ref:l,onClick:Mt(i.onClick,b=>{b.currentTarget.focus(),f.current!=="mouse"&&S(b)}),onPointerDown:Mt(i.onPointerDown,b=>{f.current=b.pointerType;const E=b.target;E.hasPointerCapture(b.pointerId)&&E.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(S(b),b.preventDefault())}),onKeyDown:Mt(i.onKeyDown,b=>{const E=h.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(E&&b.key===" ")&&L$.includes(b.key)&&(S(),b.preventDefault())})})})});bP.displayName=wP;var _P="SelectValue",F$=O.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=Ll(_P,n),{onValueNodeHasChildrenChange:c}=l,f=o!==void 0,h=tn(e,l.onValueNodeChange);return Br(()=>{c(f)},[c,f]),v.jsx(Ut.span,{...a,ref:h,style:{pointerEvents:"none"},children:UP(l.value)?v.jsx(v.Fragment,{children:s}):o})});F$.displayName=_P;var V$="SelectIcon",xP=O.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return v.jsx(Ut.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});xP.displayName=V$;var B$="SelectPortal",SP=t=>v.jsx(V5,{asChild:!0,...t});SP.displayName=B$;var kc="SelectContent",NP=O.forwardRef((t,e)=>{const n=Ll(kc,t.__scopeSelect),[r,i]=O.useState();if(Br(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?wd.createPortal(v.jsx(EP,{scope:t.__scopeSelect,children:v.jsx(lv.Slot,{scope:t.__scopeSelect,children:v.jsx("div",{children:t.children})})}),o):null}return v.jsx(AP,{...t,ref:e})});NP.displayName=kc;var mo=10,[EP,Rl]=kd(kc),U$="SelectContentImpl",AP=O.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:p,sticky:S,hideWhenDetached:b,avoidCollisions:E,...w}=t,_=Ll(kc,n),[A,j]=O.useState(null),[q,Z]=O.useState(null),R=tn(e,oe=>j(oe)),[P,D]=O.useState(null),[F,T]=O.useState(null),C=cv(n),[L,X]=O.useState(!1),fe=O.useRef(!1);O.useEffect(()=>{if(A)return EC(A)},[A]),vC();const le=O.useCallback(oe=>{const[he,...ye]=C().map(ke=>ke.ref.current),[Ae]=ye.slice(-1),Se=document.activeElement;for(const ke of oe)if(ke===Se||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===he&&q&&(q.scrollTop=0),ke===Ae&&q&&(q.scrollTop=q.scrollHeight),ke==null||ke.focus(),document.activeElement!==Se))return},[C,q]),re=O.useCallback(()=>le([P,A]),[le,P,A]);O.useEffect(()=>{L&&re()},[L,re]);const{onOpenChange:G,triggerPointerDownPosRef:K}=_;O.useEffect(()=>{if(A){let oe={x:0,y:0};const he=Ae=>{var Se,ke;oe={x:Math.abs(Math.round(Ae.pageX)-(((Se=K.current)==null?void 0:Se.x)??0)),y:Math.abs(Math.round(Ae.pageY)-(((ke=K.current)==null?void 0:ke.y)??0))}},ye=Ae=>{oe.x<=10&&oe.y<=10?Ae.preventDefault():A.contains(Ae.target)||G(!1),document.removeEventListener("pointermove",he),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",ye,{capture:!0})}}},[A,G,K]),O.useEffect(()=>{const oe=()=>G(!1);return window.addEventListener("blur",oe),window.addEventListener("resize",oe),()=>{window.removeEventListener("blur",oe),window.removeEventListener("resize",oe)}},[G]);const[Q,ce]=qP(oe=>{const he=C().filter(Se=>!Se.disabled),ye=he.find(Se=>Se.ref.current===document.activeElement),Ae=$P(he,oe,ye);Ae&&setTimeout(()=>Ae.ref.current.focus())}),M=O.useCallback((oe,he,ye)=>{const Ae=!fe.current&&!ye;(_.value!==void 0&&_.value===he||Ae)&&(D(oe),Ae&&(fe.current=!0))},[_.value]),H=O.useCallback(()=>A==null?void 0:A.focus(),[A]),J=O.useCallback((oe,he,ye)=>{const Ae=!fe.current&&!ye;(_.value!==void 0&&_.value===he||Ae)&&T(oe)},[_.value]),ie=r==="popper"?Py:CP,se=ie===Py?{side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:h,collisionBoundary:g,collisionPadding:p,sticky:S,hideWhenDetached:b,avoidCollisions:E}:{};return v.jsx(EP,{scope:n,content:A,viewport:q,onViewportChange:Z,itemRefCallback:M,selectedItem:P,onItemLeave:H,itemTextRefCallback:J,focusSelectedItem:re,selectedItemText:F,position:r,isPositioned:L,searchRef:Q,children:v.jsx(B5,{as:bc,allowPinchZoom:!0,children:v.jsx(F5,{asChild:!0,trapped:_.open,onMountAutoFocus:oe=>{oe.preventDefault()},onUnmountAutoFocus:Mt(i,oe=>{var he;(he=_.trigger)==null||he.focus({preventScroll:!0}),oe.preventDefault()}),children:v.jsx(j5,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:oe=>oe.preventDefault(),onDismiss:()=>_.onOpenChange(!1),children:v.jsx(ie,{role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:oe=>oe.preventDefault(),...w,...se,onPlaced:()=>X(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:Mt(w.onKeyDown,oe=>{const he=oe.ctrlKey||oe.altKey||oe.metaKey;if(oe.key==="Tab"&&oe.preventDefault(),!he&&oe.key.length===1&&ce(oe.key),["ArrowUp","ArrowDown","Home","End"].includes(oe.key)){let Ae=C().filter(Se=>!Se.disabled).map(Se=>Se.ref.current);if(["ArrowUp","End"].includes(oe.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(oe.key)){const Se=oe.target,ke=Ae.indexOf(Se);Ae=Ae.slice(ke+1)}setTimeout(()=>le(Ae)),oe.preventDefault()}})})})})})})});AP.displayName=U$;var z$="SelectItemAlignedPosition",CP=O.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Ll(kc,n),s=Rl(kc,n),[a,l]=O.useState(null),[c,f]=O.useState(null),h=tn(e,R=>f(R)),g=cv(n),p=O.useRef(!1),S=O.useRef(!0),{viewport:b,selectedItem:E,selectedItemText:w,focusSelectedItem:_}=s,A=O.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&b&&E&&w){const R=o.trigger.getBoundingClientRect(),P=c.getBoundingClientRect(),D=o.valueNode.getBoundingClientRect(),F=w.getBoundingClientRect();if(o.dir!=="rtl"){const Se=F.left-P.left,ke=D.left-Se,Me=R.left-ke,Ye=R.width+Me,xe=Math.max(Ye,P.width),ne=window.innerWidth-mo,rt=Ny(ke,[mo,Math.max(mo,ne-xe)]);a.style.minWidth=Ye+"px",a.style.left=rt+"px"}else{const Se=P.right-F.right,ke=window.innerWidth-D.right-Se,Me=window.innerWidth-R.right-ke,Ye=R.width+Me,xe=Math.max(Ye,P.width),ne=window.innerWidth-mo,rt=Ny(ke,[mo,Math.max(mo,ne-xe)]);a.style.minWidth=Ye+"px",a.style.right=rt+"px"}const T=g(),C=window.innerHeight-mo*2,L=b.scrollHeight,X=window.getComputedStyle(c),fe=parseInt(X.borderTopWidth,10),le=parseInt(X.paddingTop,10),re=parseInt(X.borderBottomWidth,10),G=parseInt(X.paddingBottom,10),K=fe+le+L+G+re,Q=Math.min(E.offsetHeight*5,K),ce=window.getComputedStyle(b),M=parseInt(ce.paddingTop,10),H=parseInt(ce.paddingBottom,10),J=R.top+R.height/2-mo,ie=C-J,se=E.offsetHeight/2,oe=E.offsetTop+se,he=fe+le+oe,ye=K-he;if(he<=J){const Se=T.length>0&&E===T[T.length-1].ref.current;a.style.bottom="0px";const ke=c.clientHeight-b.offsetTop-b.offsetHeight,Me=Math.max(ie,se+(Se?H:0)+ke+re),Ye=he+Me;a.style.height=Ye+"px"}else{const Se=T.length>0&&E===T[0].ref.current;a.style.top="0px";const Me=Math.max(J,fe+b.offsetTop+(Se?M:0)+se)+ye;a.style.height=Me+"px",b.scrollTop=he-J+b.offsetTop}a.style.margin=`${mo}px 0`,a.style.minHeight=Q+"px",a.style.maxHeight=C+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[g,o.trigger,o.valueNode,a,c,b,E,w,o.dir,r]);Br(()=>A(),[A]);const[j,q]=O.useState();Br(()=>{c&&q(window.getComputedStyle(c).zIndex)},[c]);const Z=O.useCallback(R=>{R&&S.current===!0&&(A(),_==null||_(),S.current=!1)},[A,_]);return v.jsx($$,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:p,onScrollButtonChange:Z,children:v.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:v.jsx(Ut.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});CP.displayName=z$;var q$="SelectPopperPosition",Py=O.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=mo,...o}=t,s=uv(n);return v.jsx(T$,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Py.displayName=q$;var[$$,ew]=kd(kc,{}),Ty="SelectViewport",PP=O.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=Rl(Ty,n),s=ew(Ty,n),a=tn(e,o.onViewportChange),l=O.useRef(0);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),v.jsx(lv.Slot,{scope:n,children:v.jsx(Ut.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Mt(i.onScroll,c=>{const f=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=s;if(g!=null&&g.current&&h){const p=Math.abs(l.current-f.scrollTop);if(p>0){const S=window.innerHeight-mo*2,b=parseFloat(h.style.minHeight),E=parseFloat(h.style.height),w=Math.max(b,E);if(w<S){const _=w+p,A=Math.min(S,_),j=_-A;h.style.height=A+"px",h.style.bottom==="0px"&&(f.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});PP.displayName=Ty;var TP="SelectGroup",[W$,H$]=kd(TP),G$=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Xu();return v.jsx(W$,{scope:n,id:i,children:v.jsx(Ut.div,{role:"group","aria-labelledby":i,...r,ref:e})})});G$.displayName=TP;var kP="SelectLabel",IP=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=H$(kP,n);return v.jsx(Ut.div,{id:i.id,...r,ref:e})});IP.displayName=kP;var gg="SelectItem",[Y$,LP]=kd(gg),RP=O.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=Ll(gg,n),l=Rl(gg,n),c=a.value===r,[f,h]=O.useState(o??""),[g,p]=O.useState(!1),S=tn(e,_=>{var A;return(A=l.itemRefCallback)==null?void 0:A.call(l,_,r,i)}),b=Xu(),E=O.useRef("touch"),w=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return v.jsx(Y$,{scope:n,value:r,disabled:i,textId:b,isSelected:c,onItemTextChange:O.useCallback(_=>{h(A=>A||((_==null?void 0:_.textContent)??"").trim())},[]),children:v.jsx(lv.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:v.jsx(Ut.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":c&&g,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:S,onFocus:Mt(s.onFocus,()=>p(!0)),onBlur:Mt(s.onBlur,()=>p(!1)),onClick:Mt(s.onClick,()=>{E.current!=="mouse"&&w()}),onPointerUp:Mt(s.onPointerUp,()=>{E.current==="mouse"&&w()}),onPointerDown:Mt(s.onPointerDown,_=>{E.current=_.pointerType}),onPointerMove:Mt(s.onPointerMove,_=>{var A;E.current=_.pointerType,i?(A=l.onItemLeave)==null||A.call(l):E.current==="mouse"&&_.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Mt(s.onPointerLeave,_=>{var A;_.currentTarget===document.activeElement&&((A=l.onItemLeave)==null||A.call(l))}),onKeyDown:Mt(s.onKeyDown,_=>{var j;((j=l.searchRef)==null?void 0:j.current)!==""&&_.key===" "||(R$.includes(_.key)&&w(),_.key===" "&&_.preventDefault())})})})})});RP.displayName=gg;var gf="SelectItemText",OP=O.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=Ll(gf,n),a=Rl(gf,n),l=LP(gf,n),c=j$(gf,n),[f,h]=O.useState(null),g=tn(e,w=>h(w),l.onItemTextChange,w=>{var _;return(_=a.itemTextRefCallback)==null?void 0:_.call(a,w,l.value,l.disabled)}),p=f==null?void 0:f.textContent,S=O.useMemo(()=>v.jsx("option",{value:l.value,disabled:l.disabled,children:p},l.value),[l.disabled,l.value,p]),{onNativeOptionAdd:b,onNativeOptionRemove:E}=c;return Br(()=>(b(S),()=>E(S)),[b,E,S]),v.jsxs(v.Fragment,{children:[v.jsx(Ut.span,{id:l.textId,...o,ref:g}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?wd.createPortal(o.children,s.valueNode):null]})});OP.displayName=gf;var DP="SelectItemIndicator",MP=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return LP(DP,n).isSelected?v.jsx(Ut.span,{"aria-hidden":!0,...r,ref:e}):null});MP.displayName=DP;var ky="SelectScrollUpButton",jP=O.forwardRef((t,e)=>{const n=Rl(ky,t.__scopeSelect),r=ew(ky,t.__scopeSelect),[i,o]=O.useState(!1),s=tn(e,r.onScrollButtonChange);return Br(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?v.jsx(VP,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});jP.displayName=ky;var Iy="SelectScrollDownButton",FP=O.forwardRef((t,e)=>{const n=Rl(Iy,t.__scopeSelect),r=ew(Iy,t.__scopeSelect),[i,o]=O.useState(!1),s=tn(e,r.onScrollButtonChange);return Br(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<c;o(f)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?v.jsx(VP,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});FP.displayName=Iy;var VP=O.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=Rl("SelectScrollButton",n),s=O.useRef(null),a=cv(n),l=O.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return O.useEffect(()=>()=>l(),[l]),Br(()=>{var f;const c=a().find(h=>h.ref.current===document.activeElement);(f=c==null?void 0:c.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),v.jsx(Ut.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Mt(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:Mt(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:Mt(i.onPointerLeave,()=>{l()})})}),K$="SelectSeparator",BP=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return v.jsx(Ut.div,{"aria-hidden":!0,...r,ref:e})});BP.displayName=K$;var Ly="SelectArrow",X$=O.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=uv(n),o=Ll(Ly,n),s=Rl(Ly,n);return o.open&&s.position==="popper"?v.jsx(k$,{...i,...r,ref:e}):null});X$.displayName=Ly;function UP(t){return t===""||t===void 0}var zP=O.forwardRef((t,e)=>{const{value:n,...r}=t,i=O.useRef(null),o=tn(e,i),s=aC(n);return O.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&f){const h=new Event("change",{bubbles:!0});f.call(a,n),a.dispatchEvent(h)}},[s,n]),v.jsx(vP,{asChild:!0,children:v.jsx("select",{...r,ref:o,defaultValue:n})})});zP.displayName="BubbleSelect";function qP(t){const e=jr(t),n=O.useRef(""),r=O.useRef(0),i=O.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=O.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return O.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function $P(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Q$(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Q$(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var J$=yP,WP=bP,Z$=xP,eW=SP,HP=NP,tW=PP,GP=IP,YP=RP,nW=OP,rW=MP,KP=jP,XP=FP,QP=BP;const iW=J$,JP=O.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(WP,{ref:r,className:jt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,v.jsx(Z$,{asChild:!0,children:v.jsx(nN,{className:"h-4 w-4 opacity-50"})})]}));JP.displayName=WP.displayName;const ZP=O.forwardRef(({className:t,...e},n)=>v.jsx(KP,{ref:n,className:jt("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(_R,{className:"h-4 w-4"})}));ZP.displayName=KP.displayName;const eT=O.forwardRef(({className:t,...e},n)=>v.jsx(XP,{ref:n,className:jt("flex cursor-default items-center justify-center py-1",t),...e,children:v.jsx(nN,{className:"h-4 w-4"})}));eT.displayName=XP.displayName;const tT=O.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>v.jsx(eW,{children:v.jsxs(HP,{ref:i,className:jt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[v.jsx(ZP,{}),v.jsx(tW,{className:jt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),v.jsx(eT,{})]})}));tT.displayName=HP.displayName;const oW=O.forwardRef(({className:t,...e},n)=>v.jsx(GP,{ref:n,className:jt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));oW.displayName=GP.displayName;const Ry=O.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(YP,{ref:r,className:jt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[v.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:v.jsx(rW,{children:v.jsx(tN,{className:"h-4 w-4"})})}),v.jsx(nW,{children:e})]}));Ry.displayName=YP.displayName;const sW=O.forwardRef(({className:t,...e},n)=>v.jsx(QP,{ref:n,className:jt("-mx-1 my-1 h-px bg-muted",t),...e}));sW.displayName=QP.displayName;const aW=[{id:"1",name:"Maria Garcia",language:"es",nextAppointment:"2024-03-20T10:00:00",reasonForVisit:"Prenatal checkup - 28 weeks",demographics:{age:28,preferredLanguage:"es",insuranceStatus:"uninsured"},vitals:{bp:[120,122,118,121],glucose:[95,98,92,96],weight:[65,65.5,66,66.2],fetalMovements:[10,12,8,15]},risks:["High blood pressure","Gestational diabetes risk"],recentSymptoms:["Mild headache","Swollen ankles"]}],vf=[{id:"bp",name:"Blood Pressure Check",purpose:"Monitor for preeclampsia risk",results:"High BP (Critical: 150/95)",date:"2024-03-15",values:{systolic:150,diastolic:95}},{id:"ultrasound",name:"Ultrasound",purpose:"Check baby's growth, placenta health",results:"Normal growth",date:"2024-03-14",values:{fetalHeartRate:150,fetalWeight:"1.2kg",placentaPosition:"anterior"}},{id:"gtt",name:"Glucose Tolerance Test (GTT)",purpose:"Screen for gestational diabetes",results:"Normal",date:"2024-03-13",values:{fasting:82,oneHour:125,twoHour:110}},{id:"cbc",name:"Complete Blood Count",purpose:"Check for anemia and infection",results:"Normal blood cell counts"},{id:"urine",name:"Urine Analysis",purpose:"Check for protein, bacteria, and sugar",results:"Normal levels"},{id:"thyroid",name:"Thyroid Function Test",purpose:"Monitor thyroid hormone levels",results:"Within normal range"},{id:"strep",name:"Group B Strep Culture",purpose:"Screen for bacterial infection",results:"Negative for GBS"},{id:"hiv",name:"HIV Test",purpose:"Screen for HIV infection",results:"Non-reactive"},{id:"iron",name:"Iron Studies",purpose:"Check iron levels and storage",results:"Normal ferritin levels"}],lW=vf.slice(0,3),cW=t=>t.toLowerCase().includes("normal")?v.jsxs(R1,{className:"bg-green-500",children:[v.jsx(L2,{className:"w-4 h-4 mr-1"})," Normal"]}):t.toLowerCase().includes("high")?v.jsxs(R1,{className:"bg-red-500",children:[v.jsx(NR,{className:"w-4 h-4 mr-1"})," High Risk"]}):v.jsxs(R1,{className:"bg-yellow-500",children:[v.jsx(xR,{className:"w-4 h-4 mr-1"})," Attention Needed"]}),uW=()=>{const{patientId:t}=B3(),e=Ur(),{toast:n}=ra(),r=aW.find(A=>A.id===t),[i,o]=O.useState([]),[s,a]=O.useState(""),[l,c]=O.useState([]),[f,h]=O.useState(!1),[g,p]=O.useState("");if(!r)return v.jsx("div",{children:"Patient not found"});const S=(A,j)=>{o(q=>j?[...q,A]:q.filter(Z=>Z!==A))},b=()=>{s.trim()&&(c(A=>[...A,s.trim()]),a(""))},E=()=>{if(i.length===0&&l.length===0){n({title:"No Exams Selected",description:"Please select at least one exam to order.",variant:"destructive"});return}const A=[...i.map(j=>{var q;return(q=vf.find(Z=>Z.id===j))==null?void 0:q.name}).filter(Boolean),...l].join(", ");console.log("Showing first toast"),n({title:"Exam Request Sent",description:"The exam request has been sent to the provider. You will be notified when it's reviewed.",variant:"default"}),console.log("Setting timeout for second toast"),setTimeout(()=>{console.log("Showing second toast"),n({title:"Exam Request Details",description:`Ordered the following exams for ${r.name}: ${A}`,variant:"default"})},1e3),o([]),c([])},w=A=>{const j=vf.find(q=>q.id===A);if(j){let q="";j.id==="bp"?q=`Blood Pressure Results:
Date: ${j.date}
Reading: ${j.values.systolic}/${j.values.diastolic} mmHg
Status: ${j.results}`:j.id==="ultrasound"?q=`Ultrasound Results:
Date: ${j.date}
Fetal Heart Rate: ${j.values.fetalHeartRate} bpm
Estimated Fetal Weight: ${j.values.fetalWeight}
Placental Position: ${j.values.placentaPosition}
Status: ${j.results}`:j.id==="gtt"?q=`Glucose Tolerance Test Results:
Date: ${j.date}
Fasting: ${j.values.fasting} mg/dL
1 Hour: ${j.values.oneHour} mg/dL
2 Hour: ${j.values.twoHour} mg/dL
Status: ${j.results}`:q=`${j.name} Results:
Date: ${j.date}
Results: ${j.results}`,e("/chat/Maria Garcia",{state:{initialMessage:q}}),n({title:"Result Sent",description:`${j.name} results have been sent to ${r.name}'s chat.`})}},_=(A,j)=>{const q=vf.find(P=>P.id===A);if(!q)return;const Z=new st,R=new Date().toLocaleDateString();if(Z.setFontSize(16),Z.setFont("helvetica","bold"),Z.text(j==="es"?"INFORME MDICO":"MEDICAL REPORT",105,10,{align:"center"}),Z.setFontSize(12),q.id==="bp"){const P={patientName:r.name,examDate:q.date,systolic:q.values.systolic,diastolic:q.values.diastolic},D=tz(P,j);p(D),h(!0);const F=D.split(`
`);let T=20;Z.setFontSize(16),Z.setFont("helvetica","bold"),Z.text(j==="es"?"INFORME MDICO":"MEDICAL REPORT",105,10,{align:"center"}),Z.setFontSize(12),Z.setFont("helvetica","normal"),F.forEach(C=>{C.trim()&&(C.includes("----------------------------------------")?(Z.line(10,T-2,200,T-2),T+=5):C===(j==="es"?"INFORME DE PRESIN ARTERIAL":"BLOOD PRESSURE REPORT")?(Z.setFont("helvetica","bold"),Z.text(C,10,T),Z.setFont("helvetica","normal"),T+=10):(Z.text(C,10,T),T+=7))}),Z.setFontSize(8),Z.text(`Generated on: ${R}`,10,Z.internal.pageSize.height-10),Z.save(`blood_pressure_report_${r.name.replace(/\s+/g,"_")}_${j}.pdf`),n({title:"Report Generated",description:`Blood pressure report has been generated in ${j==="es"?"Spanish":"English"} and downloaded.`})}else if(q.id==="ultrasound"){const P=j==="es"?"INFORME DE ULTRASONIDO":"ULTRASOUND REPORT",D=[P,"----------------------------------------",`${j==="es"?"Paciente":"Patient"}: ${r==null?void 0:r.name}`,`${j==="es"?"Fecha":"Date"}: ${q.date}`,`${j==="es"?"Ritmo Cardaco Fetal":"Fetal Heart Rate"}: ${q.values.fetalHeartRate} bpm`,`${j==="es"?"Peso Fetal Estimado":"Estimated Fetal Weight"}: ${q.values.fetalWeight}`,`${j==="es"?"Posicin de la Placenta":"Placental Position"}: ${q.values.placentaPosition}`,"----------------------------------------",`${j==="es"?"Resultado":"Result"}: ${q.results}`].join(`
`);let F=20;D.split(`
`).forEach(T=>{T.includes("----------------------------------------")?(Z.line(10,F-2,200,F-2),F+=5):T===P?(Z.setFont("helvetica","bold"),Z.text(T,10,F),Z.setFont("helvetica","normal"),F+=10):(Z.text(T,10,F),F+=7)})}else if(q.id==="gtt"){const P=j==="es"?"INFORME DE PRUEBA DE TOLERANCIA A LA GLUCOSA":"GLUCOSE TOLERANCE TEST REPORT",D=[P,"----------------------------------------",`${j==="es"?"Paciente":"Patient"}: ${r==null?void 0:r.name}`,`${j==="es"?"Fecha":"Date"}: ${q.date}`,`${j==="es"?"Glucosa en Ayunas":"Fasting Glucose"}: ${q.values.fasting} mg/dL`,`${j==="es"?"Glucosa 1 Hora":"1-Hour Glucose"}: ${q.values.oneHour} mg/dL`,`${j==="es"?"Glucosa 2 Horas":"2-Hour Glucose"}: ${q.values.twoHour} mg/dL`,"----------------------------------------",`${j==="es"?"Resultado":"Result"}: ${q.results}`].join(`
`);let F=20;D.split(`
`).forEach(T=>{T.includes("----------------------------------------")?(Z.line(10,F-2,200,F-2),F+=5):T===P?(Z.setFont("helvetica","bold"),Z.text(T,10,F),Z.setFont("helvetica","normal"),F+=10):(Z.text(T,10,F),F+=7)})}Z.setFontSize(8),Z.text(`Generated on: ${R}`,10,Z.internal.pageSize.height-10),Z.save(`${q.id}_report_${r==null?void 0:r.name.replace(/\s+/g,"_")}_${j}.pdf`),n({title:"Report Generated",description:`${q.name} report has been generated in ${j==="es"?"Spanish":"English"} and downloaded.`})};return v.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[v.jsxs(bt,{variant:"outline",onClick:()=>e(-1),className:"mb-4",children:[v.jsx(U0,{className:"mr-2 h-4 w-4"}),"Back"]}),v.jsxs("div",{className:"space-y-6",children:[v.jsx("h1",{className:"text-3xl font-bold",children:r.name}),v.jsxs("div",{className:"grid gap-6",children:[v.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Appointment Details"}),v.jsxs("p",{children:[v.jsx("strong",{children:"Date:"})," ",new Date(r.nextAppointment).toLocaleString()]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Reason:"})," ",r.reasonForVisit]})]}),v.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Patient Information"}),v.jsxs("p",{children:[v.jsx("strong",{children:"Age:"})," ",r.demographics.age]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Preferred Language:"})," ",r.demographics.preferredLanguage==="es"?"Spanish":"English"]}),v.jsxs("p",{children:[v.jsx("strong",{children:"Insurance Status:"})," ",r.demographics.insuranceStatus]})]}),v.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Clinical Notes"}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{children:v.jsx("strong",{children:"Risks:"})}),v.jsx("ul",{className:"list-disc pl-5",children:r.risks.map((A,j)=>v.jsx("li",{className:"text-red-600",children:A},j))}),v.jsx("p",{children:v.jsx("strong",{children:"Recent Symptoms:"})}),v.jsx("ul",{className:"list-disc pl-5",children:r.recentSymptoms.map((A,j)=>v.jsx("li",{children:A},j))})]})]}),v.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Recommended Exams"}),v.jsxs("div",{className:"space-y-4",children:[vf.map(A=>v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx(M5,{id:A.id,checked:i.includes(A.id),onCheckedChange:j=>S(A.id,j)}),v.jsxs("div",{className:"grid gap-1.5 leading-none",children:[v.jsx("label",{htmlFor:A.id,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:A.name}),v.jsx("p",{className:"text-sm text-muted-foreground",children:A.purpose})]})]},A.id)),v.jsxs("div",{className:"mt-6 border-t pt-4",children:[v.jsx("h3",{className:"text-lg font-medium mb-3",children:"Other Exams"}),v.jsxs("div",{className:"flex gap-2 mb-4",children:[v.jsx(Pi,{placeholder:"Enter other exam name",value:s,onChange:A=>a(A.target.value),className:"flex-1"}),v.jsx(bt,{onClick:b,variant:"secondary",children:"Add Exam"})]}),l.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"font-medium",children:"Added Custom Exams:"}),v.jsx("ul",{className:"list-disc pl-5",children:l.map((A,j)=>v.jsx("li",{children:A},j))})]})]})]}),(i.length>0||l.length>0)&&v.jsx("div",{className:"mt-6",children:v.jsxs(bt,{onClick:E,className:"w-full",children:["Order Exam Request (",i.length+l.length," selected)"]})})]}),v.jsxs("div",{className:"p-6 bg-white rounded-lg shadow",children:[v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Exam Results"}),v.jsx("div",{className:"space-y-6",children:lW.map(A=>v.jsxs("div",{className:"p-4 border rounded-lg",children:[v.jsxs("div",{className:"flex items-start justify-between mb-2",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium",children:A.name}),v.jsx("p",{className:"text-sm text-muted-foreground",children:A.purpose})]}),cW(A.results)]}),v.jsx("p",{className:"text-sm mb-4",children:A.results}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs(bt,{variant:"outline",size:"sm",onClick:()=>w(A.id),className:"flex items-center",children:[v.jsx(sN,{className:"mr-2 h-4 w-4"}),"Send to Patient"]}),v.jsxs(iW,{onValueChange:j=>_(A.id,j),children:[v.jsxs(JP,{className:"w-[180px]",children:[v.jsx(CR,{className:"mr-2 h-4 w-4"}),"Generate PDF"]}),v.jsxs(tT,{children:[v.jsx(Ry,{value:"en",children:"English"}),v.jsx(Ry,{value:"es",children:"Spanish"})]})]})]})]},A.id))})]})]})]}),v.jsx(vq,{open:f,onOpenChange:h,children:v.jsxs(HC,{className:"max-w-2xl",children:[v.jsx(GC,{children:v.jsx(YC,{children:"Blood Pressure Report"})}),v.jsx("div",{className:"whitespace-pre-wrap font-mono",children:g})]})})]})};function dW(t,e){return O.useReducer((n,r)=>e[n][r]??n,t)}var tw="ScrollArea",[nT,DW]=Cd(tw),[fW,eo]=nT(tw),rT=O.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:o=600,...s}=t,[a,l]=O.useState(null),[c,f]=O.useState(null),[h,g]=O.useState(null),[p,S]=O.useState(null),[b,E]=O.useState(null),[w,_]=O.useState(0),[A,j]=O.useState(0),[q,Z]=O.useState(!1),[R,P]=O.useState(!1),D=tn(e,T=>l(T)),F=KC(i);return v.jsx(fW,{scope:n,type:r,dir:F,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:f,content:h,onContentChange:g,scrollbarX:p,onScrollbarXChange:S,scrollbarXEnabled:q,onScrollbarXEnabledChange:Z,scrollbarY:b,onScrollbarYChange:E,scrollbarYEnabled:R,onScrollbarYEnabledChange:P,onCornerWidthChange:_,onCornerHeightChange:j,children:v.jsx(Ut.div,{dir:F,...s,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":A+"px",...t.style}})})});rT.displayName=tw;var iT="ScrollAreaViewport",oT=O.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...o}=t,s=eo(iT,n),a=O.useRef(null),l=tn(e,a,s.onViewportChange);return v.jsxs(v.Fragment,{children:[v.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),v.jsx(Ut.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t.style},children:v.jsx("div",{ref:s.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});oT.displayName=iT;var ps="ScrollAreaScrollbar",nw=O.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=eo(ps,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return O.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?v.jsx(hW,{...r,ref:e,forceMount:n}):i.type==="scroll"?v.jsx(pW,{...r,ref:e,forceMount:n}):i.type==="auto"?v.jsx(sT,{...r,ref:e,forceMount:n}):i.type==="always"?v.jsx(rw,{...r,ref:e}):null});nw.displayName=ps;var hW=O.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=eo(ps,t.__scopeScrollArea),[o,s]=O.useState(!1);return O.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),s(!0)},f=()=>{l=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),v.jsx(oa,{present:n||o,children:v.jsx(sT,{"data-state":o?"visible":"hidden",...r,ref:e})})}),pW=O.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=eo(ps,t.__scopeScrollArea),o=t.orientation==="horizontal",s=fv(()=>l("SCROLL_END"),100),[a,l]=dW("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return O.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),O.useEffect(()=>{const c=i.viewport,f=o?"scrollLeft":"scrollTop";if(c){let h=c[f];const g=()=>{const p=c[f];h!==p&&(l("SCROLL"),s()),h=p};return c.addEventListener("scroll",g),()=>c.removeEventListener("scroll",g)}},[i.viewport,o,l,s]),v.jsx(oa,{present:n||a!=="hidden",children:v.jsx(rw,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Mt(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Mt(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),sT=O.forwardRef((t,e)=>{const n=eo(ps,t.__scopeScrollArea),{forceMount:r,...i}=t,[o,s]=O.useState(!1),a=t.orientation==="horizontal",l=fv(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:f)}},10);return md(n.viewport,l),md(n.content,l),v.jsx(oa,{present:r||o,children:v.jsx(rw,{"data-state":o?"visible":"hidden",...i,ref:e})})}),rw=O.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=eo(ps,t.__scopeScrollArea),o=O.useRef(null),s=O.useRef(0),[a,l]=O.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=dT(a.viewport,a.content),f={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:g=>o.current=g,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:g=>s.current=g};function h(g,p){return bW(g,s.current,a,p)}return n==="horizontal"?v.jsx(mW,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const g=i.viewport.scrollLeft,p=gS(g,a,i.dir);o.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollLeft=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollLeft=h(g,i.dir))}}):n==="vertical"?v.jsx(gW,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&o.current){const g=i.viewport.scrollTop,p=gS(g,a);o.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:g=>{i.viewport&&(i.viewport.scrollTop=g)},onDragScroll:g=>{i.viewport&&(i.viewport.scrollTop=h(g))}}):null}),mW=O.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=eo(ps,t.__scopeScrollArea),[s,a]=O.useState(),l=O.useRef(null),c=tn(e,l,o.onScrollbarXChange);return O.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),v.jsx(lT,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":dv(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,h)=>{if(o.viewport){const g=o.viewport.scrollLeft+f.deltaX;t.onWheelScroll(g),hT(g,h)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:yg(s.paddingLeft),paddingEnd:yg(s.paddingRight)}})}})}),gW=O.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,o=eo(ps,t.__scopeScrollArea),[s,a]=O.useState(),l=O.useRef(null),c=tn(e,l,o.onScrollbarYChange);return O.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),v.jsx(lT,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":dv(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,h)=>{if(o.viewport){const g=o.viewport.scrollTop+f.deltaY;t.onWheelScroll(g),hT(g,h)&&f.preventDefault()}},onResize:()=>{l.current&&o.viewport&&s&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:yg(s.paddingTop),paddingEnd:yg(s.paddingBottom)}})}})}),[vW,aT]=nT(ps),lT=O.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:o,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:f,onResize:h,...g}=t,p=eo(ps,n),[S,b]=O.useState(null),E=tn(e,D=>b(D)),w=O.useRef(null),_=O.useRef(""),A=p.viewport,j=r.content-r.viewport,q=jr(f),Z=jr(l),R=fv(h,10);function P(D){if(w.current){const F=D.clientX-w.current.left,T=D.clientY-w.current.top;c({x:F,y:T})}}return O.useEffect(()=>{const D=F=>{const T=F.target;(S==null?void 0:S.contains(T))&&q(F,j)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[A,S,j,q]),O.useEffect(Z,[r,Z]),md(S,R),md(p.content,R),v.jsx(vW,{scope:n,scrollbar:S,hasThumb:i,onThumbChange:jr(o),onThumbPointerUp:jr(s),onThumbPositionChange:Z,onThumbPointerDown:jr(a),children:v.jsx(Ut.div,{...g,ref:E,style:{position:"absolute",...g.style},onPointerDown:Mt(t.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),w.current=S.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),P(D))}),onPointerMove:Mt(t.onPointerMove,P),onPointerUp:Mt(t.onPointerUp,D=>{const F=D.target;F.hasPointerCapture(D.pointerId)&&F.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=_.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),vg="ScrollAreaThumb",cT=O.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=aT(vg,t.__scopeScrollArea);return v.jsx(oa,{present:n||i.hasThumb,children:v.jsx(yW,{ref:e,...r})})}),yW=O.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,o=eo(vg,n),s=aT(vg,n),{onThumbPositionChange:a}=s,l=tn(e,h=>s.onThumbChange(h)),c=O.useRef(void 0),f=fv(()=>{c.current&&(c.current(),c.current=void 0)},100);return O.useEffect(()=>{const h=o.viewport;if(h){const g=()=>{if(f(),!c.current){const p=_W(h,a);c.current=p,a()}};return a(),h.addEventListener("scroll",g),()=>h.removeEventListener("scroll",g)}},[o.viewport,f,a]),v.jsx(Ut.div,{"data-state":s.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Mt(t.onPointerDownCapture,h=>{const p=h.target.getBoundingClientRect(),S=h.clientX-p.left,b=h.clientY-p.top;s.onThumbPointerDown({x:S,y:b})}),onPointerUp:Mt(t.onPointerUp,s.onThumbPointerUp)})});cT.displayName=vg;var iw="ScrollAreaCorner",uT=O.forwardRef((t,e)=>{const n=eo(iw,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?v.jsx(wW,{...t,ref:e}):null});uT.displayName=iw;var wW=O.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=eo(iw,n),[o,s]=O.useState(0),[a,l]=O.useState(0),c=!!(o&&a);return md(i.scrollbarX,()=>{var h;const f=((h=i.scrollbarX)==null?void 0:h.offsetHeight)||0;i.onCornerHeightChange(f),l(f)}),md(i.scrollbarY,()=>{var h;const f=((h=i.scrollbarY)==null?void 0:h.offsetWidth)||0;i.onCornerWidthChange(f),s(f)}),c?v.jsx(Ut.div,{...r,ref:e,style:{width:o,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function yg(t){return t?parseInt(t,10):0}function dT(t,e){const n=t/e;return isNaN(n)?0:n}function dv(t){const e=dT(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function bW(t,e,n,r="ltr"){const i=dv(n),o=i/2,s=e||o,a=i-s,l=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,h=r==="ltr"?[0,f]:[f*-1,0];return fT([l,c],h)(t)}function gS(t,e,n="ltr"){const r=dv(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,l=n==="ltr"?[0,s]:[s*-1,0],c=Ny(t,l);return fT([0,s],[0,a])(c)}function fT(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function hT(t,e){return t>0&&t<e}var _W=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function fv(t,e){const n=jr(t),r=O.useRef(0);return O.useEffect(()=>()=>window.clearTimeout(r.current),[]),O.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function md(t,e){const n=jr(e);Br(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var pT=rT,xW=oT,SW=uT;const mT=O.forwardRef(({className:t,children:e,...n},r)=>v.jsxs(pT,{ref:r,className:jt("relative overflow-hidden",t),...n,children:[v.jsx(xW,{className:"h-full w-full rounded-[inherit]",children:e}),v.jsx(gT,{}),v.jsx(SW,{})]}));mT.displayName=pT.displayName;const gT=O.forwardRef(({className:t,orientation:e="vertical",...n},r)=>v.jsx(nw,{ref:r,orientation:e,className:jt("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:v.jsx(cT,{className:"relative flex-1 rounded-full bg-border"})}));gT.displayName=nw.displayName;const NW=[{id:1,name:"Maria Garcia"},{id:2,name:"John Smith"}],vS=()=>{const[t,e]=O.useState([]),[n,r]=O.useState("");ra();const i=Ur(),{patientName:o}=B3(),a=_d().state,l=O.useRef(null),c=()=>{var g;(g=l.current)==null||g.scrollIntoView({behavior:"smooth"})};O.useEffect(()=>{c()},[t]),O.useEffect(()=>{if(a!=null&&a.initialMessage){const g={id:Date.now().toString(),content:a.initialMessage,sender:"provider",timestamp:new Date};e(p=>[...p,g]),window.history.replaceState({},document.title)}},[a==null?void 0:a.initialMessage]);const f=g=>{if(g.preventDefault(),!n.trim())return;const p={id:Date.now().toString(),content:n,sender:"user",timestamp:new Date};e(S=>[...S,p]),r("")},h=g=>new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric"}).format(g);return o?v.jsxs("div",{className:"flex flex-col h-screen bg-background",children:[v.jsxs("div",{className:"flex items-center p-4 border-b bg-primary/5",children:[v.jsx(bt,{variant:"ghost",size:"icon",onClick:()=>i(-1),className:"hover:bg-primary/10",children:v.jsx(U0,{className:"h-5 w-5"})}),v.jsxs("div",{className:"ml-4 flex items-center gap-3",children:[v.jsx(e_,{className:"h-8 w-8 text-primary"}),v.jsx("h1",{className:"text-xl font-semibold",children:o})]})]}),v.jsx(mT,{className:"flex-1 p-4",children:v.jsxs("div",{className:"space-y-4",children:[t.map(g=>v.jsx("div",{className:`flex ${g.sender==="user"?"justify-end":"justify-start"} animate-fade-in`,children:v.jsxs("div",{className:`max-w-[80%] p-4 rounded-lg shadow-sm ${g.sender==="user"?"bg-primary text-primary-foreground":"bg-muted"}`,children:[v.jsx("p",{className:"whitespace-pre-wrap text-sm",children:g.content}),v.jsx("p",{className:"text-xs mt-2 opacity-70",children:h(g.timestamp)})]})},g.id)),v.jsx("div",{ref:l})]})}),v.jsx("form",{onSubmit:f,className:"p-4 border-t bg-background",children:v.jsxs("div",{className:"flex gap-2",children:[v.jsx(Pi,{value:n,onChange:g=>r(g.target.value),placeholder:"Type your message...",className:"flex-1"}),v.jsx(bt,{type:"submit",className:"shrink-0",children:v.jsx(sN,{className:"h-5 w-5"})})]})})]}):v.jsxs("div",{className:"flex flex-col h-screen bg-background p-4",children:[v.jsxs("div",{className:"flex items-center mb-6",children:[v.jsx(bt,{variant:"ghost",size:"icon",onClick:()=>i(-1),className:"hover:bg-primary/10",children:v.jsx(U0,{className:"h-5 w-5"})}),v.jsx("h1",{className:"ml-4 text-xl font-semibold",children:"Select Patient"})]}),v.jsx("div",{className:"grid gap-4",children:NW.map(g=>v.jsx(mi,{className:"p-4 cursor-pointer hover:bg-accent transition-colors animate-fade-in",onClick:()=>i(`/chat/${g.name}`),children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(e_,{className:"h-8 w-8 text-primary"}),v.jsx("p",{className:"font-medium",children:g.name})]})},g.id))})]})},EW=({language:t})=>{const e=Ur();return v.jsx("div",{className:"container mx-auto p-6 max-w-3xl",children:v.jsxs(mi,{className:"shadow-lg p-6",children:[v.jsx(Oc,{children:v.jsxs("h1",{className:"text-3xl font-bold flex items-center space-x-2",children:[v.jsx(AR,{className:"h-7 w-7 text-green-500"}),v.jsx("span",{children:t==="en"?"Form Submitted!":"Formulario Enviado!"})]})}),v.jsxs(Dc,{className:"space-y-4",children:[v.jsx("p",{className:"text-lg text-gray-700",children:t==="en"?"Your intake form has been successfully submitted to the clinic.":"Su formulario de ingreso ha sido enviado con xito a la clnica."}),v.jsxs("div",{className:"bg-gray-100 p-4 rounded-md text-gray-800",children:[v.jsx("h2",{className:"font-semibold text-xl",children:t==="en"?"What Happens Next?":"Qu Sucede Ahora?"}),v.jsx("p",{className:"mt-2",children:t==="en"?"A clinic representative will review your information and contact you if additional details are needed.":"Un representante de la clnica revisar su informacin y se pondr en contacto con usted si se necesitan ms detalles."}),v.jsx("p",{children:t==="en"?"If you have any urgent medical concerns, please visit the clinic or contact a healthcare provider.":"Si tiene preocupaciones mdicas urgentes, visite la clnica o contacte a un proveedor de salud."})]})]}),v.jsxs(Fg,{className:"flex flex-col gap-4",children:[v.jsx(bt,{className:"w-full bg-blue-600 hover:bg-blue-700",onClick:()=>e("/"),children:t==="en"?"Return to Home":"Volver a Inicio"}),v.jsx(bt,{className:"w-full bg-green-600 hover:bg-green-700",variant:"outline",onClick:()=>e("/appointment"),children:t==="en"?"Schedule an Appointment":"Agendar una Cita"})]})]})})},AW=()=>{const[t,e]=O.useState(()=>sessionStorage.getItem("preferredLanguage")||"en");O.useEffect(()=>{sessionStorage.setItem("preferredLanguage",t)},[t]);const n=()=>{console.log("Proceeding to next step")};return v.jsxs(EL,{children:[v.jsx("div",{className:"flex justify-end p-4",children:v.jsx(bt,{onClick:()=>e(r=>r==="en"?"es":"en"),children:t==="en"?"Switch to Spanish":"Cambiar a Ingls"})}),v.jsxs(yL,{children:[v.jsx(Lr,{path:"/",element:v.jsx(AU,{})}),v.jsx(Lr,{path:"/free-clinic",element:v.jsx(ZU,{})}),v.jsx(Lr,{path:"/patient/login",element:v.jsx(aN,{language:t,onBack:()=>{},onLogin:()=>{}})}),v.jsx(Lr,{path:"/pediatric-intake",element:v.jsx(QU,{language:t})}),v.jsx(Lr,{path:"/confirmation",element:v.jsx(EW,{language:t})}),v.jsx(Lr,{path:"/patient/dashboard",element:v.jsx(rC,{language:t})}),v.jsx(Lr,{path:"/appointment",element:v.jsx(kN,{language:t,onProceed:n})}),v.jsx(Lr,{path:"/appointment-confirmation",element:v.jsx(JU,{language:t})}),v.jsx(Lr,{path:"/transportation",element:v.jsx(nC,{language:t,onProceed:n})}),v.jsx(Lr,{path:"/provider/login",element:v.jsx(lN,{language:t,onLogin:()=>{}})}),v.jsx(Lr,{path:"/provider/dashboard",element:v.jsx(iC,{language:t})}),v.jsx(Lr,{path:"/patient/:patientId",element:v.jsx(uW,{})}),v.jsx(Lr,{path:"/chat",element:v.jsx(vS,{})}),v.jsx(Lr,{path:"/chat/:patientName",element:v.jsx(vS,{})}),v.jsx(Lr,{path:"*",element:v.jsx("h1",{className:"text-center text-red-500",children:"404 - Page Not Found"})})]}),v.jsx("div",{className:"p-4",children:v.jsx(PL,{to:"/pediatric-intake",className:"text-blue-500 underline",children:t==="en"?"Go to Pediatric Intake Form":"Ir al formulario peditrico"})})]})},vT=document.getElementById("root");if(!vT)throw new Error("Root element not found. Ensure index.html has <div id='root'></div>");const CW=I3(vT);CW.render(v.jsx(Ms.StrictMode,{children:v.jsx(AW,{})}));export{Jt as _,PW as c,Oy as g};
